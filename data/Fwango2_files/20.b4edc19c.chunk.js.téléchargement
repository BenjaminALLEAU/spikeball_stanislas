(this["webpackJsonp@fwango/client"]=this["webpackJsonp@fwango/client"]||[]).push([[20],{1009:function(e,t,n){"use strict";var r,a=n(598).default,o=n(1082).default,i=n(601).default,c=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,u=function(e,t){for(var n in t)c(e,n,{get:t[n],enumerable:!0})},m={};u(m,{Errors:function(){return M},Money:function(){return _},TournamentMatch:function(){return D},Utils:function(){return R},isMatchPlayed:function(){return p},playerKOTC:function(){return b},teamPoolPlay:function(){return j}}),e.exports=(r=m,function(e,t,n,r){if(t&&"object"===typeof t||"function"===typeof t){var a,o=i(l(t));try{var u=function(){var o=a.value;d.call(e,o)||o===n||c(e,o,{get:function(){return t[o]},enumerable:!(r=s(t,o))||r.enumerable})};for(o.s();!(a=o.n()).done;)u()}catch(m){o.e(m)}finally{o.f()}}return e}(c({},"__esModule",{value:!0}),r));var b={};u(b,{buildStatisticsFromMatches:function(){return h},emptyStatistics:function(){return f},getTeamStatisticsFromMatch:function(){return g}});var p=function(e){return!!e.winner||!!(1===e.numberOfGames&&e.games.length>0&&e.games[0]&&e.games[0].team1Score&&e.games[0].team1Score===e.games[0].team2Score)},f={wins:0,losses:0,draws:0,pf:0,pa:0,gf:0,ga:0,court:0,seed:0},h=function(e){var t,n={},r=i(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=a.courtNumber,c=a.team1,s=a.team2;if(c&&s&&2===c.leaguePlayers.length&&2===s.leaguePlayers.length){var l=0,d=0,u=0,m=0,b=0;if(a.games){var h,g=!1,j=i(a.games);try{for(j.s();!(h=j.n()).done;){var O=h.value;!O.team1Score&&0!==O.team1Score||!O.team2Score&&0!==O.team2Score||(g=!0,l+=O.team1Score,d+=O.team2Score,u+=O.team1Score>O.team2Score?1:0,m+=O.team1Score<O.team2Score?1:0)}}catch(E){j.e(E)}finally{j.f()}b=g&&1===a.numberOfGames&&l===d?1:0}for(var x=0,v=[0,1];x<v.length;x++){var y=v[x],S=n[c.leaguePlayers[y]||""]||f;n[c.leaguePlayers[y]||""]={wins:S.wins+(1===a.winner?1:0),losses:S.losses+(2===a.winner?1:0),draws:S.draws+b,pf:S.pf+l,pa:S.pa+d,gf:S.gf+u,ga:S.ga+m,court:S.court+(p(a)?o:0)}}for(var w=0,T=[0,1];w<T.length;w++){var N=T[w],I=n[s.leaguePlayers[N]||""]||f;n[s.leaguePlayers[N]||""]={wins:I.wins+(2===a.winner?1:0),losses:I.losses+(1===a.winner?1:0),draws:I.draws+b,pf:I.pf+d,pa:I.pa+l,gf:I.gf+m,ga:I.ga+u,court:I.court+(p(a)?o:0)}}}}}catch(E){r.e(E)}finally{r.f()}return n},g=function(e,t){var n=1===t?"team1Score":"team2Score",r=1===t?"team2Score":"team1Score";if(!e.games||0===e.games.length||!e.team1||!e.team2)return f;var a,o=0,c=0,s=0,l=0,d=i(e.games);try{for(d.s();!(a=d.n()).done;){var u=a.value;!u.team1Score&&0!==u.team1Score||!u.team2Score&&0!==u.team2Score||(o+=u[n]||0,c+=u[r]||0,s+=(u[n]||0)>(u[r]||0)?1:0,l+=(u[n]||0)<(u[r]||0)?1:0)}}catch(b){d.e(b)}finally{d.f()}var m=1===e.numberOfGames&&o===c;return{wins:e.winner===t?1:0,losses:e.winner===3-t?1:0,draws:m?1:0,pf:o,pa:c,gf:s,ga:l,court:e.winner||m?e.courtNumber:0}},j={};u(j,{buildStatisticsFromMatches:function(){return x},emptyStatistics:function(){return O},getTeamStatisticsFromMatch:function(){return v}});var O={wins:0,losses:0,draws:0,pf:0,pa:0,gf:0,ga:0,pool:0,seed:0},x=function(e){var t,n={},r=i(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=a.poolNumber;if(a.team1&&a.team2&&a.team1.leagueTeamID&&a.team2.leagueTeamID){var c=0,s=0,l=0,d=0,u=0;if(a.games){var m,b=!1,f=i(a.games);try{for(f.s();!(m=f.n()).done;){var h=m.value;!h.team1Score&&0!==h.team1Score||!h.team2Score&&0!==h.team2Score||(b=!0,c+=h.team1Score,s+=h.team2Score,l+=h.team1Score>h.team2Score?1:0,d+=h.team1Score<h.team2Score?1:0)}}catch(x){f.e(x)}finally{f.f()}u=b&&1===a.numberOfGames&&c===s?1:0}var g=n[a.team1.leagueTeamID]||O;n[a.team1.leagueTeamID]={wins:g.wins+(1===a.winner?1:0),losses:g.losses+(2===a.winner?1:0),draws:g.draws+u,pf:g.pf+c,pa:g.pa+s,gf:g.gf+l,ga:g.ga+d,pool:g.pool+(p(a)?o:0)};var j=n[a.team2.leagueTeamID]||O;n[a.team2.leagueTeamID]={wins:j.wins+(2===a.winner?1:0),losses:j.losses+(1===a.winner?1:0),draws:j.draws+u,pf:j.pf+s,pa:j.pa+c,gf:j.gf+d,ga:j.ga+l,pool:j.pool+(p(a)?o:0)}}}}catch(x){r.e(x)}finally{r.f()}return n},v=function(e,t){var n=1===t?"team1Score":"team2Score",r=1===t?"team2Score":"team1Score";if(!e.games||0===e.games.length||!e.team1||!e.team2||!e.team1.leagueTeamID||!e.team2.leagueTeamID)return O;var a,o=0,c=0,s=0,l=0,d=i(e.games);try{for(d.s();!(a=d.n()).done;){var u=a.value;!u.team1Score&&0!==u.team1Score||!u.team2Score&&0!==u.team2Score||(o+=u[n]||0,c+=u[r]||0,s+=(u[n]||0)>(u[r]||0)?1:0,l+=(u[n]||0)<(u[r]||0)?1:0)}}catch(b){d.e(b)}finally{d.f()}var m=1===e.numberOfGames&&o===c;return{wins:e.winner===t?1:0,losses:e.winner===3-t?1:0,draws:m?1:0,pf:o,pa:c,gf:s,ga:l,pool:e.winner||m?e.poolNumber:0}},y={usd:{code:"usd",symbol:"$",decimals:2,minimumCharge:150},eur:{code:"eur",symbol:"\u20ac",decimals:2,minimumCharge:150},cad:{code:"cad",symbol:"$",decimals:2,minimumCharge:150},aud:{code:"aud",symbol:"$",decimals:2,minimumCharge:150},gbp:{code:"gbp",symbol:"\xa3",decimals:2,minimumCharge:150},ron:{code:"ron",symbol:"lei",decimals:2,minimumCharge:650},dkk:{code:"dkk",symbol:"kr.",decimals:2,minimumCharge:1e3},czk:{code:"czk",symbol:"K\u010d",decimals:2,minimumCharge:3500},nok:{code:"nok",symbol:"kr",decimals:2,minimumCharge:1500},pln:{code:"pln",symbol:"z\u0142",decimals:2,minimumCharge:800},sek:{code:"sek",symbol:"kr",decimals:2,minimumCharge:2e3}};var S={};function w(e,t,n){var r=new Intl.NumberFormat("en-us",o({style:"currency",currency:t},n)).format(Math.abs(e/Math.pow(10,y[t].decimals)));return e<0?"(".concat(r,")"):r}function T(e,t,n){if(!n)throw Error("Invalid currency.");var r=n.percentage,a=n.fix,o=0,i=0;return t?(o=0===e?0:Math.round((e-a)/(1+r/100)),i=0===e?0:e-o):(o=e,i=0===e?0:Math.round(e*(r/100)+a)),{total:o+i,costBeforeFees:o,fees:i}}function N(e){var t=e.currency,n=e.transactionFee;return T(y[t].minimumCharge,!0,n).costBeforeFees}u(S,{calculateCosts:function(){return T},formatPrice:function(){return w},getMinimumChargeBeforeFees:function(){return N}});var I={};function E(e){var t=e.tournamentTeam1,n=e.tournamentTeam2,r=C(t),o=C(n),i=a(new Set([].concat(a(r.users),a(o.users)))),c=a(new Set([].concat(a(r.usersInvited),a(o.usersInvited)))).filter((function(e){return!i.includes(e)})),s=[].concat(a(i),a(c));return{users:i,usersInvited:c,usersAll:s}}function C(e){if(!e||"denied"===e.invitationStatus||"cancelled"===e.invitationStatus)return{users:[],usersInvited:[],usersAll:[]};var t=e.team,n=[],r=[];if("id"in t){var o=e.invitation&&"pending"===e.invitationStatus;Object.values(t.players||{}).forEach((function(e){e.uid&&(t.users.includes(e.uid)?o?r.push(e.uid):n.push(e.uid):e.invitation&&"pending"===e.invitationStatus&&r.push(e.uid))}))}n=a(new Set(n)),r=a(new Set(r)).filter((function(e){return!n.includes(e)}));var i=[].concat(a(n),a(r));return{users:n,usersInvited:r,usersAll:i}}function k(e,t){var n=C(e),r=n.users,a=n.usersInvited,o=C(t),i=o.users,c=o.usersInvited,s=!(r.length===i.length&&r.every((function(e){return i.includes(e)}))),l=!(a.length===c.length&&a.every((function(e){return c.includes(e)})));return s||l}function P(e){var t=0,n=0;return e.games?(e.games.forEach((function(e){(e.team1Score&&e.team2Score||e.team1Score&&0===e.team2Score||e.team2Score&&0===e.team1Score)&&(e.team1Score>e.team2Score?t++:e.team1Score<e.team2Score&&n++)})),t>e.numberOfGames/2&&e.team1?1:n>e.numberOfGames/2&&e.team2?2:null):null}u(I,{didTournamentTeamUsersChange:function(){return k},getMatchUsers:function(){return E},getWinnerTeam:function(){return P}});var _=o(o({},S),{},{currencies:y}),M={getErrorMessage:function(e){return function(e){if("object"===typeof(t=e)&&null!==t&&"message"in t&&"string"===typeof t.message)return e;var t;try{return new Error(JSON.stringify(e))}catch(n){return new Error(String(e))}}(e).message},getErrorName:function(e){return function(e){if("object"===typeof(t=e)&&null!==t&&"name"in t&&"string"===typeof t.name)return e;var t;try{return new Error(JSON.stringify(e))}catch(n){return new Error(String(e))}}(e).name}},R={slugify:function(e,t){var n,r="\xe0\xe1\xe2\xe4\xe6\xe3\xe5\u0101\u0103\u0105\xe7\u0107\u010d\u0111\u010f\xe8\xe9\xea\xeb\u0113\u0117\u0119\u011b\u011f\u01f5\u1e27\xee\xef\xed\u012b\u012f\xec\u0142\u1e3f\xf1\u0144\u01f9\u0148\xf4\xf6\xf2\xf3\u0153\xf8\u014d\xf5\u1e55\u0155\u0159\xdf\u015b\u0161\u015f\u0219\u0165\u021b\xfb\xfc\xf9\xfa\u016b\u01d8\u016f\u0171\u0173\u1e83\u1e8d\xff\xfd\u017e\u017a\u017c\xb7/_,:;",a=new RegExp(r.split("").join("|"),"g"),o=(null==t?void 0:t.allowUppercase)?e.toString():e.toString().toLowerCase();return n=o.replace(/\s+/g,"").replace(a,(function(e){return"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnooooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(r.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,""),(null==t?void 0:t.doNotTrimEnd)?n:n.replace(/-+$/,"")}},D=o({},I)},1010:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(21),a=n(1),o=n(16),i=n(5),c=n(4),s=n(2),l=n.n(s),d=n(962),u=n(1011),m=n(0),b=c.c.div.withConfig({displayName:"MatchGames__Container",componentId:"sc-1dqkm5i-0"})(["flex-shrink:0;display:flex;.team-1-caret{font-size:1.15rem;margin-right:0.25rem;margin-bottom:0.25rem;visibility:",";}.team-2-caret{font-size:1.15rem;margin-right:0.25rem;visibility:",";}"],(function(e){return 1===e.winner?"visible":"hidden"}),(function(e){return 2===e.winner?"visible":"hidden"})),p=l.a.forwardRef((function(e,t){var n=e.match.games,c=Object(s.useState)(n),l=Object(i.a)(c,2),p=l[0],f=l[1],h=Object(s.useState)(n),g=Object(i.a)(h,2),j=g[0],O=g[1];Object(s.useEffect)((function(){n!==p&&(f(n),O(n))}),[n,p]);for(var x=function(e,t,n){var i=1===t?"team1Score":"team2Score",c=1===t?"team2Score":"team1Score",s=Object(o.a)(j);s[e]=Object(a.a)(Object(a.a)({},s[e]),{},Object(r.a)({},i,n?parseInt(n):null)),null===s[e][i]&&null===s[e][c]&&s.splice(e,1),O(s)},v=function(){if(e.canEdit){var t=!0;j.forEach((function(e){(!e.team1Score&&0!==e.team1Score&&e.team2Score||!e.team2Score&&0!==e.team2Score&&e.team1Score)&&(t=!1)}));var n=!1;if(j.some((function(e,t){return(!p[t]||p[t].team1Score!==e.team1Score||p[t].team2Score!==e.team2Score)&&(n=!0,!0)})),n||p.some((function(e,t){return(!j[t]||j[t].team1Score!==e.team1Score||j[t].team2Score!==e.team2Score)&&(n=!0,!0)})),t&&n){var r=d.a[e.match.format].getWinningTeam(Object(a.a)(Object(a.a)({},e.match),{},{games:j}));e.saveScore(e.match,Object(a.a)(Object(a.a)({},e.match),{},{games:j,winner:r}))}}},y=[],S=0;S<e.match.numberOfGames;S++){var w=1===e.match.numberOfGames||0===S&&(!j[S]||!j[S].team1Score||!j[S].team2Score)||(!j[S]||!j[S].team1Score||!j[S].team2Score)&&j[S-1]&&j[S-1].team1Score&&j[S-1].team2Score;y.push(Object(m.jsx)(u.a,{ref:w?t:void 0,matchNumber:e.match.matchNumber,canEdit:e.canEdit,editMode:e.editMode,setEditMode:e.setEditMode,values:j[S],gameIndex:S,handleChange:x,submitScores:v},S))}return Object(m.jsxs)(b,{winner:e.match.winner,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"team-1-caret",children:Object(m.jsx)("i",{className:"fas fa-caret-right"})}),Object(m.jsx)("div",{className:"team-2-caret",children:Object(m.jsx)("i",{className:"fas fa-caret-right"})})]}),y]})}));t.b=p},1011:function(e,t,n){"use strict";var r,a,o=n(14),i=n(4),c=n(2),s=n.n(c),l=n(198),d=n(9),u=n(0),m=i.c.form.withConfig({displayName:"MatchGame__Container",componentId:"sc-1asd8lj-0"})(["> div:first-child{margin-bottom:0.25rem;}"]),b=Object(i.c)(l.b).withConfig({displayName:"MatchGame__StyledInput",componentId:"sc-1asd8lj-1"})(["font-size:",";line-height:",";margin-left:",";height:calc(1rem * 1.5 + 0.2rem);width:",";border-radius:0.5rem;padding:0.1rem 0.25rem;text-align:center;background:",";font-weight:",";&::selection{background:",";}user-select:",";&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;}-moz-appearance:textfield;&:focus{font-weight:400 !important;}&:disabled{color:inherit;}"," ",""],(function(e){return e.editMode?"1rem":"1.15rem"}),(function(e){return e.editMode?1.15*1.5:1.5}),(function(e){return e.editMode?"0.25rem":"0"}),(function(e){var t=e.editMode,n=e.digits;return t?n>2?"2.75rem":"2.25rem":n>2?"2.5rem":"2rem"}),(function(e){var t=e.editMode,n=e.canEdit,r=e.theme;return t&&n?r.colors.lightgray:" transparent"}),(function(e){return e.bold?700:400}),(function(e){return e.editMode?"rgba("+e.theme.colors.primary+", 0.3)":"transparent"}),(function(e){return e.editMode?"auto":"none"}),d.b.greaterThan("md")(r||(r=Object(o.a)(["\n    padding: 0.1rem 0.5rem;\n    width: ",";\n  "])),(function(e){return e.digits>2?"3rem":"2.5rem"})),d.b.between("lg","xl")(a||(a=Object(o.a)(["\n    padding: 0.1rem 0.25rem;\n    width: ",";\n  "])),(function(e){return e.digits>2?"2.75rem":"2.25rem"}))),p=s.a.forwardRef((function(e,t){var n=e.values,r=n&&n.team1Score&&n.team2Score?n.team1Score>n.team2Score?n.team1Score.toString().length:n.team2Score.toString().length:0,a=function(t,n){t.target.value&&parseInt(t.target.value)>999||e.handleChange(e.gameIndex,n,t.target.value)},o=function(e){"Enter"===e.key&&e.currentTarget.blur()},i=function(){var t=document.activeElement;t&&t.classList&&t.classList.contains("match-"+e.matchNumber)||e.setEditMode(!1),e.submitScores()},c="undefined"!==typeof InstallTrigger;return Object(u.jsxs)(m,{className:"game",children:[Object(u.jsx)("div",{children:Object(u.jsx)(b,{ref:t,className:"team-1-score match-"+(e.matchNumber||"12345"),disabled:!e.canEdit,canEdit:e.canEdit,editMode:e.editMode,digits:r,bold:!!(n&&n.team1Score&&n.team2Score&&n.team1Score>n.team2Score),type:"number",placeholder:e.editMode?"":"-",value:n&&n.team1Score?n.team1Score:"",onChange:function(e){return a(e,1)},onBlur:function(){c?setTimeout(i,1):i()},onFocus:function(){c?setTimeout((function(){return e.setEditMode(!0)}),1):e.setEditMode(!0)},onClick:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyPress:o})}),Object(u.jsx)("div",{children:Object(u.jsx)(b,{className:"team-2-score match-"+e.matchNumber,disabled:!e.canEdit,canEdit:e.canEdit,editMode:e.editMode,digits:r,bold:!!(n&&n.team1Score&&n.team2Score&&n.team1Score<n.team2Score),type:"number",placeholder:e.editMode?"":"-",value:n&&n.team2Score?n.team2Score:"",onChange:function(e){return a(e,2)},onBlur:function(){c?setTimeout(i,1):i()},onFocus:function(){c?setTimeout((function(){return e.setEditMode(!0)}),1):e.setEditMode(!0)},onClick:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyPress:o})})]})}));t.a=p},1012:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),a=n(2),o=n(264),i=n(948),c=n(210),s=n(0),l=r.c.div.withConfig({displayName:"MatchHeader__Container",componentId:"sc-ezv43f-0"})(["flex-shrink:0;position:relative;padding-right:",";margin-top:",";margin-bottom:",";margin-right:",";border-bottom:",";padding-bottom:",";> div{display:flex;}.wrapper{flex-grow:1;line-height:1;visibility:",";display:",";align-items:center;justify-content:space-between;color:",";}.match-number{display:flex;justify-content:center;align-items:center;font-size:",";text-align:",";margin-bottom:",";}.subtitle{font-size:",";text-align:",';}&:after{content:"";position:absolute;height:2.25rem;width:',";background:",";opacity:0.3;right:0;top:0.375rem;}"],(function(e){return e.editMode?0:"1rem"}),(function(e){return e.editMode?"0.25rem":0}),(function(e){return e.editMode?"0.9rem":0}),(function(e){return e.editMode?"0.2rem":0}),(function(e){var t=e.editMode,n=e.theme;return t?"1px solid "+n.colors.darkblues[8]:0}),(function(e){return e.editMode?"0.6rem":0}),(function(e){return e.loading?"hidden":"visible"}),(function(e){return e.editMode?"flex":"block"}),(function(e){return e.theme.colors.darkblues[4]}),(function(e){return e.editMode?"1.2rem":"1.85rem"}),(function(e){return e.editMode?"left":"center"}),(function(e){return e.editMode?"0rem":"0.25rem"}),(function(e){return e.editMode?"1rem":"0.9rem"}),(function(e){return e.editMode?"left":"center"}),(function(e){return e.editMode?0:"1.2px"}),(function(e){return e.theme.colors.darkblue})),d=r.c.div.withConfig({displayName:"MatchHeader__DropdownContainer",componentId:"sc-ezv43f-1"})(["font-size:1rem;margin-left:0.5rem;.icon{color:",";padding:0rem 0.5rem;cursor:pointer;&:hover{color:",";}}"],(function(e){return e.theme.colors.darkblues[4]}),(function(e){return e.theme.colors.darkblue}));t.b=function(e){var t=Object(a.useContext)(i.b).role,n=e.match,r=e.editMode,u="";"poolNumber"in n?u="Pool "+n.poolNumber:"courtNumber"in n&&(u="Court "+n.courtNumber);var m=t===i.a.admin||t===i.a.moderator,b=[{label:{text:"Delete match",iconClassName:"far fa-trash-alt"},onClick:e.deleteMatch}];return Object(s.jsx)(l,{loading:!!n.saving,editMode:r,children:Object(s.jsx)(o.a,{active:!!n.saving,whiteOverlay:!0,spinnerSize:20,style:{borderRadius:"0.75rem"},children:Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsx)("div",{className:"match-number",children:Object(s.jsxs)("div",{children:[r&&"Match #",n.matchNumber]})}),Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsxs)("div",{className:"subtitle",children:[r&&Object(s.jsxs)("span",{children:["Round ",n.round]}),r&&Object(s.jsx)("span",{children:"\xa0 | \xa0"}),u]}),r&&m&&Object(s.jsx)(d,{children:Object(s.jsx)(c.a,{items:b,placement:"BOTTOM_RIGHT",children:Object(s.jsx)("i",{className:"fas fa-ellipsis-h icon"})})})]})]})})})}},1041:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return j}));var r=n(5),a=n(4),o=n(2),i=n(962),c=n(1010),s=n(60),l=n.n(s),d=n(948),u=n(18),m=(n(98),n(1012)),b=n(262),p=n(0),f=a.c.div.withConfig({displayName:"Match__Container",componentId:"sc-exmma4-0"})(["padding:",";border-radius:0.75rem;background:",";box-shadow:0 3px 6px rgba(0,0,0,0.08);margin-bottom:0.85rem;cursor:",";display:",";align-items:center;transform:",";transition:all 0.2s ease-in-out;z-index:",";position:relative;"],(function(e){return e.editMode?"0.8rem 1.15rem":"0.8rem 1rem"}),(function(e){return e.theme.colors.whites[0]}),(function(e){return e.editMode?"initial":"pointer"}),(function(e){return e.editMode?"block":"flex"}),(function(e){return e.editMode?"scale(1.05)":"none"}),(function(e){return e.editMode?11:"auto"})),h=a.c.div.withConfig({displayName:"Match__MatchBody",componentId:"sc-exmma4-1"})(["display:flex;flex-grow:1;overflow:hidden;"]),g=a.c.span.withConfig({displayName:"Match__Overlay",componentId:"sc-exmma4-2"})(["position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.25);z-index:10;"]),j=a.c.div.withConfig({displayName:"Match__TeamContainer",componentId:"sc-exmma4-3"})(["flex-grow:1;padding:",";font-size:1.15rem;overflow:hidden;> div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&:first-child{margin-bottom:0.1rem;}}.winner{font-weight:700;}"],(function(e){return e.editMode?"0 1.25rem 0 0":"0 1.25rem"}));t.c=function(e){var t=Object(o.useState)(!1),n=Object(r.a)(t,2),a=n[0],s=n[1],O=Object(o.useContext)(d.b).role,x=Object(o.useRef)(null),v=e.leaguePermissions,y=v.canReportAnyScore,S=v.canReportOwnScore,w=u.a.auth().currentUser,T=w?w.uid:void 0,N=e.match,I=e.leagueTeams,E=e.leaguePlayers,C=i.a[N.format],k=!!T&&C.isOwnGame(T,N,I||{},E||{}),P=!!N.team1&&!!N.team2&&O!==d.a.guest&&(O===d.a.player&&(y||S&&k)||O===d.a.admin||O===d.a.moderator||O===d.a.editor),_=C.getMatchTeam1(N,e.leagueTeams||{},e.leaguePlayers||{}),M=C.getMatchTeam2(N,e.leagueTeams||{},e.leaguePlayers||{}),R=document.getElementById("root");return Object(p.jsxs)(f,{editMode:a,canEdit:P,onClick:function(e){a?e.preventDefault():(s(!0),P&&x&&x.current&&x.current.focus())},onMouseDown:function(e){a&&e.preventDefault()},children:[Object(p.jsx)(m.b,{match:N,editMode:a,deleteMatch:function(){var t=Object(p.jsx)("div",{children:"Are you sure you want to delete this match?"});Object(b.a)(t,{proceedText:"Delete",proceedTheme:"danger"}).then((function(){e.deleteMatch(e.match)}))}}),Object(p.jsxs)(h,{children:[Object(p.jsxs)(j,{editMode:a,children:[Object(p.jsx)("div",{className:1===N.winner?"winner":"",children:_}),Object(p.jsx)("div",{className:2===N.winner?"winner":"",children:M})]}),Object(p.jsx)(c.b,{ref:x,match:N,saveScore:e.saveScore,canEdit:P,editMode:a,setEditMode:s})]}),a&&R&&l.a.createPortal(Object(p.jsx)(g,{onClick:function(e){e.stopPropagation(),s(!1)},onMouseDown:function(e){e.stopPropagation()}}),R)]})}},1065:function(e,t,n){"use strict";function r(e){return function(t){return{type:e,payload:t}}}n.d(t,"a",(function(){return r}))},1127:function(e,t,n){"use strict";function r(e){return function(t){return{type:e,payload:t}}}n.d(t,"a",(function(){return r}))},1390:function(e,t){},1392:function(e,t){},1402:function(e,t){},1404:function(e,t){},1429:function(e,t){},1431:function(e,t){},1432:function(e,t){},1437:function(e,t){},1439:function(e,t){},1458:function(e,t){},1470:function(e,t){},1473:function(e,t){},1893:function(e,t,n){"use strict";n.r(t);var r,a,o,i,c,s,l,d,u,m,b,p,f,h,g,j,O,x,v,y,S,w,T,N,I,E=n(1),C=n(2),k=n(260),P=n(213),_=n(965),M=n(948),R=n(114),D=n(5),L=n(7),G=n(11),A=n(20),z=n(14),F=n(4),U=n(79),B=n(78),W=n(210),H=n(31),Q=n(66),V=n(18),Y=(n(98),n(977)),q=n(9),K=n(163),J=n(0),$=["isExpanded","sidebarWidth"],X=F.c.div.withConfig({displayName:"SessionSideMenu__Container",componentId:"sc-alhch6-0"})(["position:fixed;top:0;left:",";bottom:0;overflow:auto;width:",";display:flex;flex-direction:column;justify-content:space-between;z-index:999;transition:all 0.25s ease;background:",";.logo-container,.user-container{display:flex;margin:1.5rem 0rem;align-items:center;cursor:pointer;.icon-container{display:flex;justify-content:center;width:",";flex-shrink:0;> div{display:flex;}}.label{display:",";overflow:hidden;white-space:nowrap;}}",""],(function(e){return e.isOpen?0:e.isExpanded?-1*e.sidebarExpandedWidth+"px":-1*e.sidebarWidth+"px"}),(function(e){return e.isExpanded?e.sidebarExpandedWidth+"px":e.sidebarWidth+"px"}),(function(e){return e.theme.colors.whites[0]}),(function(e){return e.sidebarWidth+"px"}),(function(e){return e.isExpanded?"block":"none"}),q.b.greaterThan("md")(r||(r=Object(z.a)(["\n    .centered-items {\n      margin-bottom: 36px;\n    }\n  "])))),Z=Object(F.c)(U.a).withConfig({displayName:"SessionSideMenu__StyledLogo",componentId:"sc-alhch6-1"})(["width:36px;"]),ee=Object(F.c)((function(e){e.isExpanded,e.sidebarWidth;var t=Object(A.a)(e,$);return Object(J.jsx)(H.c,Object(E.a)({},t))})).withConfig({displayName:"SessionSideMenu__SideMenuItem",componentId:"sc-alhch6-2"})(["width:100%;display:flex;padding:0.5rem 0;margin:1.5rem 0rem;cursor:pointer;font-size:1.15rem;opacity:0.9;color:inherit;.icon-container{width:",";text-align:center;flex-shrink:0;}.label{display:",";overflow:hidden;white-space:nowrap;margin-left:-0.25rem;}&.active{color:",";}&:hover{text-decoration:none;}&:not(.active):hover{opacity:1;color:inherit;}",""],(function(e){return e.sidebarWidth+"px"}),(function(e){return e.isExpanded?"block":"none"}),(function(e){return e.theme.colors.primary}),q.b.greaterThan("md")(a||(a=Object(z.a)(["\n    margin: 2rem 0;\n  "])))),te=F.c.div.withConfig({displayName:"SessionSideMenu__ExpandButton",componentId:"sc-alhch6-3"})(["display:none;width:100%;padding:0.5rem 0rem;cursor:pointer;font-size:1.25rem;opacity:0.4;width:",";&:hover{opacity:1;}",""],(function(e){return e.sidebarWidth+"px"}),q.b.greaterThan("md")(o||(o=Object(z.a)(["\n    display: flex;\n    justify-content: center;\n  "])))),ne=function(e){var t=Object(C.useContext)(Y.a),n=t.width,r=t.expandedWidth,a=Object(C.useContext)(M.b).role,o=Object(K.a)(["lg"],[!0],!1),i=e.matchesAreGenerated&&!o,c=Object(Q.h)(),s=Object(Q.k)("")||{url:""},l=function(){var e=Object(G.a)(Object(L.a)().mark((function e(){return Object(L.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.auth().signOut();case 2:c.push("/signin");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=e.userFromDB?[{label:{text:"Sign out",iconClassName:"fas fa-sign-out-alt"},onClick:l}]:[{label:{text:"Sign in",iconClassName:"fas fa-user"},path:"/signin"}],u=function(){e.setIsSidebarExpanded(!1),e.closeSidebar()};return Object(J.jsxs)(X,{isOpen:e.isOpen,isExpanded:e.isSidebarExpanded,sidebarWidth:n,sidebarExpandedWidth:r,children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{className:"logo-container",children:Object(J.jsx)("div",{className:"icon-container",children:Object(J.jsx)(H.b,{to:"/",children:Object(J.jsx)(Z,{})})})}),Object(J.jsx)(te,{title:"Expand sidebar",isExpanded:e.isSidebarExpanded,sidebarWidth:n,onClick:function(){return e.setIsSidebarExpanded((function(e){return!e}))},children:e.isSidebarExpanded?Object(J.jsx)("i",{className:"fas fa-chevron-left icon"}):Object(J.jsx)("i",{className:"fas fa-chevron-right icon"})}),Object(J.jsxs)(ee,{to:"/"+e.leagueUrl,activeClassName:"never-active",title:"League Home",isExpanded:e.isSidebarExpanded,sidebarWidth:n,onClick:u,style:{margin:"1.25rem 0"},children:[Object(J.jsx)("div",{className:"icon-container",children:Object(J.jsx)("i",{className:"fas fa-home icon"})}),Object(J.jsx)("div",{className:"label",children:"League Home"})]})]}),Object(J.jsxs)("div",{className:"centered-items",children:[(a===M.a.admin||i)&&Object(J.jsxs)(ee,{to:s.url,activeClassName:"active",title:"Scores",exact:!0,isExpanded:e.isSidebarExpanded,sidebarWidth:n,onClick:u,children:[Object(J.jsx)("div",{className:"icon-container",children:Object(J.jsx)("i",{className:"fas fa-volleyball-ball icon"})}),Object(J.jsx)("div",{className:"label",children:"Scores"})]}),i&&Object(J.jsxs)(ee,{to:"".concat(s.url,"/standings"),activeClassName:"active",title:"Standings",exact:!0,isExpanded:e.isSidebarExpanded,sidebarWidth:n,onClick:u,children:[Object(J.jsx)("div",{className:"icon-container",children:Object(J.jsx)("i",{className:"fas fa-list-ol icon"})}),Object(J.jsx)("div",{className:"label",children:"Standings"})]}),a===M.a.admin&&Object(J.jsxs)(ee,{to:"".concat(s.url,"/setup"),activeClassName:"active",title:"Setup",isExpanded:e.isSidebarExpanded,sidebarWidth:n,onClick:u,children:[Object(J.jsx)("div",{className:"icon-container",children:Object(J.jsx)("i",{className:"far fa-clipboard icon"})}),Object(J.jsx)("div",{className:"label",children:"Setup"})]})]}),Object(J.jsxs)("div",{className:"user-container",onClick:e.isSidebarExpanded?l:function(){},children:[Object(J.jsx)("div",{className:"icon-container",children:Object(J.jsx)(W.a,{items:e.isSidebarExpanded?[]:d,placement:"RIGHT_BOTTOM",fixed:!0,children:Object(J.jsx)(B.a,{user:e.userFromDB||void 0,size:36})})}),Object(J.jsx)("div",{className:"label",children:e.userFromDB?"Sign out":"Sign in"})]})]})},re=F.c.div.withConfig({displayName:"SessionTopMenu__Container",componentId:"sc-1y0y8mp-0"})(["position:fixed;top:0;left:0;right:0;z-index:997;display:flex;justify-content:space-between;align-items:center;background:",";padding:0.75rem 1rem;",""],(function(e){return e.theme.colors.whites[0]}),q.b.greaterThan("md")(i||(i=Object(z.a)(["\n      display: none;\n  "])))),ae=Object(F.c)(H.b).withConfig({displayName:"SessionTopMenu__LogoLink",componentId:"sc-1y0y8mp-1"})(["width:32px;height:auto;"]),oe=function(e){return Object(J.jsxs)(re,{children:[Object(J.jsx)("div",{onClick:e.openSidebar,children:Object(J.jsx)("i",{className:"fas fa-bars"})}),Object(J.jsx)("div",{children:Object(J.jsx)(ae,{to:"/",children:Object(J.jsx)(U.a,{style:{width:"32px"}})})}),Object(J.jsx)(B.a,{user:e.userFromDB||void 0,size:30})]})},ie=n(50),ce=function(e){var t=Object(ie.b)().userFromDB;return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(oe,{userFromDB:t,openSidebar:function(){return e.setIsSidebarOpen(!0)}}),Object(J.jsx)(ne,{userFromDB:t,leagueUrl:e.leagueUrl,matchesAreGenerated:e.matchesAreGenerated,leaguePermissions:e.leaguePermissions,isOpen:e.isSidebarOpen||!e.isMobile,isMobile:e.isMobile,closeSidebar:function(){return e.setIsSidebarOpen(!1)},isSidebarExpanded:e.isSidebarExpanded||e.isMobile,setIsSidebarExpanded:e.setIsSidebarExpanded})]})},se=n(428),le=n(1127),de=(n(160),n(27)),ue=function(e){return!!e.winner||!!(1===e.numberOfGames&&e.games.length>0&&e.games[0]&&e.games[0].team1Score&&e.games[0].team1Score===e.games[0].team2Score)},me=n(68),be=function(e,t,n){return function(){var r=Object(G.a)(Object(L.a)().mark((function r(a){var o,i,c,s,l,d,u,m,b,p;return Object(L.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(Object(le.a)("GET_SESSION_REQUEST")({id:t,loading:!0})),o=V.a.firestore(),i=o.collection("leagues").doc(e).collection("sessions").doc(t),r.prev=3,r.next=6,Promise.all([i.get(),i.collection("teamPools").get(),i.collection("playerPools").get()]);case 6:if(c=r.sent,s=Object(D.a)(c,3),l=s[0],d=s[1],u=s[2],l.exists){r.next=13;break}throw Error("Could not find this session.");case 13:d.size>0&&(m={},d.forEach((function(e){m&&(m[e.id]=e.data())}))),u.size>0&&(b={},u.forEach((function(e){b&&(b[e.id]=e.data())}))),p=Object(E.a)(Object(E.a)({teamPools:m,playerPools:b},l.data()),{},{id:l.id}),a(Object(le.a)("GET_SESSION_SUCCESS")(p)),r.next=24;break;case 19:r.prev=19,r.t0=r.catch(3),a(Object(le.a)("GET_SESSION_REQUEST")({id:t,loading:!1})),Object(de.a)("The resource you are trying to access does not exist or is not public."),n&&n();case 24:case"end":return r.stop()}}),r,null,[[3,19]])})));return function(e){return r.apply(this,arguments)}}()},pe=function(e,t,n,r,a,o){return function(){var i=Object(G.a)(Object(L.a)().mark((function i(c){var s,l,d,u,m,b;return Object(L.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c(Object(le.a)("SAVE_LEAGUE_SCORE_REQUEST")({id:r.id,loading:!0})),i.prev=1,s=V.a.firestore(),l=s.batch(),d=s.collection("leagues").doc(e).collection("sessions").doc(t),l.update(d.collection("matches").doc(r.id),{games:r.games,winner:r.winner}),u=ue(n)?1:0,m=ue(r)?1:0,u!==m&&l.update(d,{playedMatchCount:V.a.firestore.FieldValue.increment(m-u)}),i.next=11,l.commit();case 11:b=o.updateStandingsFromMatch(a,n,r),c(Object(le.a)("SAVE_LEAGUE_SCORE_SUCCESS")({id:r.id,increment:m-u,match:r})),c(Object(le.a)("SET_SESSION_STATISTICS")(b)),i.next=20;break;case 16:i.prev=16,i.t0=i.catch(1),c(Object(le.a)("SAVE_LEAGUE_SCORE_REQUEST")({id:r.id,loading:!1})),Object(de.a)("Sorry, a problem occured while trying to save your score. Please try again or contact an administrator.");case 20:case"end":return i.stop()}}),i,null,[[1,16]])})));return function(e){return i.apply(this,arguments)}}()},fe=function(e,t,n,r,a,o){return function(){var i=Object(G.a)(Object(L.a)().mark((function i(c){var s,l,d,u,m;return Object(L.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c(Object(le.a)("REPORT_SCORES_REQUEST")(!0)),i.prev=1,s=V.a.firestore(),l=s.batch(),d=s.collection("leagues").doc(e).collection("sessions").doc(t),u=0,m=Object(E.a)({},a),r.forEach((function(e,t){l.update(d.collection("matches").doc(e.id),{games:e.games,winner:e.winner});var r=ue(n[t])?1:0,a=ue(e)?1:0;r!==a&&(u+=a-r),m=o.updateStandingsFromMatch(m,n[t],e)})),l.update(d,{playedMatchCount:V.a.firestore.FieldValue.increment(u)}),i.next=11,l.commit();case 11:c(Object(le.a)("REPORT_SCORES_SUCCESS")({increment:u,matches:r})),c(Object(le.a)("SET_SESSION_STATISTICS")(m)),i.next=19;break;case 15:i.prev=15,i.t0=i.catch(1),c(Object(le.a)("REPORT_SCORES_REQUEST")(!1)),Object(de.a)("Sorry, a problem occured while trying to save your scores. Please try again or contact an administrator.");case 19:case"end":return i.stop()}}),i,null,[[1,15]])})));return function(e){return i.apply(this,arguments)}}()},he=function(e,t,n){return function(){var r=Object(G.a)(Object(L.a)().mark((function r(a){var o,i;return Object(L.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(Object(le.a)("DELETE_ROUND_REQUEST")(!0)),r.prev=1,o=Object(me.a)("league-deleteRound"),r.next=5,o({leagueID:e,sessionID:t,round:n});case 5:i=r.sent,a(Object(le.a)("DELETE_ROUND_SUCCESS")(Object(E.a)(Object(E.a)({},i.data),{},{id:t}))),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),a(Object(le.a)("DELETE_ROUND_REQUEST")(!1)),Object(de.a)(r.t0.message||"Sorry, a problem occured while trying to delete your round. Please try again or contact an administrator.");case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()},ge=function(e,t,n){return function(){var r=Object(G.a)(Object(L.a)().mark((function r(a){var o,i,c,s,l;return Object(L.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=V.a.firestore(),i=o.collection("leagues").doc(e).collection("sessions").doc(t),c=i.collection("matches").doc(n.id),s=ue(n),r.prev=4,(l=o.batch()).delete(c),l.update(i,{matchCount:V.a.firestore.FieldValue.increment(-1),playedMatchCount:V.a.firestore.FieldValue.increment(s?-1:0)}),r.next=10,c.update({deletedAt:V.a.firestore.FieldValue.serverTimestamp()});case 10:return r.next=12,l.commit();case 12:a(Object(le.a)("DELETE_MATCH_SUCCESS")({matchWasPlayed:s})),r.next=20;break;case 15:return r.prev=15,r.t0=r.catch(4),r.next=19,c.update({deletedAt:V.a.firestore.FieldValue.delete()});case 19:Object(de.a)("Sorry, a problem occured while trying to save your scores. Please try again or contact an administrator.");case 20:case"end":return r.stop()}}),r,null,[[4,15]])})));return function(e){return r.apply(this,arguments)}}()},je=function(e){return function(t){t(Object(le.a)("SET_SESSION_MATCHES")(e))}},Oe=function(e){return function(t){t(Object(le.a)("UPDATE_SESSION_MATCHES")(e))}},xe=function(e){return function(t){t(Object(le.a)("SET_SESSION_STATISTICS")(e))}},ve=n(40),ye=n.n(ve),Se=n(435),we=n(1305),Te=n.n(we),Ne=n(1306),Ie=n(962),Ee=n(1262),Ce=n.n(Ee),ke=function(){var e=Object(G.a)(Object(L.a)().mark((function e(t,n,r,a){var o,i,c,s,l;return Object(L.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=new Te.a.Workbook).views=[{x:0,y:0,width:1e4,height:2e4,firstSheet:0,activeTab:0,visibility:"visible"},{}],Pe(o,"All matches",n,r,a),i=n[0]?n[0].format:null,e.t0=i,e.next="teamPoolPlay"===e.t0?7:"playerKOTC"===e.t0?10:13;break;case 7:return c=Ce()(n,"poolNumber"),Object.entries(c).forEach((function(e){var t=Object(D.a)(e,2),n=t[0],i=t[1];Pe(o,"Pool "+n,i,r,a)})),e.abrupt("break",13);case 10:return s=Ce()(n,"courtNumber"),Object.entries(s).forEach((function(e){var t=Object(D.a)(e,2),n=t[0],i=t[1];Pe(o,"Court "+n,i,r,a)})),e.abrupt("break",13);case 13:return e.next=15,o.xlsx.writeBuffer();case 15:l=e.sent,Object(Ne.saveAs)(new Blob([l]),t+" - Schedule.xlsx");case 17:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Pe=function(e,t,n,r,a){var o=n[0]?n[0].format:null,i=o?Ie.a[o]:null;if(i){var c=e.addWorksheet(t,{properties:{defaultRowHeight:25},pageSetup:{horizontalCentered:!0,fitToPage:!0,fitToWidth:1,margins:{left:.7,right:.7,top:1.1,bottom:.75,header:.3,footer:.3}}});c.headerFooter.oddHeader="&30"+t,c.headerFooter.evenHeader="&30"+t,c.columns=[{key:"matchNumber",width:10,style:{alignment:{horizontal:"center",vertical:"middle"}}},{key:"round",width:10,style:{alignment:{horizontal:"center",vertical:"middle"}}},{key:"group",width:10,style:{alignment:{horizontal:"center",vertical:"middle"}}},{key:"teams",width:40,style:{alignment:{horizontal:"left",vertical:"middle"}}},{key:"score1",width:5},{key:"score2",width:5},{key:"score3",width:5},{key:"score4",width:5},{key:"score5",width:5}],c.addRow({matchNumber:"Match #",round:"Round",group:"teamPoolPlay"===o?"Pool":"Court",teams:"Teams"}),c.getRow(1).font={size:12,bold:!0},n.forEach((function(e,t){var n=i.getMatchTeam1(e,a||{},r||{}),o=i.getMatchTeam2(e,a||{},r||{});c.addRow({matchNumber:e.matchNumber,round:e.round,group:"poolNumber"in e?e.poolNumber:"courtNumber"in e?e.courtNumber:"",teams:n}),c.addRow({teams:o});var s=2*(t+1);c.getRow(s).font={size:12},c.getRow(s+1).font={size:12};for(var l=1;l<=e.numberOfGames;l++){var d="score"+l.toString();c.getRow(s).getCell(d).border={top:{style:"medium"},right:{style:l===e.numberOfGames?"medium":"thin"},bottom:{style:"thin"},left:{style:"thin"}},c.getRow(s+1).getCell(d).border={top:{style:"thin"},right:{style:l===e.numberOfGames?"medium":"thin"},bottom:{style:"medium"},left:{style:"thin"}}}c.mergeCells(s,1,s+1,1),c.mergeCells(s,2,s+1,2),c.mergeCells(s,3,s+1,3),["matchNumber","round","group","teams"].forEach((function(e,t){c.getRow(s).getCell(e).border={top:{style:"medium"},bottom:{style:3===t?"":"medium"},left:{style:0===t?"medium":""},right:{style:"thin"}},c.getRow(s+1).getCell("teams").border={top:{style:"thin"},bottom:{style:"medium"}}}))}))}},_e=F.c.div.withConfig({displayName:"ScoresHeader__Container",componentId:"sc-1kn81e6-0"})(["padding:0rem 0.5rem;.title-container{display:flex;justify-content:space-between;}.title{margin-bottom:0;font-size:1.75rem;}.subtitle{padding-left:0.3rem;font-size:1rem;}"," ",""],q.b.greaterThan("md")(c||(c=Object(z.a)(["\n    padding: 0rem;\n    .title {\n      font-size: 2.5rem;\n    }\n\n    .subtitle {\n      padding-left: 0.4rem;\n      font-size: 1.25rem;\n    }\n  "]))),q.b.greaterThan("lg")(s||(s=Object(z.a)(["\n    margin-top: 1rem;\n  "])))),Me=F.c.div.withConfig({displayName:"ScoresHeader__DropdownContainer",componentId:"sc-1kn81e6-1"})(["margin-left:0.5rem;.icon{color:",";padding:0.5rem 0.7rem;cursor:pointer;border-radius:0.5rem;&:hover{background-color:",";}}",""],(function(e){return e.theme.colors.darkblue}),(function(e){return e.theme.colors.whites[0]}),q.b.greaterThan("lg")(l||(l=Object(z.a)(["\n    margin-top: 0.25rem;\n  "])))),Re=function(e){var t=Object(C.useContext)(M.b).role,n=e.session,r=e.leagueName,a=n.date.toDate(),o=ye()(a).format("dddd, MMM Do"),i=[{label:{text:"Download schedule (.xlsx)",iconClassName:"fas fa-file-excel"},onClick:function(){return ke(o,e.matches,e.leaguePlayers,e.leagueTeams)}}];return Object(J.jsxs)(_e,{children:[Object(J.jsxs)("div",{className:"title-container",children:[Object(J.jsx)("h1",{className:"title",children:o}),t!==M.a.guest&&Object(J.jsx)(Me,{children:Object(J.jsx)(W.a,{items:i,placement:"BOTTOM_RIGHT",children:Object(J.jsx)("i",{className:"fas fa-ellipsis-h icon"})})})]}),Object(J.jsx)("h5",{className:"subtitle",children:r}),Object(J.jsx)("div",{className:"progress-bar-container",children:Object(J.jsx)(Se.a,{total:n.matchCount||0,done:n.playedMatchCount||0})})]})},De=n(23),Le=F.c.div.withConfig({displayName:"ScoresNoMatches__Container",componentId:"sc-5uf9jo-0"})(["margin-top:5rem;text-align:center;.icon{font-size:4rem;}"]),Ge=Object(F.c)(De.a).withConfig({displayName:"ScoresNoMatches__StyledButton",componentId:"sc-5uf9jo-1"})(["padding:0.5rem 1rem;font-size:1.15rem;.icon{font-size:1rem;margin-right:0.65rem;}"]),Ae=function(e){var t=Object(C.useContext)(M.b).role;return Object(J.jsxs)(Le,{children:[Object(J.jsx)("h1",{children:Object(J.jsx)("i",{className:"far fa-sad-tear icon"})}),Object(J.jsx)("h2",{children:"This session is not ready."}),Object(J.jsx)("p",{children:"Matches for this session have not been generated yet."}),t===M.a.admin||t===M.a.moderator?Object(J.jsx)(H.b,{to:"/".concat(e.leagueUrl,"/session/").concat(e.sessionID,"/setup"),children:Object(J.jsx)(Ge,{size:"lg",children:"Prepare matches"})}):Object(J.jsx)(H.b,{to:"/".concat(e.leagueUrl),children:Object(J.jsxs)(Ge,{size:"lg",children:[Object(J.jsx)("i",{className:"fas fa-arrow-left icon"}),"Go back to league"]})})]})},ze=n(1041),Fe=n(423),Ue=F.c.div.withConfig({displayName:"MatchFilters__Container",componentId:"sc-rehxap-0"})(["background:",";border-radius:0.5rem;padding:0.25rem 0.75rem 0.25rem 1rem;box-shadow:0 3px 6px rgba(0,0,0,0.08);font-weight:600;white-space:nowrap;margin-bottom:0.5rem;margin-left:0.75rem;cursor:pointer;color:",";.icon{margin-left:0.5rem;}"],(function(e){var t=e.theme;return e.hasFilter?t.colors.darkblue:t.colors.whites[0]}),(function(e){return e.hasFilter?"white":"inherit"})),Be=function(e){var t=[{label:e.noFilterName,onClick:function(){return e.selectFilter()}}];return e.filters.forEach((function(n){t.push({label:n.name,onClick:function(){return e.selectFilter(n)}})})),Object(J.jsx)(W.a,{items:t,placement:"BOTTOM_RIGHT",children:Object(J.jsxs)(Ue,{hasFilter:!!e.currentFilter,children:[e.currentFilter?e.currentFilter.name:e.noFilterName,Object(J.jsx)("i",{className:"fas fa-filter icon"})]})})},We=n(1604),He=n(65),Qe=n(266),Ve=n.n(Qe),Ye=F.c.div.withConfig({displayName:"MatchList__FiltersContainer",componentId:"sc-zxlf9b-0"})(["margin-bottom:0.5rem;padding-left:0.25rem;display:flex;justify-content:space-between;align-items:flex-end;",""],q.b.greaterThan("sm")(d||(d=Object(z.a)(["\n    .right-filters {\n      display: flex;\n    }\n  "])))),qe=Object(F.c)(Fe.a).withConfig({displayName:"MatchList__StyledCheckbox",componentId:"sc-zxlf9b-1"})(["font-size:1rem;",""],q.b.greaterThan("sm")(u||(u=Object(z.a)(["\n    font-size: 1.15rem;\n  "])))),Ke=Object(F.c)(We.a).withConfig({displayName:"MatchList__StyledInfiniteScroll",componentId:"sc-zxlf9b-2"})(["&[style]{overflow:initial !important;}"]),Je=function(e){for(var t=Object(C.useState)(9),n=Object(D.a)(t,2),r=n[0],a=n[1],o=Object(C.useState)(!1),i=Object(D.a)(o,2),c=i[0],s=i[1],l=Object(C.useState)(),d=Object(D.a)(l,2),u=d[0],m=d[1],b=Object(C.useState)(),p=Object(D.a)(b,2),f=p[0],h=p[1],g=e.matches,j=e.leagueTeams,O=e.leaguePlayers,x=g[0]?Ie.a[g[0].format]:null,v=[],y=function(e){v.push({name:"Round "+e,filter:function(t){return t.round===e}})},S=1;S<=e.session.format.rounds;S++)y(S);var w=Object(C.useMemo)((function(){var e=V.a.auth().currentUser,t=e?e.uid:void 0;return x&&c&&t?x.myMatchesFilter(t,g,j||{},O||{}):g}),[x,g,c,j,O]),T=Object(C.useMemo)((function(){return f?w.filter(f.filter):w}),[f,w]),N=Object(C.useMemo)((function(){return u?T.filter(u.filter):T}),[u,T]),I=Object(C.useMemo)((function(){return Ve()(N,"matchNumber")}),[N]),E=I.length>r?I.slice(0,r):I,k=window.innerHeight,P=document.body.clientHeight;return Object(C.useEffect)((function(){P<=k&&r<I.length&&a((function(e){return e+10}))}),[P,k,r,I]),Object(J.jsxs)("div",{style:{marginTop:"2rem"},children:[Object(J.jsxs)(Ye,{children:[Object(J.jsx)("div",{children:Object(J.jsxs)(qe,{children:[Object(J.jsx)("input",{type:"checkbox",checked:c,onChange:function(e){return s(e.target.checked)}}),Object(J.jsx)("span",{children:"Only my matches"})]})}),Object(J.jsxs)("div",{className:"right-filters",children:[e.session.format.rounds>1&&Object(J.jsx)(Be,{noFilterName:"All rounds",currentFilter:f,filters:v,selectFilter:function(e){a(9),h(e)}}),x&&Object(J.jsx)(Be,{noFilterName:"teamPoolPlay"===e.session.format.name?"All pools":"All courts",currentFilter:u,filters:x.getMatchFilters(e.session),selectFilter:function(e){a(9),m(e)}})]})]}),Object(J.jsx)(Ke,{dataLength:E.length,next:function(){a((function(e){return e+15}))},hasMore:I.length>=r,loader:Object(J.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(J.jsx)(He.a,{})}),children:E.map((function(t){return Object(J.jsx)(ze.c,{match:t,leagueTeams:e.leagueTeams,leaguePlayers:e.leaguePlayers,saveScore:e.saveScore,deleteMatch:e.deleteMatch,leaguePermissions:e.leaguePermissions},t.id)}))})]})},$e=n(496),Xe=n(262),Ze=F.c.div.withConfig({displayName:"SessionScores__Container",componentId:"sc-lizufd-0"})(["",""],q.b.lessThan("ltlg")(m||(m=Object(z.a)(["\n     &&& { max-width: 600px; margin: auto; }\n  "])))),et=F.c.div.withConfig({displayName:"SessionScores__SpinnerContainer",componentId:"sc-lizufd-1"})(["display:flex;flex-direction:column;align-items:center;margin-top:2.5rem;.message{margin-top:1.25rem;}"]),tt=F.c.div.withConfig({displayName:"SessionScores__ReportScoreContainer",componentId:"sc-lizufd-2"})(["text-align:center;margin-top:0.6rem;margin-bottom:2.25rem;button{padding:0.65rem 1.35rem;font-size:1.15rem;font-weight:600;}"]),nt=Object(k.b)((function(e){return{league:e.league.data,session:e.session.data,matches:Object($e.b)(e.session),statistics:e.session.statistics,reportingScores:!!e.session.loading.reportScores,reportScoresError:!!e.session.errors.reportScores}}),(function(e){return Object(P.b)({saveScore:pe,reportScores:fe,deleteMatch:ge},e)}))((function(e){var t=Object(ie.b)().userFromAuth,n=Object(C.useContext)(M.b).role,r=Object(Q.h)(),a=Object(C.useState)(!1),o=Object(D.a)(a,2),i=o[0],c=o[1],s=e.league,l=e.session,d=e.matches,u=e.statistics,m=Ie.a[l.format.name],b=Object(C.useMemo)((function(){return!!t&&m.myMatchesFilter(t.uid,d,s.leagueTeams||{},s.leaguePlayers||{}).length>0}),[t,m,d,s]);if(!l||!s)return r.push("/"),null;var p=m.ReportScoreModal,f=n===M.a.admin||n===M.a.moderator||n===M.a.editor||n===M.a.player&&b&&(s.permissions.canReportAnyScore||s.permissions.canReportOwnScore);return Object(J.jsxs)(Ze,{children:[Object(J.jsx)(Re,{leagueName:s.name,session:l,matches:e.matches,leaguePlayers:s.leaguePlayers||{},leagueTeams:s.leagueTeams||{}}),l.matchesAreGenerated&&d&&f&&Object(J.jsx)(tt,{children:Object(J.jsx)(De.a,{theme:"success",size:"lg",onClick:function(){return c(!0)},children:"REPORT A SCORE"})}),!l.matchesAreGenerated&&Object(J.jsx)(Ae,{leagueUrl:s.url,sessionID:l.id}),l.matchesAreGenerated&&!e.matches&&Object(J.jsxs)(et,{children:[Object(J.jsx)(He.a,{}),Object(J.jsx)("div",{className:"message",children:"Loading matches..."})]}),l.matchesAreGenerated&&d&&Object(J.jsx)(Je,{session:l,matches:e.matches,leagueTeams:s.leagueTeams,leaguePlayers:s.leaguePlayers,saveScore:function(t,n){u&&e.saveScore(s.id,l.id,t,n,u,m)},deleteMatch:function(t){!e.matches.some((function(e){return e.id!==t.id&&e.round===t.round}))?Object(Xe.a)("You cannot delete the last match of a round. You must instead delete the round.",{cancelText:"Close",noProceedButton:!0}).then((function(){})):e.deleteMatch(s.id,l.id,t)},leaguePermissions:s.permissions}),n!==M.a.guest&&d.length>0&&Object(J.jsx)(p,{isOpen:i,setIsOpen:c,canReportAnyScore:n!==M.a.player||s.permissions.canReportAnyScore,matches:e.matches,leagueTeams:s.leagueTeams,leaguePlayers:s.leaguePlayers,userFromAuth:t,reportScores:function(t,n){u&&e.reportScores(s.id,l.id,t,n,u,m)},reportingScores:e.reportingScores,reportScoresError:e.reportScoresError})]})})),rt=n(986),at=F.c.ul.withConfig({displayName:"StandingsRoundMenu__RoundMenu",componentId:"sc-s4x9am-0"})(["height:calc(2.25rem);list-style-type:none;padding-left:0;white-space:nowrap;margin-bottom:0;li{display:inline-block;padding:0.25rem 0.5rem;margin:0rem 0.5rem;cursor:pointer;&.selected{font-weight:600;color:",';position:relative;&:after{content:"";width:66%;height:2px;position:absolute;bottom:0px;left:17%;background-color:',";border-radius:1rem;}}&:hover{font-weight:600;}}"],(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),ot=Object(F.c)(rt.b).withConfig({displayName:"StandingsRoundMenu__StyledScrollContainer",componentId:"sc-s4x9am-1"})(["height:auto;flex-grow:1;"]),it=function(e){for(var t=[],n=function(n){t.push(Object(J.jsxs)("li",{className:e.current===n?"selected":"",onClick:function(){return e.setRound(n)},children:["Round ",n]},n))},r=1;r<=e.rounds;r++)n(r);return Object(J.jsx)(ot,{children:Object(J.jsx)(at,{children:t})})},ct=n(932),st=F.c.div.withConfig({displayName:"StandingsGroup__ResponsiveTableContainer",componentId:"sc-8n1ox1-0"})(["margin-top:2rem;display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;&:first-child{margin-top:1rem;}"]),lt=F.c.table.withConfig({displayName:"StandingsGroup__StyledTable",componentId:"sc-8n1ox1-1"})(["width:100%;font-weight:600;font-size:1.1rem;thead tr th{padding-bottom:0.5rem;&:not(.group-name){opacity:0.3;}}td,th{white-space:nowrap;padding:0rem 0.25rem 0.5rem;width:1%;min-width:2.5rem;max-width:100px;text-align:center;&:last-child{padding-right:0;}}.rank{padding:0rem 0rem 0.5rem;min-width:auto;div{display:flex;align-items:center;justify-content:center;height:25px;width:25px;border-radius:5rem;text-align:center;background-color:",";font-size:0.9rem;}}.team-name{text-align:left;padding-left:1.25rem;padding-right:0.5rem;width:99%;min-width:150px;overflow:hidden;text-overflow:ellipsis;}.group-name{padding-left:0;text-align:left;> h5{font-weight:700;font-size:1.25rem;margin-bottom:0.5rem;}}"," ",""],(function(e){return e.theme.colors.lightgray}),q.b.between("md","ltlg")(b||(b=Object(z.a)(["\n    td,\n    th {\n      min-width: 3.25rem;\n    }\n  "]))),q.b.greaterThan("1300px")(p||(p=Object(z.a)(["\n    td,\n    th {\n      min-width: 2.85rem;\n    }\n  "])))),dt=function(e){var t=Object.keys(e.groupStats).map((function(t){return{id:t,stats:e.groupStats[t]}})),n=e.orderTeams(t),r=function(t){return"team"===e.formatType?e.leagueTeams&&e.leagueTeams[t]?e.leagueTeams[t].team.name:"-":e.leaguePlayers&&e.leaguePlayers[t]?e.leaguePlayers[t].player.displayName:"-"},a=Math.floor(1e5*Math.random());return Object(J.jsx)(st,{children:Object(J.jsxs)(lt,{children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("th",{colSpan:2,className:"group-name",children:Object(J.jsx)("h5",{children:e.groupName})}),Object(J.jsx)("th",{title:"Wins",children:"W"}),Object(J.jsx)("th",{title:"Losses",children:"L"}),e.displayDraws&&Object(J.jsx)("th",{title:"Draws",children:"D"}),Object(J.jsx)("th",{title:"Points for",children:"PF"}),Object(J.jsx)("th",{title:"Points against",children:"PA"}),Object(J.jsx)("th",{title:"Point differential",children:"+/-"})]})}),Object(J.jsx)(ct.b,{flipKey:a,element:"tbody",spring:"veryGentle",children:n.map((function(t,n){var a=t.id,o=t.stats;return Object(J.jsx)(ct.a,{flipId:a,children:function(t){return Object(C.createElement)("tr",Object(E.a)(Object(E.a)({},t),{},{key:a}),Object(J.jsx)("td",{className:"rank",children:Object(J.jsx)("div",{children:n+1})}),Object(J.jsx)("td",{className:"team-name",children:r(a)}),Object(J.jsx)("td",{children:o.wins}),Object(J.jsx)("td",{children:o.losses}),e.displayDraws&&Object(J.jsx)("td",{children:o.draws}),Object(J.jsx)("td",{children:o.pf}),Object(J.jsx)("td",{children:o.pa}),Object(J.jsx)("td",{children:o.pf-o.pa}))}},a)}))})]})})},ut=n(80),mt=F.c.div.withConfig({displayName:"StandingsPanel__Panel",componentId:"sc-eed3ih-0"})(["background:",";box-shadow:0 7px 14px rgba(50,50,93,0.1),0 3px 6px rgba(0,0,0,0.08);border-radius:1rem;width:100%;max-width:800px;margin:auto;.place-teams{border-radius:1rem;display:flex;align-content:center;justify-content:center;margin-top:0.25rem;margin-bottom:0.5rem;}",""],(function(e){return e.theme.colors.whites[0]}),q.b.greaterThan("lg")(f||(f=Object(z.a)(["\n    height: 100%;\n  "])))),bt=F.c.div.withConfig({displayName:"StandingsPanel__PanelHeader",componentId:"sc-eed3ih-1"})(["background:",";padding:1.25rem 1.5rem 0.5rem;border-top-left-radius:1rem;border-top-right-radius:1rem;display:flex;justify-content:space-between;.dropdown-button{padding:0.25rem 0.7rem;border-radius:0.5rem;cursor:pointer;transition:all 0.15s ease;&:hover{background-color:",";transform:translateY(-1px);}}",""],(function(e){return e.theme.colors.whites[0]}),(function(e){return e.theme.colors.lightgray}),q.b.greaterThan("xl")(h||(h=Object(z.a)(["\n  padding: 1.25rem 2rem 0.5rem;\n  "])))),pt=Object(F.c)(rt.b).withConfig({displayName:"StandingsPanel__StyledScrollContainer",componentId:"sc-eed3ih-2"})(["height:calc(100% - 4rem);.simplebar-track.simplebar-vertical{top:1rem;bottom:1rem;}&&& .simplebar-content{padding:0rem 1.5rem 1.25rem !important;}",""],q.b.greaterThan("xl")(g||(g=Object(z.a)(["\n    &&& .simplebar-content {\n      padding: 0rem 2rem 1.25rem !important;\n    }\n  "])))),ft=F.c.div.withConfig({displayName:"StandingsPanel__SpinnerContainer",componentId:"sc-eed3ih-3"})(["display:flex;flex-direction:column;align-items:center;margin-top:2.5rem;.message{margin-top:1.25rem;}"]),ht=function(e){var t=Object(C.useContext)(M.b).role,n=Object(C.useState)(1),r=Object(D.a)(n,2),a=r[0],o=r[1],i=Object(C.useState)({round:a,open:!1,newRound:!1}),c=Object(D.a)(i,2),s=c[0],l=c[1],d=e.leagueTeams,u=e.leaguePlayers,m=e.statistics,b=Ie.a[e.format.name],p=b.formatType,f=b.RoundSetup||null,h=m?Object.keys(m).length:0,g=Object(C.useMemo)((function(){if(!m)return!1;var e=m[a][1],t=Object.keys(e)[0];return"team"===p?d&&d[t]:u&&u[t]}),[m,p,d,u,a]),j=Object(C.useMemo)((function(){var e=0;if(!m)return e;for(var t=1;t<=h;t++){var n=m[t][1],r=Object.keys(n)[0];("team"===p&&d&&d[r]||"player"===p&&u&&u[r])&&e++}return e}),[m,p,d,u,h]),O=j===h;if("team"===p&&!d||"player"===p&&!u)return Object(J.jsx)("div",{children:Object(J.jsxs)(ft,{children:[Object(J.jsx)(He.a,{}),Object(J.jsx)("div",{className:"message",children:"Loading standings..."})]})});var x=[];return!O||t!==M.a.admin&&t!==M.a.moderator||x.push({label:"Add a round",onClick:function(){return l({round:h+1,open:!0,newRound:!0})}}),h>1&&1===j&&1===a||t!==M.a.admin&&t!==M.a.moderator||x.push({label:"Delete round "+a,onClick:function(){return e.deleteRound(a)}}),Object(J.jsxs)(mt,{children:[Object(J.jsxs)(bt,{children:[Object(J.jsx)(it,{current:a,rounds:h,setRound:o}),x.length>0&&Object(J.jsx)(W.a,{items:x,placement:"BOTTOM_RIGHT",children:Object(J.jsx)("div",{className:"dropdown-button",children:Object(J.jsx)("i",{className:"fas fa-ellipsis-h icon"})})})]}),Object(J.jsxs)(pt,{children:[!g&&j===a-1&&Object(J.jsx)("div",{className:"place-teams",children:Object(J.jsxs)(De.a,{theme:"success",onClick:function(){return l({round:a,open:!0,newRound:!1})},children:["Set up Round ",a]})}),m&&Object(J.jsx)("div",{children:Object.keys(m[a]).map((function(t){return Object(J.jsx)(dt,{formatType:p,orderTeams:b.orderTeams,groupName:b.getGroupName(t),groupStats:m[a][parseInt(t)],leagueTeams:d,leaguePlayers:u,displayDraws:1===e.format.numberOfGames},t+"_"+a)}))})]}),f&&Object(J.jsx)(ut.a,{isOpen:s.open,onRequestClose:function(){return l({round:a,open:!1,newRound:!1})},width:"1200px",children:Object(J.jsx)(f,{round:s.round,newRound:s.newRound,closeModal:function(){return l({round:a,open:!1,newRound:!1})}})})]})},gt=n(211),jt=n(287),Ot=n.n(jt),xt=Object(F.c)(Ot.a).withConfig({displayName:"SessionStandings__Container",componentId:"sc-4wit0z-0"})(["width:100%;"," ",""],q.b.greaterThan("lg")(j||(j=Object(z.a)(["\n      padding: 1.5rem 1rem 1.5rem 0.75rem;\n      position: sticky;\n      top: 0px;\n  "]))),q.b.greaterThan("xl")(O||(O=Object(z.a)(["\n      padding: 1.5rem 2rem 1.5rem 2.25rem;\n  "])))),vt=Object(k.b)((function(e){return{league:e.league.data,session:e.session.data,statistics:e.session.statistics}}),(function(e){return Object(P.b)({deleteRound:he},e)}))((function(e){var t=e.league,n=e.session,r=Object(Q.h)(),a=Object(K.a)(["lg"],[!0],!1);if(a&&!e.sideContainer&&t&&n&&r.push("/".concat(t.url,"/session/").concat(n.id)),!t||!n)return null;return Object(J.jsx)(xt,{style:{height:a?"100rvh":"auto"},children:Object(J.jsx)(ht,{format:n.format,statistics:e.statistics,leagueTeams:t.leagueTeams,leaguePlayers:t.leaguePlayers,deleteRound:function(r){var a=Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("div",{style:{marginBottom:"1rem"},children:["Are you sure you want to delete round ",r,"?"]}),Object(J.jsx)(gt.a,{style:{color:q.c.colors.danger},children:"This will permanently erase all matches, scores and statistics of this round."})]});Object(Xe.a)(a,{proceedText:"Delete round "+r,proceedTheme:"danger"}).then((function(){e.deleteRound(t.id,n.id,r)}))}})})})),yt=Object(k.b)((function(e){return{league:e.league.data,session:e.session.data}}),(function(e){return Object(P.b)({},e)}))((function(e){var t=Object(Q.h)(),n=e.league,r=e.session;if(!r||!n)return t.push("/"),null;var a=Ie.a[r.format.name].Setup;return Object(J.jsx)(a,{})})),St=function(e){var t=Object(Q.k)("")||{path:""},n=Object(C.useContext)(M.b).role;return Object(J.jsxs)(Q.e,{children:[Object(J.jsx)(Q.c,{exact:!0,path:"".concat(t.path),component:nt}),Object(J.jsx)(Q.c,{exact:!0,path:"".concat(t.path,"/standings"),component:vt}),Object(J.jsx)(Q.c,{exact:!0,path:"".concat(t.path,"/setup"),render:n===M.a.admin||n===M.a.moderator?function(e){return Object(J.jsx)(yt,Object(E.a)({},e))}:function(e){return Object(J.jsx)(Q.b,{to:"/"})}}),Object(J.jsx)(Q.c,{component:se.a})]})},wt=n(347),Tt=["sidebarWidth","sidebarExpandedWidth","isSidebarExpanded","hasScreenTopMenu","screenTopMenuHeight"],Nt=["isShown"],It=Object(F.c)((function(e){e.sidebarWidth,e.sidebarExpandedWidth,e.isSidebarExpanded,e.hasScreenTopMenu,e.screenTopMenuHeight;var t=Object(A.a)(e,Tt);return Object(J.jsx)(Ot.a,Object(E.a)({},t))})).withConfig({displayName:"SessionViewstyle__SessionContainer",componentId:"sc-r6uvpv-0"})(["position:relative;display:flex;flex-direction:column;background:",";padding-top:56px;left:",";.flex-container{position:relative;flex-grow:1;display:flex;flex-wrap:wrap;height:",";}"," ",""],(function(e){return e.theme.colors.whites[0]}),(function(e){var t=e.sidebarWidth,n=e.sidebarExpandedWidth;return e.isSidebarExpanded?n-t+"px":0}),(function(e){return e.hasScreenTopMenu?"calc(100% - "+e.screenTopMenuHeight+"px)":"100%"}),q.b.greaterThan("md")(x||(x=Object(z.a)(["\n      width: ",";\n      margin-left: ",";\n      transition: all 0.25s ease-out;\n      padding-top: 0;\n  "])),(function(e){return"calc(100% - "+e.sidebarWidth+"px)"}),(function(e){return e.sidebarWidth+"px"})),q.b.greaterThan("lg")(v||(v=Object(z.a)(["\n     .flex-container {\n        flex-wrap: nowrap;\n      }\n  "])))),Et=F.c.div.withConfig({displayName:"SessionViewstyle__MainContainer",componentId:"sc-r6uvpv-1"})(["flex-grow:1;padding:1.5rem 1rem;transition:width 0.25s ease-out;background:",";width:100%;max-width:100%;min-height:",";> div{max-width:",";}"," "," "," "," ",""],(function(e){return e.theme.colors.lightgray}),(function(e){return e.showSidePanel?"none":"100%"}),(function(e){return e.showSidePanel?"1100px":"1500px"}),q.b.greaterThan("sm")(y||(y=Object(z.a)(["\n    padding: 2rem 2rem;\n  "]))),q.b.greaterThan("md")(S||(S=Object(z.a)(["\n      border-top-left-radius: 1.9rem;\n      border-bottom-left-radius: 1.9rem;\n  "]))),q.b.greaterThan("lg")(w||(w=Object(z.a)(["\n      padding: 2rem 1.25rem 2rem 1.5rem;\n      width: 47%;\n  "]))),q.b.greaterThan("xl")(T||(T=Object(z.a)(["\n      padding: 2rem 2.25rem 2rem 4rem;\n      display: flex;\n      flex-direction: column;\n      width: 49%;\n      \n      > div {\n        width: 100%;\n      }\n  "]))),q.b.greaterThan("1600px")(N||(N=Object(z.a)(["\n      align-items: center;\n  "])))),Ct=Object(F.c)((function(e){e.isShown;var t=Object(A.a)(e,Nt);return Object(J.jsx)(wt.animated.div,Object(E.a)({},t))})).withConfig({displayName:"SessionViewstyle__SideContainer",componentId:"sc-r6uvpv-2"})(["flex-shrink:0;background:",";max-width:100%;display:",";overflow:",";",""],(function(e){return e.theme.colors.lightgray}),(function(e){return e.isShown?"block":"none"}),(function(e){return e.isShown?"inherit":"hidden"}),q.b.greaterThan("lg")(I||(I=Object(z.a)(["\n    display: block;\n  "])))),kt=F.c.span.withConfig({displayName:"SessionViewstyle__Overlay",componentId:"sc-r6uvpv-3"})(["position:absolute;top:0;left:0;bottom:0;right:0;z-index:998;background:",";border-top-left-radius:1.9rem;border-bottom-left-radius:1.9rem;"],(function(e){return e.theme.colors.darkblues[7]})),Pt=function(e){var t=Object(Q.k)(""),n=!(!t||!t.isExact),r=Object(K.a)(["md"],[!1],!0),a=Object(C.useState)(!1),o=Object(D.a)(a,2),i=o[0],c=o[1],s=Object(C.useState)(!1),l=Object(D.a)(s,2),d=l[0],u=l[1],m=Object(C.useContext)(Y.a),b=m.width,p=m.expandedWidth,f=Object(K.a)(["xl","lg"],["51%","53%"],"0%"),h=Object(wt.useSpring)({width:n?f:"0%"});return Object(J.jsxs)("div",{style:{position:"relative",overflow:"0%"===f?"hidden":"initial"},children:[Object(J.jsx)(ce,{leagueUrl:e.league.url,matchesAreGenerated:!!e.session.matchesAreGenerated,leaguePermissions:e.league.permissions,isMobile:!!r,isSidebarOpen:d,setIsSidebarOpen:u,isSidebarExpanded:i,setIsSidebarExpanded:c}),Object(J.jsx)(It,{style:{minHeight:"100rvh"},sidebarWidth:b,sidebarExpandedWidth:p,isSidebarExpanded:i,hasScreenTopMenu:!1,screenTopMenuHeight:55,children:Object(J.jsxs)("div",{className:"flex-container",children:[Object(J.jsx)(Et,{showSidePanel:n,sideContainerWidth:f,children:Object(J.jsx)(St,{})}),e.session.matchesAreGenerated&&Object(J.jsx)(Ct,{style:h,isShown:n,children:n&&Object(J.jsx)(vt,{sideContainer:!0})}),(d&&r||i)&&Object(J.jsx)(kt,{onClick:function(){u(!1),c(!1)}})]})})]})};t.default=Object(k.b)((function(e){return{league:e.league.data,session:e.session.data,matches:e.session.matches,statistics:e.session.statistics,deletingRound:e.session.loading.deleteRound}}),(function(e){return Object(P.b)({getLeague:_.h,getSession:be,getLeaguePlayers:_.i,getLeagueTeams:_.j,setSessionMatches:je,setSessionStatistics:xe,updateSessionMatches:Oe},e)}))((function(e){var t=Object(ie.b)().userFromDB,n=Object(Q.h)(),r=e.getLeague,a=e.getSession,o=e.leagueID,i=e.sessionID,c=e.league,s=e.session,l=e.setSessionMatches,d=e.setSessionStatistics,u=e.updateSessionMatches,m=c?c.id:null;Object(C.useEffect)((function(){m!==o&&r(o,(function(){return n.push("/")}))}),[r,m,o,n]),Object(C.useEffect)((function(){a(o,i,(function(){return n.push("/")}))}),[a,o,i,n]);var b=e.getLeagueTeams,p=e.getLeaguePlayers;Object(C.useEffect)((function(){if(c&&s&&s.id===i){var e=Ie.a[s.format.name];"team"!==e.formatType||c.leagueTeams?"player"!==e.formatType||c.leaguePlayers||p(c.id):b(c.id)}}),[b,p,s,c,i]);var f=!1;if(c&&s){var h=Ie.a[s.format.name];("team"===h.formatType&&c.leagueTeams||"player"===h.formatType&&c.leaguePlayers)&&(f=!0)}var g=Object(C.useRef)(e.matches),j=Object(C.useRef)(e.statistics);return Object(C.useEffect)((function(){g.current=e.matches,j.current=e.statistics})),Object(C.useEffect)((function(){return V.a.firestore().collection("leagues").doc(o).collection("sessions").doc(i).collection("matches").orderBy("matchNumber").onSnapshot((function(e){var t={},n={},r=!1;if(e.docChanges().forEach((function(a){if("added"===a.type)r=!0,t[a.doc.id]=Object(E.a)(Object(E.a)({},a.doc.data()),{},{id:a.doc.id});else if("removed"===a.type)r=!0,n[a.doc.id]=Object(E.a)(Object(E.a)({},a.doc.data()),{},{id:a.doc.id});else if("modified"===a.type&&!e.metadata.hasPendingWrites){if(!g.current||!g.current[a.doc.id]||!j.current)return void window.location.reload();var o=Object(E.a)(Object(E.a)({},a.doc.data()),{},{id:a.doc.id}),i=g.current[o.id];if(i.team1&&o.team1&&i.round===o.round){var c=Ie.a[o.format].updateStandingsFromMatch(j.current,i,o);d(c)}else r=!0;t[a.doc.id]=o}})),Object.keys(t).length>0){if(r){var a=Ie.a[t[Object.keys(t)[0]].format].buildStandingsFromMatches(Object.values(Object(E.a)(Object(E.a)({},g.current),t)));d(a)}u(t)}if(Object.keys(n).length>0){var o={};if(e.docs.forEach((function(e){o[e.id]=Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})})),Object.keys(o).length){var i=Ie.a[o[Object.keys(o)[0]].format].buildStandingsFromMatches(Object.values(o));d(i)}l(o)}}))}),[o,i,g,j,l,u,d]),c&&s&&f?e.deletingRound?Object(J.jsx)(R.a,{message:"Deleting round..."}):Object(J.jsx)(M.c,{roles:c.roles,userFromDB:t,leagueID:c.id,children:Object(J.jsx)(Y.b,{children:Object(J.jsx)(Pt,Object(E.a)(Object(E.a)({},e),{},{league:c,session:s}))})}):Object(J.jsx)(R.a,{message:"Preparing your session..."})}))},948:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var r,a=n(5),o=n(2),i=n.n(o),c=n(114),s=n(0);!function(e){e.admin="admin",e.moderator="moderator",e.editor="editor",e.player="player",e.guest="guest"}(r||(r={}));var l=i.a.createContext({role:r.guest});l.Consumer;t.c=function(e){var t=Object(o.useState)(r.guest),n=Object(a.a)(t,2),i=n[0],d=n[1],u=Object(o.useState)(!0),m=Object(a.a)(u,2),b=m[0],p=m[1],f=e.roles,h=e.userFromDB,g=e.leagueID,j=h?h.uid:null;return Object(o.useEffect)((function(){j&&(-1!==f.admins.indexOf(j)?d(r.admin):-1!==f.moderators.indexOf(j)?d(r.moderator):-1!==f.editors.indexOf(j)?d(r.editor):h&&h.leagues&&h.leagues.includes(g)&&d(r.player)),p(!1)}),[j,g,f,h]),b?Object(s.jsx)(c.a,{message:"Verifying permissions..."}):Object(s.jsx)(l.Provider,{value:{role:i},children:e.children})}},962:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"formatType",(function(){return Q})),n.d(r,"defaultValues",(function(){return V})),n.d(r,"emptyStatistics",(function(){return Y})),n.d(r,"getMatchTeam1",(function(){return q})),n.d(r,"getMatchTeam2",(function(){return K})),n.d(r,"isOwnGame",(function(){return J})),n.d(r,"myMatchesFilter",(function(){return $})),n.d(r,"getWinningTeam",(function(){return X})),n.d(r,"getGroupName",(function(){return Z})),n.d(r,"saveScore",(function(){return oe})),n.d(r,"buildStandingsFromMatches",(function(){return me})),n.d(r,"updateStandingsFromMatch",(function(){return be})),n.d(r,"orderTeams",(function(){return pe})),n.d(r,"orderAllTeams",(function(){return fe})),n.d(r,"getMatchFilters",(function(){return ge})),n.d(r,"Setup",(function(){return on})),n.d(r,"RoundSetup",(function(){return $t})),n.d(r,"ReportScoreModal",(function(){return _n}));var a={};n.r(a),n.d(a,"formatType",(function(){return Mn})),n.d(a,"defaultValues",(function(){return Rn})),n.d(a,"emptyStatistics",(function(){return Dn})),n.d(a,"getMatchTeam1",(function(){return Ln})),n.d(a,"getMatchTeam2",(function(){return Gn})),n.d(a,"isOwnGame",(function(){return zn})),n.d(a,"myMatchesFilter",(function(){return Fn})),n.d(a,"getWinningTeam",(function(){return Un})),n.d(a,"getGroupName",(function(){return Bn})),n.d(a,"saveScore",(function(){return Wn})),n.d(a,"buildStandingsFromMatches",(function(){return Vn})),n.d(a,"updateStandingsFromMatch",(function(){return Yn})),n.d(a,"orderTeams",(function(){return qn})),n.d(a,"orderAllTeams",(function(){return Kn})),n.d(a,"getMatchFilters",(function(){return $n})),n.d(a,"Setup",(function(){return Zr})),n.d(a,"RoundSetup",(function(){return Vr})),n.d(a,"ReportScoreModal",(function(){return Oa}));var o,i,c,s,l,d,u,m,b,p,f,h,g,j,O,x,v,y,S,w,T,N,I,E,C,k,P,_,M,R,D,L,G,A,z,F,U,B,W,H,Q="team",V={name:"teamPoolPlay",rounds:1,confrontations:1,numberOfGames:1,allowDraws:!0},Y={wins:0,losses:0,draws:0,pf:0,pa:0,gf:0,ga:0,pool:0,seed:0},q=function(e,t,n){var r="Pool "+e.poolNumber+" - Team "+e.seeds[0];return e.team1&&e.team1.leagueTeamID&&t[e.team1.leagueTeamID]?t[e.team1.leagueTeamID].team.name:r},K=function(e,t,n){var r="Pool "+e.poolNumber+" - Team "+e.seeds[1];return e.team2&&e.team2.leagueTeamID&&t[e.team2.leagueTeamID]?t[e.team2.leagueTeamID].team.name:r},J=function(e,t,n,r){return[t.team1?n[t.team1.leagueTeamID]:void 0,t.team2?n[t.team2.leagueTeamID]:void 0].some((function(t){return!!Object.values((null===t||void 0===t?void 0:t.team.players)||{}).find((function(t){return t.uid===e}))}))},$=function(e,t,n,r){return t.filter((function(t){var r=!1;return[t.team1,t.team2].some((function(t){if(!t||!t.leagueTeamID)return!1;var a=n[t.leagueTeamID];return!!a&&(!(!a.team||!a.team.players)&&Object.values(a.team.players).some((function(t){return t.uid===e&&(r=!0,!0)})))})),r}))},X=function(e){var t=0,n=0;return e.games?(e.games.forEach((function(e){(e.team1Score&&e.team2Score||e.team1Score&&0===e.team2Score||e.team2Score&&0===e.team1Score)&&(e.team1Score=+e.team1Score,e.team2Score=+e.team2Score,e.team1Score>e.team2Score?t++:e.team1Score<e.team2Score&&n++)})),t>e.numberOfGames/2&&e.team1?1:n>e.numberOfGames/2&&e.team2?2:null):null},Z=function(e){return"Pool "+e},ee=n(7),te=n(21),ne=n(5),re=n(11),ae=n(18),oe=(n(160),function(){var e=Object(re.a)(Object(ee.a)().mark((function e(t,n,r){var a,o,i;return Object(ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ae.a.firestore(),o=a.collection("leagues").doc(t),i=o.collection("sessions").doc(n).collection("matches").doc(r.id),e.next=5,a.runTransaction(function(){var e=Object(re.a)(Object(ee.a)().mark((function e(t){var a,c,s,l,d,u,m,b,p,f,h,g;return Object(ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(i);case 2:if((a=e.sent).exists){e.next=6;break}return t.update(i,{}),e.abrupt("return",{success:!1,message:"Match not found."});case 6:if((c=a.data()).team1&&c.team1.leagueTeamID&&c.team2&&c.team2.leagueTeamID){e.next=10;break}return t.update(i,{}),e.abrupt("return",{success:!1,message:"Teams not found."});case 10:return s=o.collection("leagueTeams").doc(c.team1.leagueTeamID),l=o.collection("leagueTeams").doc(c.team2.leagueTeamID),e.next=14,Promise.all([t.get(s),t.get(l)]);case 14:if(d=e.sent,u=Object(ne.a)(d,2),m=u[0],b=u[1],m.exists&&b.exists){e.next=23;break}return t.update(i,{}),t.update(s,{}),t.update(l,{}),e.abrupt("return",{success:!1,message:"Team not found."});case 23:for(p=o.collection("teamStatistics").doc(n),f=function(){var e,a=g[h],i=ie(c,a.id),s=ie(r,a.id),l=ae.a.firestore.FieldValue.increment,d=s&&i?{wins:l(s.wins-i.wins),losses:l(s.losses-i.losses),draws:l(s.draws-i.draws),pf:l(s.pf-i.pf),pa:l(s.pa-i.pa),gf:l(s.gf-i.gf),ga:l(s.ga-i.ga),pool:l(s.pool-i.pool)}:{},u=a.data();u.leaguePlayers&&u.leaguePlayers.forEach((function(e){var r;t.set(o.collection("playerStatistics").doc(n),Object(te.a)({},e,(r={},Object(te.a)(r,c.round,d),Object(te.a)(r,"total",d),r)),{merge:!0})})),t.set(p,Object(te.a)({},a.id,(e={},Object(te.a)(e,c.round,d),Object(te.a)(e,"total",d),e)),{merge:!0})},h=0,g=[m,b];h<g.length;h++)f();return r.winner=ce(r),t.update(i,{games:r.games,winner:r.winner}),t.update(s,{}),t.update(l,{}),e.abrupt("return",{success:!0,match:r});case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),ie=function(e,t){var n=e.team1&&e.team1.leagueTeamID===t?1:e.team2&&e.team2.leagueTeamID===t?2:null;if(!n)return null;var r=!1,a=[];if(e.games.forEach((function(e){!e.team1Score&&0!==e.team1Score||!e.team2Score&&0!==e.team2Score||(r=!0,a.push(e))})),!r)return Y;var o=ce(e),i=o===n?1:0,c=null===o||o===n?0:1,s=a.reduce((function(e,t){return e+(1===n?t.team1Score||0:t.team2Score||0)}),0),l=a.reduce((function(e,t){return e+(1===n?t.team2Score||0:t.team1Score||0)}),0),d=0,u=0;return a.forEach((function(e){(e.team1Score||0)>(e.team2Score||0)?1===n?d++:u++:(e.team1Score||0)<(e.team2Score||0)&&(1===n?u++:d++)})),{wins:i,losses:c,draws:1===e.numberOfGames&&s===l?1:0,pf:s,pa:l,gf:d,ga:u,pool:e.poolNumber}},ce=function(e){var t=0,n=0;return e.games?(e.games.forEach((function(e){(e.team1Score&&e.team2Score||e.team1Score&&0===e.team2Score||e.team2Score&&0===e.team1Score)&&(e.team1Score=+e.team1Score,e.team2Score=+e.team2Score,e.team1Score>e.team2Score?t++:e.team1Score<e.team2Score&&n++)})),t>e.numberOfGames/2&&e.team1?1:n>e.numberOfGames/2&&e.team2?2:null):null},se=n(1),le=n(29),de=n(430),ue=n(1009),me=function(e){var t,n={},r=Object(le.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=a.round,i=a.poolNumber;if(n[o]||(n[o]={}),n[o][i]||(n[o][i]={}),a.team1&&a.team2&&a.team1.leagueTeamID&&a.team2.leagueTeamID){var c=0,s=0,l=0,d=0,u=0;if(a.games){var m,b=!1,p=Object(le.a)(a.games);try{for(p.s();!(m=p.n()).done;){var f=m.value;!f.team1Score&&0!==f.team1Score||!f.team2Score&&0!==f.team2Score||(b=!0,c+=f.team1Score,s+=f.team2Score,l+=f.team1Score>f.team2Score?1:0,d+=f.team1Score<f.team2Score?1:0)}}catch(j){p.e(j)}finally{p.f()}u=b&&1===a.numberOfGames&&c===s?1:0}var h=n[o][i][a.team1.leagueTeamID]||Y;n[o][i][a.team1.leagueTeamID]={wins:h.wins+(1===a.winner?1:0),losses:h.losses+(2===a.winner?1:0),draws:h.draws+u,pf:h.pf+c,pa:h.pa+s,gf:h.gf+l,ga:h.ga+d,pool:h.pool+i,seed:a.seeds[0]};var g=n[o][i][a.team2.leagueTeamID]||Y;n[o][i][a.team2.leagueTeamID]={wins:g.wins+(2===a.winner?1:0),losses:g.losses+(1===a.winner?1:0),draws:g.draws+u,pf:g.pf+s,pa:g.pa+c,gf:g.gf+d,ga:g.ga+l,pool:g.pool+i,seed:a.seeds[1]}}else n[o][i][a.seeds[0].toString()]=Y,n[o][i][a.seeds[1].toString()]=Y}}catch(j){r.e(j)}finally{r.f()}return n},be=function(e,t,n){var r=n.round,a=n.poolNumber;if(e[r]||(e[r]={}),e[r][a]||(e[r][a]={}),!n.team1||!n.team2||!n.team1.leagueTeamID||!n.team2.leagueTeamID)return e;var o=ue.teamPoolPlay.getTeamStatisticsFromMatch(t,1),i=ue.teamPoolPlay.getTeamStatisticsFromMatch(n,1),c=Object(se.a)({},e),s=e[r][a][n.team1.leagueTeamID]||Y;c[r][a][n.team1.leagueTeamID]={wins:s.wins-o.wins+i.wins,losses:s.losses-o.losses+i.losses,draws:s.draws-o.draws+i.draws,pf:s.pf-o.pf+i.pf,pa:s.pa-o.pa+i.pa,gf:s.gf-o.gf+i.gf,ga:s.ga-o.ga+i.ga,pool:s.pool-o.pool+i.pool,seed:n.seeds[0]};var l=e[r][a][n.team2.leagueTeamID]||Y;return c[r][a][n.team2.leagueTeamID]={wins:l.wins-o.losses+i.losses,losses:l.losses-o.wins+i.wins,draws:l.draws-o.draws+i.draws,pf:l.pf-o.pa+i.pa,pa:l.pa-o.pf+i.pf,gf:l.gf-o.ga+i.ga,ga:l.ga-o.gf+i.gf,pool:l.pool-o.pool+i.pool,seed:n.seeds[1]},c},pe=function(e){return Object(de.orderBy)(e,["stats.wins",function(e){return e.stats.pf-e.stats.pa},"stats.seed"],["desc","desc","asc"])},fe=function(e){return Object(de.orderBy)(e,[function(e){return he(e.stats)>0&&e.stats.pool>0?e.stats.pool/he(e.stats):999},function(e){return he(e.stats)>0?e.stats.wins:-1},function(e){return e.stats.pf||0===e.stats.pf?e.stats.pf-e.stats.pa:-4}],["asc","desc","desc"])},he=function(e){return(e.wins||0)+(e.losses||0)+(e.draws||0)},ge=function(e){return e.teamPools?Object.keys(e.teamPools[1]).map((function(e){return{name:"Pool "+e,filter:function(t){return"poolNumber"in t&&t.poolNumber.toString()===e}}})):[]},je=n(14),Oe=n(4),xe=n(2),ve=n.n(xe),ye=n(213),Se=n(260),we=n(66),Te=n(921),Ne=n(134),Ie=n(0),Ee=Oe.c.div.withConfig({displayName:"TeamItem__DraggableContainer",componentId:"sc-1bsd5v8-0"})(["background:",";box-shadow:0 3px 6px rgba(0,0,0,0.08);margin-bottom:0.5rem;padding:0.35rem 1rem;border-radius:0.5rem;"],(function(e){return e.theme.colors.whites[0]})),Ce=Oe.c.div.withConfig({displayName:"TeamItem__TeamContainer",componentId:"sc-1bsd5v8-1"})(["display:flex;align-items:center;.name{flex-grow:1;margin-left:0.75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"]),ke=Object(Oe.c)(Ne.a).withConfig({displayName:"TeamItem__StyledInfoTooltip",componentId:"sc-1bsd5v8-2"})(["color:",";"],(function(e){return e.theme.colors.warning})),Pe=function(e){var t=e.leagueTeam;return Object(Ie.jsx)(Te.b,{draggableId:t.id,index:e.index,isDragDisabled:e.setupIsLocked,children:function(e,n){return Object(Ie.jsx)(Ee,Object(se.a)(Object(se.a)(Object(se.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(Ie.jsxs)(Ce,{children:[Object(Ie.jsx)("div",{children:Object(Ie.jsx)("i",{className:"fas fa-user-friends icon"})}),Object(Ie.jsx)("div",{className:"name",children:t.team.name}),t.deletedAt&&Object(Ie.jsx)(ke,{info:"This team was removed from your league."})]})}))}})},_e=n(266),Me=n.n(_e),Re=n(9),De=n(211),Le=Oe.c.div.withConfig({displayName:"TeamList__Container",componentId:"sc-zrzsc-0"})(["height:100%;.title{font-size:1.5rem;margin-bottom:1rem;}",""],Re.b.greaterThan("md")(o||(o=Object(je.a)(["\n    .title {\n      font-size: 2rem;\n    }\n  "])))),Ge=Oe.c.div.withConfig({displayName:"TeamList__DroppableContainer",componentId:"sc-zrzsc-1"})(["display:flex;flex-wrap:wrap;justify-content:space-between;align-content:flex-start;align-items:flex-start;height:calc(100% - 3.4rem);> div{width:100%;}",""],Re.b.greaterThan("xl")(i||(i=Object(je.a)(["\n    > div {\n      width: calc(50% - 0.25rem);\n    }\n  "])))),Ae=Oe.c.div.withConfig({displayName:"TeamList__NoTeamMessage",componentId:"sc-zrzsc-2"})(["width:100% !important;"]),ze=function(e){var t=Me()(e.leagueTeams,"team.name");return Object(Ie.jsxs)(Le,{children:[Object(Ie.jsx)("h2",{className:"title",children:"Teams"}),Object(Ie.jsx)(Te.c,{droppableId:"team-list",type:"pool",isDropDisabled:e.setupIsLocked,children:function(n,r){return Object(Ie.jsxs)(Ge,Object(se.a)(Object(se.a)({ref:n.innerRef},n.droppableProps),{},{isDraggingOver:r.isDraggingOver,children:[0===e.totalTeamCount&&Object(Ie.jsxs)(Ae,{children:[Object(Ie.jsx)("p",{style:{marginBottom:"0.5rem"},children:"There are no teams in your league yet."}),Object(Ie.jsxs)(De.a,{children:["To add teams to your league, go back to your league dashboard and head over to the"," ",Object(Ie.jsx)("i",{children:"Setup"})," page."]})]}),e.totalTeamCount>0&&0===e.leagueTeams.length&&Object(Ie.jsx)(Ae,{children:"All of your teams are placed in a pool."}),t.map((function(t,n){return t.deletedAt?null:Object(Ie.jsx)(Pe,{leagueTeam:t,index:n,setupIsLocked:e.setupIsLocked},t.id)})),n.placeholder]}))}})]})},Fe=n(965),Ue=n(16),Be=n(1127),We=(n(98),n(27)),He=n(68),Qe=function(e,t,n){return function(){var r=Object(re.a)(Object(ee.a)().mark((function r(a){var o;return Object(ee.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(Object(Be.a)("GENERATE_MATCHES_REQUEST")(!0)),r.prev=1,o=Object(He.a)("league-generateLeagueMatches"),r.next=5,o({leagueID:e,sessionID:t});case 5:a(Object(Be.a)("GENERATE_MATCHES_SUCCESS")(!0)),n(),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),a(Object(Be.a)("GENERATE_MATCHES_REQUEST")(!1)),Object(We.a)("Sorry, a problem occured while trying to generate your matches. Please refresh the page.");case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()},Ve=function(e,t){return function(){var n=Object(re.a)(Object(ee.a)().mark((function n(r){var a,o,i,c,s,l,d,u,m,b,p;return Object(ee.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(Be.a)("DELETE_MATCHES_REQUEST")(!0)),a=ae.a.firestore(),o=a.collection("leagues").doc(e),i=o.collection("sessions").doc(t),n.prev=4,n.next=7,Promise.all([i.collection("matches").get(),i.collection("deletedMatches").get()]);case 7:c=n.sent,s=Object(ne.a)(c,2),l=s[0],d=s[1],u=0,(b=[])[m=0]=a.batch(),b[m].delete(o.collection("teamStatistics").doc(t)),b[m].delete(o.collection("playerStatistics").doc(t)),b[m].update(i,{matchesAreGenerated:!1,matchCount:0,playedMatchCount:0}),[].concat(Object(Ue.a)(l.docs),Object(Ue.a)(d.docs)).forEach((function(e){u++,b[m].delete(e.ref),u%490||(m++,b[m]=a.batch())})),p=0;case 20:if(!(p<b.length)){n.next=26;break}return n.next=23,b[p].commit();case 23:p++,n.next=20;break;case 26:r(Object(Be.a)("DELETE_MATCHES_SUCCESS")(!0)),Object(We.b)("Your matches were successfully deleted"),n.next=34;break;case 30:n.prev=30,n.t0=n.catch(4),r(Object(Be.a)("DELETE_MATCHES_REQUEST")(!1)),Object(We.a)("Sorry, a problem occured while trying to retrieve your matches. Please try again or contact an administrator.");case 34:case"end":return n.stop()}}),n,null,[[4,30]])})));return function(e){return n.apply(this,arguments)}}()},Ye=function(e,t,n,r){return function(){var a=Object(re.a)(Object(ee.a)().mark((function a(o){var i,c,s,l;return Object(ee.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(Object(Be.a)("EDIT_FORMAT_SETTING_REQUEST")(!0)),i=ae.a.firestore(),c=i.collection("leagues").doc(e),s=c.collection("sessions").doc(t),a.prev=4,(l=i.batch()).update(c,Object(te.a)({},"format.".concat(n),r)),l.update(s,Object(te.a)({},"format.".concat(n),r)),a.next=10,l.commit();case 10:o(Object(Be.a)("EDIT_FORMAT_SETTING_SUCCESS")({setting:n,value:r})),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(4),o(Object(Be.a)("EDIT_FORMAT_SETTING_REQUEST")(!1)),Object(We.a)("Sorry, a problem occured while saving your settings. Please refresh the page.");case 17:case"end":return a.stop()}}),a,null,[[4,13]])})));return function(e){return a.apply(this,arguments)}}()},qe=function(e,t,n,r){return function(){var a=Object(re.a)(Object(ee.a)().mark((function a(o){var i;return Object(ee.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o(Object(Be.a)("EDIT_TEAM_POOLS")(r)),i=ae.a.firestore(),a.next=5,i.collection("leagues").doc(e).collection("sessions").doc(t).collection("teamPools").doc("1").set(r);case 5:a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),o(Object(Be.a)("EDIT_TEAM_POOLS")(n)),Object(We.a)("Sorry, a problem occured while trying to edit your pools. Please refresh the page.");case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},Ke=function(e,t,n){return function(){var r=Object(re.a)(Object(ee.a)().mark((function r(a){var o,i,c;return Object(ee.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=Object.keys(n).length+1,a(Object(Be.a)("ADD_TEAM_POOL")(o)),i=ae.a.firestore(),c=i.collection("leagues").doc(e).collection("sessions").doc(t).collection("teamPools").doc("1"),r.prev=4,r.next=7,i.runTransaction(function(){var e=Object(re.a)(Object(ee.a)().mark((function e(t){var r,a;return Object(ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(c);case 2:if(r=e.sent,!(!(a=r.data())&&Object.keys(n).length>0||a&&Object.keys(a).length!==Object.keys(n).length)){e.next=7;break}return t.set(c,{},{merge:!0}),e.abrupt("return",{success:!1});case 7:return t.set(c,Object(te.a)({},o.toString(),[]),{merge:!0}),e.abrupt("return",{success:!0,poolNumber:o});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:if(r.sent.success){r.next=10;break}throw Error();case 10:r.next=16;break;case 12:r.prev=12,r.t0=r.catch(4),a(Object(Be.a)("REMOVE_TEAM_POOL")(n)),Object(We.a)("Sorry, a problem occured while adding a pool. Please refresh the page.");case 16:case"end":return r.stop()}}),r,null,[[4,12]])})));return function(e){return r.apply(this,arguments)}}()},Je=function(e,t,n,r){return function(){var a=Object(re.a)(Object(ee.a)().mark((function a(o){var i,c,s,l;return Object(ee.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i={},Object.entries(n).forEach((function(e){var t=Object(ne.a)(e,2),a=t[0],o=t[1];if(parseInt(a)<r)i[a]=o;else if(parseInt(a)!==Object.keys(n).length){var c=n[(parseInt(a)+1).toString()];i[a]=c}})),o(Object(Be.a)("REMOVE_TEAM_POOL")(i)),c=ae.a.firestore(),s=c.collection("leagues").doc(e).collection("sessions").doc(t).collection("teamPools").doc("1"),a.prev=5,a.next=8,c.runTransaction(function(){var e=Object(re.a)(Object(ee.a)().mark((function e(t){var a,o;return Object(ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(s);case 2:if(a=e.sent,(o=a.data())&&Object.keys(o).length===Object.keys(n).length){e.next=7;break}return t.update(s,{}),e.abrupt("return",{success:!1});case 7:return t.set(s,i),e.abrupt("return",{success:!0,poolNumber:r});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:if((l=a.sent).success&&l.poolNumber){a.next=11;break}throw Error();case 11:a.next=17;break;case 13:a.prev=13,a.t0=a.catch(5),o(Object(Be.a)("REMOVE_TEAM_POOL")(n)),Object(We.a)("Sorry, a problem occured while removing a pool. Please refresh the page.");case 17:case"end":return a.stop()}}),a,null,[[5,13]])})));return function(e){return a.apply(this,arguments)}}()},$e=function(e,t,n,r,a,o,i){return function(){var c=Object(re.a)(Object(ee.a)().mark((function c(s){var l,d,u,m,b,p;return Object(ee.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l={},r&&(l[r]=i[r].filter((function(e){return e!==n}))),a&&(d=i[a].filter((function(e){return e!==n})),l[a]=[].concat(Object(Ue.a)(d.slice(0,o)),[n],Object(Ue.a)(d.slice(o)))),s(Object(Be.a)("CHANGE_TEAM_POOL_REQUEST")(l)),u=ae.a.firestore(),m=u.collection("leagues").doc(e).collection("sessions").doc(t).collection("teamPools").doc("1"),c.prev=6,c.next=9,m.update(l);case 9:return c.next=11,m.get();case 11:b=c.sent,p=b.data(),s(Object(Be.a)("CHANGE_TEAM_POOL_SUCCESS")(p)),c.next=20;break;case 16:c.prev=16,c.t0=c.catch(6),s(Object(Be.a)("CHANGE_TEAM_POOL_SUCCESS")(i)),Object(We.a)("Sorry, a problem occured while moving a team. Please refresh the page.");case 20:case"end":return c.stop()}}),c,null,[[6,16]])})));return function(e){return c.apply(this,arguments)}}()},Xe=function(e,t,n,r){return function(){var a=Object(re.a)(Object(ee.a)().mark((function a(o){var i;return Object(ee.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o(Object(Be.a)("EDIT_PLAYER_POOLS")(r)),i=ae.a.firestore(),a.next=5,i.collection("leagues").doc(e).collection("sessions").doc(t).collection("playerPools").doc("1").set(r);case 5:a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),o(Object(Be.a)("EDIT_PLAYER_POOLS")(n)),Object(We.a)("Sorry, a problem occured while editing your pools. Please refresh the page.");case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},Ze=function(e,t,n){return function(){var r=Object(re.a)(Object(ee.a)().mark((function r(a){var o,i,c;return Object(ee.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=Object.keys(n).length+1,a(Object(Be.a)("ADD_PLAYER_POOL")(o)),i=ae.a.firestore(),c=i.collection("leagues").doc(e).collection("sessions").doc(t).collection("playerPools").doc("1"),r.prev=4,r.next=7,i.runTransaction(function(){var e=Object(re.a)(Object(ee.a)().mark((function e(t){var r,a;return Object(ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(c);case 2:if(r=e.sent,!(!(a=r.data())&&Object.keys(n).length>0||a&&Object.keys(a).length!==Object.keys(n).length)){e.next=7;break}return t.update(c,{}),e.abrupt("return",{success:!1});case 7:return t.set(c,Object(te.a)({},o.toString(),[]),{merge:!0}),e.abrupt("return",{success:!0,poolNumber:o});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:if(r.sent.success){r.next=10;break}throw Error();case 10:r.next=17;break;case 12:r.prev=12,r.t0=r.catch(4),console.error(r.t0),a(Object(Be.a)("REMOVE_PLAYER_POOL")(n)),Object(We.a)("Sorry, a problem occured while adding a pool. Please refresh the page.");case 17:case"end":return r.stop()}}),r,null,[[4,12]])})));return function(e){return r.apply(this,arguments)}}()},et=function(e,t,n,r){return function(){var a=Object(re.a)(Object(ee.a)().mark((function a(o){var i,c,s,l;return Object(ee.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i={},Object.entries(n).forEach((function(e){var t=Object(ne.a)(e,2),a=t[0],o=t[1];if(parseInt(a)<r)i[a]=o;else if(parseInt(a)!==Object.keys(n).length){var c=n[(parseInt(a)+1).toString()];i[a]=c}})),o(Object(Be.a)("REMOVE_PLAYER_POOL")(i)),c=ae.a.firestore(),s=c.collection("leagues").doc(e).collection("sessions").doc(t).collection("playerPools").doc("1"),a.prev=5,a.next=8,c.runTransaction(function(){var e=Object(re.a)(Object(ee.a)().mark((function e(t){var a,o;return Object(ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(s);case 2:if(a=e.sent,(o=a.data())&&Object.keys(o).length===Object.keys(n).length){e.next=7;break}return t.update(s,{}),e.abrupt("return",{success:!1});case 7:return t.set(s,i),e.abrupt("return",{success:!0,poolNumber:r});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:if((l=a.sent).success&&l.poolNumber){a.next=11;break}throw Error();case 11:a.next=17;break;case 13:a.prev=13,a.t0=a.catch(5),o(Object(Be.a)("REMOVE_PLAYER_POOL")(n)),Object(We.a)("Sorry, a problem occured while removing a pool. Please refresh the page.");case 17:case"end":return a.stop()}}),a,null,[[5,13]])})));return function(e){return a.apply(this,arguments)}}()},tt=function(e,t,n,r,a,o,i){return function(){var c=Object(re.a)(Object(ee.a)().mark((function c(s){var l,d,u,m,b,p;return Object(ee.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l={},r&&(l[r]=i[r].filter((function(e){return e!==n}))),a&&(d=i[a].filter((function(e){return e!==n})),l[a]=[].concat(Object(Ue.a)(d.slice(0,o)),[n],Object(Ue.a)(d.slice(o)))),s(Object(Be.a)("CHANGE_PLAYER_POOL_REQUEST")(l)),u=ae.a.firestore(),m=u.collection("leagues").doc(e).collection("sessions").doc(t).collection("playerPools").doc("1"),c.prev=6,c.next=9,m.update(l);case 9:return c.next=11,m.get();case 11:b=c.sent,p=b.data(),s(Object(Be.a)("CHANGE_PLAYER_POOL_SUCCESS")(p)),c.next=20;break;case 16:c.prev=16,c.t0=c.catch(6),s(Object(Be.a)("CHANGE_PLAYER_POOL_SUCCESS")(i)),Object(We.a)("Sorry, a problem occured while moving a team. Please refresh the page.");case 20:case"end":return c.stop()}}),c,null,[[6,16]])})));return function(e){return c.apply(this,arguments)}}()},nt=Oe.c.div.withConfig({displayName:"PoolItem__Container",componentId:"sc-190aita-0"})(["background:",";box-shadow:0 3px 6px rgba(0,0,0,0.08);width:100%;border-radius:0.5rem;padding:0.75rem 1rem;margin-bottom:1rem;"," ",""],(function(e){return e.theme.colors.whites[0]}),Re.b.greaterThan("md")(c||(c=Object(je.a)(["\n     width: calc(50% - 0.5rem);\n     \n     &:not(:nth-child(2n)) {\n       margin-right: 1rem;\n     }\n  "]))),Re.b.greaterThan("xl")(s||(s=Object(je.a)(["\n     width: calc(33% - 0.6665rem);\n\n     /* Cancel margins from previous breakpoint */\n     &:not(:nth-child(2n)) {\n       margin-right: 0rem;\n     }\n     \n     &:not(:nth-child(3n)) {\n       margin-right: 1rem;\n     }\n  "])))),rt=Oe.c.div.withConfig({displayName:"PoolItem__PoolHeader",componentId:"sc-190aita-1"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:0.75rem;.pool-title{margin-bottom:0;}.icon{opacity:0.25;cursor:pointer;&:hover{opacity:1;color:",";}}"],(function(e){return e.theme.colors.danger})),at=Oe.c.div.withConfig({displayName:"PoolItem__DroppableContainer",componentId:"sc-190aita-2"})(["min-height:220px;"]),ot=function(e){return Object(Ie.jsxs)(nt,{children:[Object(Ie.jsxs)(rt,{children:[Object(Ie.jsxs)("h5",{className:"pool-title",children:["Pool ",e.poolNumber]}),!e.setupIsLocked&&Object(Ie.jsx)("i",{className:"fas fa-trash-alt icon",title:"Delete pool",onClick:function(){return e.removeTeamPool(e.poolNumber)}})]}),Object(Ie.jsx)(Te.c,{droppableId:e.poolNumber.toString(),type:"pool",isDropDisabled:e.setupIsLocked,children:function(t,n){return Object(Ie.jsxs)(at,Object(se.a)(Object(se.a)({ref:t.innerRef},t.droppableProps),{},{children:[e.pool.map((function(t,n){var r=e.leagueTeams?e.leagueTeams[t]:null;return r?Object(Ie.jsx)(Pe,{leagueTeam:r,index:n,setupIsLocked:e.setupIsLocked},r.id):null})),t.placeholder]}))}})]})},it=n(23),ct=Object(Oe.c)(nt).withConfig({displayName:"NewPoolItem__Container",componentId:"sc-1qr2sy5-0"})(["display:flex;justify-content:center;align-items:center;min-height:276px;background:none;box-shadow:none;border:2px dashed rgba(0,0,0,0.15);.icon{margin-right:0.5rem;}"]),st=function(e){return Object(Ie.jsx)(ct,{children:Object(Ie.jsxs)(it.a,{theme:"primary",onClick:e.addTeamPool,children:[Object(Ie.jsx)("i",{className:"fas fa-plus icon"}),"Add a pool"]})})},lt=n(210),dt=Oe.c.div.withConfig({displayName:"PoolList__Container",componentId:"sc-727ds-0"})([".header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;.title{font-size:1.5rem;margin-bottom:0;}.controls{display:none;.icon{margin-right:0.5rem;}}.controls-dropdown .icon{padding:0.25rem;cursor:pointer;opacity:0.25;&:hover{opacity:1;}}}",""],Re.b.greaterThan("md")(l||(l=Object(je.a)(["\n    .header {\n      .title {\n        font-size: 2rem;\n      }\n      .controls {\n        display: block;\n      }\n      .controls-dropdown {\n        display: none;\n      }\n    }\n  "])))),ut=Oe.c.div.withConfig({displayName:"PoolList__PoolListContainer",componentId:"sc-727ds-1"})(["display:flex;flex-wrap:wrap;align-items:flex-start;"]),mt=Oe.c.div.withConfig({displayName:"PoolList__ErrorWarning",componentId:"sc-727ds-2"})(["font-weight:600;color:",";margin-bottom:0.75em;.icon{margin-right:0.5rem;}"],(function(e){return e.theme.colors.danger})),bt=function(e){var t=e.teamPools&&e.teamPools[1]||{},n=[{label:"Get pools from another session",onClick:e.openOtherSessionModal}];return Object(Ie.jsxs)(dt,{children:[Object(Ie.jsxs)("div",{className:"header",children:[Object(Ie.jsx)("h2",{className:"title",children:"Pools"}),Object(Ie.jsx)("div",{className:"controls",children:Object(Ie.jsxs)(it.a,{theme:"success",onClick:e.openOtherSessionModal,disabled:e.setupIsLocked,children:[Object(Ie.jsx)("i",{className:"far fa-clone icon"}),"Get pools from another session"]})}),Object(Ie.jsx)("div",{className:"controls-dropdown",children:Object(Ie.jsx)(lt.a,{items:n,placement:"BOTTOM_RIGHT",children:Object(Ie.jsx)("i",{className:"fas fa-ellipsis-h icon"})})})]}),!e.setupIsLocked&&e.errorMessage&&Object(Ie.jsxs)(mt,{children:[Object(Ie.jsx)("i",{className:"fas fa-exclamation-circle icon"}),e.errorMessage]}),Object(Ie.jsxs)(ut,{children:[Object.keys(t).map((function(n){return Object(Ie.jsx)(ot,{poolNumber:parseInt(n),pool:t[n],leagueTeams:e.leagueTeams,setupIsLocked:e.setupIsLocked,removeTeamPool:e.removeTeamPool},n)})),!e.setupIsLocked&&Object(Ie.jsx)(st,{addTeamPool:e.addTeamPool})]})]})},pt=Oe.c.select.withConfig({displayName:"Selectstyle__StyledSelect",componentId:"sc-p68stn-0"})(["width:100%;border:none;font-size:inherit;line-height:1.5;padding:0.45em 1em;background:",";border-radius:0.5em;font-weight:600;option:not(:disabled){color:",";}option:disabled{color:rgba(0,0,0,0.25);}&.is-placeholder{color:rgba(0,0,0,0.25);font:400 1rem Muli;opacity:1;font-size:inherit;option:not(:disabled){color:",";}option:disabled{color:rgba(0,0,0,0.25);}}&:focus{outline:0;}"],(function(e){var t=e.background,n=e.theme;return t||n.colors.lightgray}),(function(e){return e.theme.colors.darkblue}),(function(e){return e.theme.colors.darkblue})),ft=pt,ht=n(262),gt=n(80),jt=Oe.c.div.withConfig({displayName:"GenerateModal__Container",componentId:"sc-v1a3wg-0"})([".button-container{display:flex;justify-content:center;margin-top:2.5rem;}"]),Ot=Oe.c.div.withConfig({displayName:"GenerateModal__FormContainer",componentId:"sc-v1a3wg-1"})(["label{margin-bottom:0;font-weight:700;}> div{display:flex;flex-direction:column;align-items:center;margin-bottom:1.25rem;}"]),xt=Object(Oe.c)(ft).withConfig({displayName:"GenerateModal__StyledSelect",componentId:"sc-v1a3wg-2"})(["display:block;padding:0.25rem 0.75rem 0.25rem 0rem;width:auto;"]),vt=Object(Oe.c)(it.a).withConfig({displayName:"GenerateModal__StyledButton",componentId:"sc-v1a3wg-3"})(["font-size:1rem;padding:0.35rem 1.25rem;"]),yt=Object(Oe.c)(Ne.a).withConfig({displayName:"GenerateModal__StyledInfoTooltip",componentId:"sc-v1a3wg-4"})(["margin-left:0.5rem;opacity:0.25;"]),St=function(e){return Object(Ie.jsx)(gt.a,{isOpen:e.isOpen,onRequestClose:e.onRequestClose,size:"sm",children:Object(Ie.jsxs)(jt,{children:[Object(Ie.jsxs)(Ot,{children:[Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("label",{children:"Format"}),Object(Ie.jsx)("div",{children:"Team pool play"})]}),Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)("label",{children:["Rounds",Object(Ie.jsx)(yt,{info:"A round is completed when all teams of a pool have faced each other. You will be able to change pools between rounds if you want."})]}),Object(Ie.jsx)(xt,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("rounds",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.rounds,children:[1,2,3,4,5,6,7,8].map((function(e){return Object(Ie.jsx)("option",{value:e,children:e},e)}))})]}),Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)("label",{children:["Confrontations",Object(Ie.jsx)(yt,{info:"Number of times two teams will face each other in a round."})]}),Object(Ie.jsx)(xt,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("confrontations",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.confrontations,children:[1,2,3,4,5].map((function(e){return Object(Ie.jsx)("option",{value:e,children:e},e)}))})]}),Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("label",{children:"Format of matches"}),Object(Ie.jsxs)(xt,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("numberOfGames",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.numberOfGames,children:[Object(Ie.jsx)("option",{value:"1",children:"Single game"}),Object(Ie.jsx)("option",{value:"3",children:"Best of 3"}),Object(Ie.jsx)("option",{value:"5",children:"Best of 5"})]})]})]}),Object(Ie.jsx)("div",{className:"button-container",children:Object(Ie.jsx)(vt,{loading:e.savingFormatSetting,onClick:e.onRequestClose,children:"Close"})})]})})},wt=Oe.c.div.withConfig({displayName:"GenerateBanner__Banner",componentId:"sc-1blhtig-0"})(["position:absolute;top:0;left:0;right:0;padding:1.5rem 2rem;z-index:2;background:",";box-shadow:5px 3px 6px rgba(0,0,0,0.08);.button-container{display:flex;justify-content:center;align-items:flex-end;margin-top:0.5rem;}.more-settings{flex-direction:column;justify-content:center;color:",";text-align:center;&.more-settings.more-settings.more-settings{align-items:center;}.icon{margin-left:0.25rem;vertical-align:middle;}}"," "," "," ",""],(function(e){return e.theme.colors.whites[0]}),(function(e){return e.theme.colors.primary}),Re.b.lessThan("xs320")(d||(d=Object(je.a)(["\n    padding: 1.5rem 1.5rem;\n    font-size: 0.95rem;\n  "]))),Re.b.greaterThan("md")(u||(u=Object(je.a)(["\n    position: fixed;\n    top: 0;\n    left: ",";\n    right: 0;\n    padding: 1.75rem 2rem 1.5rem;\n\n    display: flex;\n    align-items: center;\n    .button-container {\n      order: 1;\n      margin-top: 0rem;\n      margin-right: 2.5rem;\n    }\n  "])),(function(e){return e.sideMenuWidth+"px"})),Re.b.greaterThan("lg")(m||(m=Object(je.a)(["\n    display: flex;\n    top: initial;\n    bottom: 0;\n    padding: 1.75rem 1.5rem 2rem;\n    .button-container {\n      margin-right: 1.5rem;\n    }\n  "]))),Re.b.greaterThan("xl")(b||(b=Object(je.a)(["\n    padding: 2rem 3rem 2.5rem;\n  "])))),Tt=Object(Oe.c)(it.a).withConfig({displayName:"GenerateBanner__StyledButton",componentId:"sc-1blhtig-1"})(["font-size:1.35rem;padding:0.5rem 1rem;"]),Nt=Oe.c.div.withConfig({displayName:"GenerateBanner__FormatDescription",componentId:"sc-1blhtig-2"})(["flex-grow:1;display:flex;flex-direction:column;align-items:center;label{margin-bottom:0;font-weight:700;}",""],Re.b.greaterThan("md")(p||(p=Object(je.a)(["\n    max-width: 1100px;\n    flex-direction: row;\n    order: 2;\n  "])))),It=Oe.c.div.withConfig({displayName:"GenerateBanner__SettingGroup",componentId:"sc-1blhtig-3"})(["display:flex;justify-content:space-between;width:100%;max-width:360px;&.hide-xs{display:none;}.setting{margin-bottom:1rem;&:nth-child(2){display:flex;flex-direction:column;align-items:flex-end;}&.hide-xs{display:none;}}"," "," ",""],Re.b.greaterThan("md")(f||(f=Object(je.a)(["\n    justify-content: space-between;\n    &:first-child {\n      flex-grow: 1;\n      max-width: none;\n    }\n\n    &.hide-md {\n      display: none;\n    }\n\n    .setting {\n      margin-bottom: 0;\n      &:nth-child(2) {\n        display: block;\n      }\n    }\n\n    .setting.show-md {\n      display: block;\n    }\n\n    .promotions-setting {\n      display: none;\n    }\n  "]))),Re.b.greaterThan("lg")(h||(h=Object(je.a)(["\n    justify-content: space-around;\n    .promotions-setting {\n      display: block;\n    }\n\n    .setting.hide-lg {\n      display: none;\n    }\n    .setting.show-lg {\n      display: block;\n    }\n  "]))),Re.b.greaterThan("xl")(g||(g=Object(je.a)(["\n    .setting.hide-xl {\n      display: none;\n    }\n    .setting.show-xl {\n      display: block;\n    }\n  "])))),Et=Object(Oe.c)(ft).withConfig({displayName:"GenerateBanner__StyledSelect",componentId:"sc-1blhtig-4"})(["display:block;padding:0.25rem 0.5rem 0.25rem 0rem;width:auto;max-width:175px;border-radius:0;",""],Re.b.greaterThan("xl")(j||(j=Object(je.a)(["\n    max-width: 230px;\n  "])))),Ct=Object(Oe.c)(Ne.a).withConfig({displayName:"GenerateBanner__StyledInfoTooltip",componentId:"sc-1blhtig-5"})(["margin-left:0.5rem;opacity:0.25;"]),kt=function(e){var t=Object(xe.useState)(!1),n=Object(ne.a)(t,2),r=n[0],a=n[1],o=function(){var t=Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("h3",{children:"Confirmation"}),Object(Ie.jsx)("p",{style:{fontWeight:400},children:"Once your matches will be generated, many of your settings will be locked."}),Object(Ie.jsx)("p",{style:{fontWeight:400},children:"To modify one of these settings, you will need to delete all your matches and generate them again with your new settings."})]});Object(ht.a)(t,{proceedText:"Generate matches",proceedStyle:{fontSize:"1.15rem"},cancelStyle:{fontSize:"1.15rem"}}).then((function(){e.generateMatches()}))};return Object(Ie.jsxs)(wt,{sideMenuWidth:e.sideMenuWidth,children:[Object(Ie.jsx)(Nt,{children:Object(Ie.jsxs)(It,{children:[Object(Ie.jsxs)("div",{className:"setting",children:[Object(Ie.jsx)("label",{children:"Format"}),Object(Ie.jsxs)(Et,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("name",t.target.value)},value:e.savingFormatSetting?void 0:e.format.name,children:[Object(Ie.jsx)("option",{value:"teamPoolPlay",children:"Team pool play"}),Object(Ie.jsx)("option",{value:"playerKOTC",children:"King of the Court (Players)"})]})]}),Object(Ie.jsxs)("div",{className:"setting hide-xs show-md",children:[Object(Ie.jsxs)("label",{children:["Rounds",Object(Ie.jsx)(Ct,{info:"A round is completed when all teams of a pool have faced each other. You will be able to change pools between rounds if you want."})]}),Object(Ie.jsx)(Et,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("rounds",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.rounds,children:[1,2,3,4,5,6,7,8].map((function(e){return Object(Ie.jsx)("option",{value:e,children:e},e)}))})]}),Object(Ie.jsxs)("div",{className:"setting hide-xs show-lg",children:[Object(Ie.jsxs)("label",{children:["Confrontations",Object(Ie.jsx)(Ct,{info:"Number of times two teams will face each other in a round."})]}),Object(Ie.jsx)(Et,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("confrontations",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.confrontations,children:[1,2,3,4,5].map((function(e){return Object(Ie.jsx)("option",{value:e,children:e},e)}))})]}),Object(Ie.jsxs)("div",{className:"setting hide-xs show-lg",children:[Object(Ie.jsx)("label",{children:"Matches"}),Object(Ie.jsxs)(Et,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("numberOfGames",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.numberOfGames,children:[Object(Ie.jsx)("option",{value:"1",children:"Single game"}),Object(Ie.jsx)("option",{value:"3",children:"Best of 3"})]})]}),Object(Ie.jsxs)("div",{className:"setting more-settings hide-lg",onClick:function(){return a(!0)},children:[Object(Ie.jsx)("div",{children:"More settings"}),Object(Ie.jsx)("div",{children:Object(Ie.jsx)("i",{className:"fas fa-angle-double-right icon"})})]})]})}),Object(Ie.jsxs)("div",{className:"button-container",children:[!e.setupIsLocked&&Object(Ie.jsx)(Tt,{theme:"success",size:"lg",loading:e.savingFormatSetting||e.generatingMatches,onClick:o,disabled:e.setupIsLocked,children:"Generate matches"}),e.setupIsLocked&&Object(Ie.jsx)(Tt,{theme:"danger",size:"lg",loading:e.deletingMatches,onClick:function(){var t=Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("h3",{children:"Confirmation"}),Object(Ie.jsx)("p",{style:{fontWeight:400},children:"Are you sure you want to delete all matches from this session?"})]});Object(ht.a)(t,{proceedText:"Delete all matches",proceedTheme:"danger",proceedStyle:{fontSize:"1.15rem"},cancelStyle:{fontSize:"1.15rem"}}).then((function(){e.deleteMatches()}))},disabled:!e.setupIsLocked,children:"Delete all matches"})]}),Object(Ie.jsx)(St,{format:e.format,editFormatSetting:e.editFormatSetting,savingFormatSetting:e.savingFormatSetting,generateMatches:o,setupIsLocked:e.setupIsLocked,isOpen:r,onRequestClose:function(){return a(!1)}})]})},Pt=n(65),_t=n(40),Mt=n.n(_t),Rt=Oe.c.div.withConfig({displayName:"OtherSessionList__Container",componentId:"sc-18af0ks-0"})(["display:flex;flex-direction:column;align-items:center;margin-bottom:1rem;.title{text-align:center;margin-bottom:1.5rem;}.session-list{width:100%;max-width:600px;}"]),Dt=Oe.c.div.withConfig({displayName:"OtherSessionList__SessionItem",componentId:"sc-18af0ks-1"})(["background:white;border-radius:0.75rem;box-shadow:0 3px 6px rgba(0,0,0,0.08);margin-bottom:0.75rem;padding:0.75rem 1.25rem;width:100%;font-size:1.25rem;display:flex;justify-content:space-between;align-items:center;.icon{margin-left:0.5rem;}"]),Lt=Oe.c.div.withConfig({displayName:"OtherSessionList__NoSessionsMessage",componentId:"sc-18af0ks-2"})(["text-align:center;padding-top:3rem;p{padding-bottom:2rem;}.icon{font-size:3.5rem;}"]),Gt=function(e){return 0===e.sessions.length?Object(Ie.jsxs)(Lt,{children:[Object(Ie.jsx)("h1",{children:Object(Ie.jsx)("i",{className:"far fa-sad-tear icon"})}),Object(Ie.jsx)("p",{children:"There are no other sessions in your league that use the same format as this session."}),Object(Ie.jsx)(it.a,{size:"lg",onClick:e.closeModal,children:"Close"})]}):Object(Ie.jsxs)(Rt,{children:[Object(Ie.jsx)("h2",{className:"title",children:"Select a session"}),Object(Ie.jsx)("div",{className:"session-list",children:Me()(e.sessions.filter((function(e){return e.matchesAreGenerated})),"date").map((function(t){for(var n=[],r=function(r){n.push({label:"Round "+r,onClick:function(){e.setSelectedSession(t),e.setSelectedRound(r)}})},a=1;a<=t.format.rounds;a++)r(a);return Object(Ie.jsxs)(Dt,{children:[Object(Ie.jsxs)("div",{children:[" ",Mt()(t.date.toDate()).format("dddd, MMMM Do")]}),Object(Ie.jsx)(lt.a,{items:n,placement:"BOTTOM_RIGHT",children:Object(Ie.jsxs)(it.a,{as:"span",theme:"success",size:"lg",onPress:function(e){var t;return null===(t=e.target.parentElement)||void 0===t?void 0:t.click()},children:["Select",Object(Ie.jsx)("i",{className:"fas fa-caret-down icon"})]})})]},t.id)}))})]})},At=Oe.c.div.withConfig({displayName:"RoundTeamItem__DraggableContainer",componentId:"sc-ux4ekz-0"})(["background:",";box-shadow:0 3px 6px rgba(0,0,0,0.08);margin-bottom:0.5rem;padding:0.35rem 1rem;border-radius:0.5rem;"],(function(e){return e.theme.colors.whites[0]})),zt=Oe.c.div.withConfig({displayName:"RoundTeamItem__TeamContainer",componentId:"sc-ux4ekz-1"})(["display:flex;.name{flex-grow:1;margin-left:0.75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.pool-diff{margin-left:1rem;white-space:nowrap;.icon{margin-right:0.35rem;}&.red{color:",";}&.green{color:",";}}"],(function(e){return e.theme.colors.danger}),(function(e){return e.theme.colors.primary})),Ft=function(e){var t=e.leagueTeam,n=e.currPool,r=e.prevPool;return Object(Ie.jsx)(Te.b,{draggableId:t.id,index:e.index,isDragDisabled:e.setupIsLocked,children:function(e,a){return Object(Ie.jsx)(At,Object(se.a)(Object(se.a)(Object(se.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(Ie.jsxs)(zt,{children:[Object(Ie.jsx)("div",{children:Object(Ie.jsx)("i",{className:"fas fa-user-friends icon"})}),Object(Ie.jsx)("div",{className:"name",children:t.team.name}),r!==n&&Object(Ie.jsxs)("div",{className:n<r?"pool-diff green":"pool-diff red",children:[n>r&&Object(Ie.jsx)("i",{className:"fas fa-caret-down icon"}),r>n&&Object(Ie.jsx)("i",{className:"fas fa-caret-up icon"}),Math.abs(n-r)]})]})}))}})},Ut=Oe.c.div.withConfig({displayName:"RoundPoolItem__Container",componentId:"sc-acknj2-0"})(["background:",";box-shadow:0 3px 6px rgba(0,0,0,0.08);width:100%;border-radius:0.5rem;padding:0.75rem 1rem;margin-bottom:1rem;"," "," ",""],(function(e){return e.theme.colors.whites[0]}),Re.b.greaterThan("sm")(O||(O=Object(je.a)(["\n     width: calc(50% - 0.5rem);\n     \n     &:not(:nth-child(2n)) {\n       margin-right: 1rem;\n     }\n  "]))),Re.b.greaterThan("lg")(x||(x=Object(je.a)(["\n     width: calc(33% - 0.6666rem);\n\n     &:not(:nth-child(2n)) {\n       margin-right: 0rem;\n     }\n     \n     &:not(:nth-child(3n)) {\n       margin-right: 1rem;\n     }\n  "]))),Re.b.greaterThan("xl")(v||(v=Object(je.a)(["\n     width: calc(25% - 0.75rem);\n\n     /* Cancel margins from previous breakpoint */\n     &:not(:nth-child(3n)) {\n       margin-right: 0rem;\n     }\n     \n     &:not(:nth-child(4n)) {\n       margin-right: 1rem;\n     }\n  "])))),Bt=Oe.c.div.withConfig({displayName:"RoundPoolItem__DroppableContainer",componentId:"sc-acknj2-1"})(["min-height:220px;"]),Wt=function(e){return Object(Ie.jsxs)(Ut,{children:[Object(Ie.jsxs)("h5",{children:["Pool ",e.poolNumber]}),Object(Ie.jsx)(Te.c,{droppableId:e.poolNumber.toString(),type:"pool",isDropDisabled:e.setupIsLocked,children:function(t,n){return Object(Ie.jsxs)(Bt,Object(se.a)(Object(se.a)({ref:t.innerRef},t.droppableProps),{},{children:[e.pool.map((function(t,n){var r=e.leagueTeams?e.leagueTeams[t.leagueTeamID]:null;return r?Object(Ie.jsx)(Ft,{leagueTeam:r,index:n,setupIsLocked:e.setupIsLocked,currPool:e.poolNumber,prevPool:t.prevPool},r.id):null})),t.placeholder]}))}})]})},Ht=Oe.c.div.withConfig({displayName:"RoundPoolList__Container",componentId:"sc-oqib34-0"})(["width:100%;"]),Qt=Oe.c.div.withConfig({displayName:"RoundPoolList__PoolListContainer",componentId:"sc-oqib34-1"})(["display:flex;flex-wrap:wrap;align-items:flex-start;"]),Vt=function(e){var t=e.teamPools;return Object(Ie.jsx)(Ht,{children:Object(Ie.jsx)(Qt,{children:Object.keys(t).map((function(n,r){return Object(Ie.jsx)(Wt,{poolNumber:parseInt(n),pool:t[n],leagueTeams:e.leagueTeams,setupIsLocked:e.setupIsLocked},n)}))})})},Yt=function(){var e=Object(re.a)(Object(ee.a)().mark((function e(t,n,r,a){var o;return Object(ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=Object(He.a)("league-handleTeamPoolPlayNextRound"),e.next=4,o({leagueID:t,sessionID:n,round:r,teamPools:a});case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),Object(We.a)("Sorry, a problem occured while trying to prepare your next round. Please try again or contact an administrator."),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),qt=Oe.c.div.withConfig({displayName:"RoundSetup__Container",componentId:"sc-jjsujg-0"})([".setup{display:flex;margin-top:1.5rem;}.unbalanced-pools-warning{margin:0.5rem 0rem;color:",";font-size:1rem;.icon{margin-right:0.5rem;}}.buttons-container{margin-top:1.5rem;display:flex;justify-content:center;button{margin-left:0.75rem;font-size:1.15rem;}}"],(function(e){return e.theme.colors.warning})),Kt=Oe.c.div.withConfig({displayName:"RoundSetup__PromotionCount",componentId:"sc-jjsujg-1"})(["font-size:1.25rem;margin-top:1rem;"]),Jt=Oe.c.div.withConfig({displayName:"RoundSetup__PromotionCountInput",componentId:"sc-jjsujg-2"})(["display:inline-flex;margin-left:1rem;.minus,.value,.plus{width:2.5rem;text-align:center;user-select:none;}.minus{background-color:",";border-top-left-radius:0.25rem;border-bottom-left-radius:0.25rem;line-height:1.25;cursor:pointer;}.plus{background-color:",";border-top-right-radius:0.25rem;border-bottom-right-radius:0.25rem;line-height:1.25;cursor:pointer;}"],(function(e){return e.theme.colors.lightgray}),(function(e){return e.theme.colors.lightgray})),$t=Object(Se.b)((function(e){return{league:e.league.data,session:e.session.data,statistics:e.session.statistics}}),{})((function(e){var t=Object(xe.useState)(!1),n=Object(ne.a)(t,2),r=n[0],a=n[1],o=Object(xe.useState)(1),i=Object(ne.a)(o,2),c=i[0],s=i[1],l=Object(xe.useState)(null),d=Object(ne.a)(l,2),u=d[0],m=d[1],b=e.league,p=e.statistics,f=e.round,h=e.newRound,g=Object(xe.useMemo)((function(){if(!p)return 1;var e=1e5,t=0;return p[f-1]?Object.entries(p[f-1]).forEach((function(n){var r=Object(ne.a)(n,2),a=(r[0],r[1]),o=Object.keys(a).length;o<e&&(e=o),t++})):e=2,1===t?0:2===t?e:Math.floor(e/2)}),[p,f]);Object(xe.useEffect)((function(){if(p&&p[f-1]){var e={},t=p[f-1];Object.entries(t).forEach((function(t){var n=Object(ne.a)(t,2),r=n[0],a=n[1],o=[],i=Object.keys(a).map((function(e){return{id:e,stats:a[e]}}));pe(i).forEach((function(e){o.push({leagueTeamID:e.id,prevPool:parseInt(r)})})),e[r]=o})),Object.entries(e).forEach((function(t,n,r){var a=Object(ne.a)(t,2),o=a[0],i=a[1],s=Object(Ue.a)(i),l=Object(Ue.a)(r);if(n!==r.length-1)for(var d=1;d<=c;d++)e[o][s.length-d]=l[n+1][1][c-d],e[(parseInt(o)+1).toString()][c-d]=s[s.length-d]})),m(e)}}),[c,p,f]);var j=function(){var t=Object(re.a)(Object(ee.a)().mark((function t(){var n;return Object(ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(!0),!u){t.next=11;break}return n={},Object.entries(u).forEach((function(e){var t=Object(ne.a)(e,2),r=t[0],a=t[1];n[r]=a.map((function(e){return e.leagueTeamID}))})),t.next=6,Yt(e.league.id,e.session.id,f,n);case 6:if(!t.sent){t.next=11;break}return a(!1),e.closeModal(),t.abrupt("return");case 11:a(!1);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=Object(xe.useMemo)((function(){return!h&&(u&&Object.entries(u).every((function(e){var t=Object(ne.a)(e,2),n=t[0],r=t[1];return p&&p[f-1]&&Object.keys(p[f-1][parseInt(n)]).length===r.length})))}),[p,u,f,h]);return Object(Ie.jsxs)(qt,{children:[Object(Ie.jsxs)("h2",{children:["Round ",e.round," - Setup"]}),Object(Ie.jsxs)(Kt,{children:["Apply promotions/relegations:",Object(Ie.jsxs)(Jt,{children:[Object(Ie.jsx)("div",{className:"minus",onClick:function(){return s((function(e){return e>0?e-1:0}))},children:"-"}),Object(Ie.jsx)("div",{className:"value",children:c}),Object(Ie.jsx)("div",{className:"plus",onClick:function(){return s((function(e){return e<g?e+1:g}))},children:"+"})]})]}),Object(Ie.jsx)(De.a,{style:{fontSize:"1rem",marginTop:"0.75rem"},children:"Teams are ordered according to the final standings of the previous round, which allows you to easily apply promotions and relegations."}),Object(Ie.jsx)("div",{className:"setup",children:u?Object(Ie.jsx)(Te.a,{onDragEnd:function(e,t){var n=e.destination,r=e.source;if(n&&(n.droppableId!==r.droppableId||n.index!==r.index)&&u&&u[r.droppableId]){var a=Object(se.a)({},u),o=Object(se.a)({},u[r.droppableId][r.index]);a[r.droppableId].splice(r.index,1),a[n.droppableId].splice(n.index,0,o),m(a)}},children:Object(Ie.jsx)(Vt,{leagueTeams:b.leagueTeams,teamPools:u,setupIsLocked:r})}):Object(Ie.jsx)("div",{children:"Preparing your pools..."})}),!O&&!h&&Object(Ie.jsxs)("div",{className:"unbalanced-pools-warning",children:[Object(Ie.jsx)("i",{className:"fas fa-exclamation-triangle icon"}),"If you change the number of teams per pool, existing matches from round ",f," will be deleted and replaced. The number of matches might change."]}),Object(Ie.jsxs)("div",{className:"buttons-container",children:[Object(Ie.jsx)(it.a,{theme:"success",onClick:j,size:"lg",loading:r,disabled:r,children:"Confirm setup"}),Object(Ie.jsx)(it.a,{size:"lg",disabled:r,onClick:e.closeModal,children:"Cancel"})]})]})})),Xt=Oe.c.div.withConfig({displayName:"OtherSessionEditor__Container",componentId:"sc-u6q6ed-0"})([".header{display:flex;align-items:center;margin-bottom:1rem;.title{margin-bottom:0;}.go-back{margin-right:1rem;.icon{margin-right:0.5rem;}}}.setup{margin-top:1.5rem;}.buttons-container{margin-top:1.5rem;display:flex;justify-content:center;button{margin-left:0.75rem;font-size:1.15rem;}.icon{margin-right:0.5rem;}}"]),Zt=Oe.c.div.withConfig({displayName:"OtherSessionEditor__NoSetupMessage",componentId:"sc-u6q6ed-1"})(["text-align:center;padding-top:2rem;p{padding-bottom:2rem;}.icon{margin-right:0.5rem;}"]),en=function(e){var t=e.statistics,n=Object(xe.useState)(0),r=Object(ne.a)(n,2),a=r[0],o=r[1],i=Object(xe.useState)(null),c=Object(ne.a)(i,2),s=c[0],l=c[1],d=Object(xe.useMemo)((function(){if(!t)return 1;var e=1e5,n=0;return t?Object.entries(t).forEach((function(t){var r=Object(ne.a)(t,2),a=(r[0],r[1]),o=Object.keys(a).length;o<e&&(e=o),n++})):e=2,1===n?0:2===n?e:Math.floor(e/2)}),[t]);Object(xe.useEffect)((function(){if(t){var e={};Object.entries(t).forEach((function(t){var n=Object(ne.a)(t,2),r=n[0],a=n[1],o=[],i=Object.keys(a).map((function(e){return{id:e,stats:a[e]}}));pe(i).forEach((function(e){o.push({leagueTeamID:e.id,prevPool:parseInt(r)})})),e[r]=o})),Object.entries(e).forEach((function(t,n,r){var o=Object(ne.a)(t,2),i=o[0],c=o[1],s=Object(Ue.a)(c),l=Object(Ue.a)(r);if(n!==r.length-1)for(var d=1;d<=a;d++)e[i][s.length-d]=l[n+1][1][a-d],e[(parseInt(i)+1).toString()][a-d]=s[s.length-d]})),l(e)}}),[a,t]);var u=function(){var t=Object(re.a)(Object(ee.a)().mark((function t(){var n;return Object(ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s&&(n={},Object.entries(s).forEach((function(e){var t=Object(ne.a)(e,2),r=t[0],a=t[1];n[r]=a.map((function(e){return e.leagueTeamID}))})),e.editTeamPools(n),e.closeModal());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Ie.jsxs)(Xt,{children:[Object(Ie.jsx)("div",{className:"header",children:Object(Ie.jsxs)("h2",{className:"title",children:[Mt()(e.selectedSession.date.toDate()).format("dddd, MMMM Do")," - Round"," ",e.selectedRound]})}),s&&Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(Kt,{children:["Apply promotions/relegations:",Object(Ie.jsxs)(Jt,{children:[Object(Ie.jsx)("div",{className:"minus",onClick:function(){return o((function(e){return e>0?e-1:0}))},children:"-"}),Object(Ie.jsx)("div",{className:"value",children:a}),Object(Ie.jsx)("div",{className:"plus",onClick:function(){return o((function(e){return e<d?e+1:d}))},children:"+"})]})]}),Object(Ie.jsx)(De.a,{style:{fontSize:"1rem",marginTop:"0.75rem"},children:"Teams are ordered according to the final standings of the previous round, which allows you to easily apply promotions and relegations."})]}),Object(Ie.jsx)("div",{className:"setup",children:s?Object(Ie.jsx)(Te.a,{onDragEnd:function(e,t){var n=e.destination,r=e.source;if(n&&(n.droppableId!==r.droppableId||n.index!==r.index)&&s&&s[r.droppableId]){var a=Object(se.a)({},s),o=Object(se.a)({},s[r.droppableId][r.index]);a[r.droppableId].splice(r.index,1),a[n.droppableId].splice(n.index,0,o),l(a)}},children:Object(Ie.jsx)(Vt,{leagueTeams:e.leagueTeams,teamPools:s,setupIsLocked:!1})}):Object(Ie.jsxs)(Zt,{children:[Object(Ie.jsx)("h1",{children:Object(Ie.jsx)("i",{className:"far fa-sad-tear sad-icon"})}),Object(Ie.jsx)("p",{children:"The round you selected is not prepared yet. Please choose another session or round."}),Object(Ie.jsxs)(it.a,{size:"lg",onClick:e.goBack,children:[Object(Ie.jsx)("i",{className:"fas fa-arrow-left icon"}),"Go back"]})]})}),s&&Object(Ie.jsxs)("div",{className:"buttons-container",children:[Object(Ie.jsxs)(it.a,{size:"lg",disabled:!1,onClick:e.goBack,children:[Object(Ie.jsx)("i",{className:"fas fa-arrow-left icon"})," Go back"]}),Object(Ie.jsx)(it.a,{theme:"success",onClick:u,size:"lg",loading:!1,disabled:!1,children:"Confirm setup"})]})]})},tn=function(e){var t=Object(xe.useState)(!0),n=Object(ne.a)(t,2),r=n[0],a=n[1],o=Object(xe.useState)(void 0),i=Object(ne.a)(o,2),c=i[0],s=i[1],l=Object(xe.useState)(void 0),d=Object(ne.a)(l,2),u=d[0],m=d[1],b=Object(xe.useState)(void 0),p=Object(ne.a)(b,2),f=p[0],h=p[1],g=Object(xe.useState)(!1),j=Object(ne.a)(g,2),O=j[0],x=j[1],v=Object(xe.useState)(void 0),y=Object(ne.a)(v,2),S=y[0],w=y[1];return Object(xe.useEffect)((function(){a(!0);var t=function(){var t=Object(re.a)(Object(ee.a)().mark((function t(){var n,r;return Object(ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.firestore().collection("leagues").doc(e.leagueID).collection("sessions").where("format.name","==","teamPoolPlay").get();case 2:n=t.sent,r=[],n.forEach((function(e){r.push(Object(se.a)(Object(se.a)({},e.data()),{},{id:e.id}))})),s(r),a(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.leagueID]),Object(xe.useEffect)((function(){x(!0);var t=function(){var t=Object(re.a)(Object(ee.a)().mark((function t(n){var r,a,o;return Object(ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.firestore().collection("leagues").doc(e.leagueID).collection("sessions").doc(n.id).collection("matches").where("round","==",f).get();case 2:r=t.sent,a=[],r.forEach((function(e){a.push(Object(se.a)(Object(se.a)({},e.data()),{},{id:e.id}))})),0!==a.length&&a[0].team1&&a[0].team2?(o=me(a),w(o)):w({}),x(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();u&&f&&t(u)}),[e.leagueID,u,f]),u&&f||!c?c&&u&&f&&S?Object(Ie.jsx)(en,{selectedSession:u,selectedRound:f,statistics:S[f],leagueTeams:e.leagueTeams,closeModal:e.closeModal,editTeamPools:e.editTeamPools,goBack:function(){m(void 0),h(void 0),w(void 0)}}):Object(Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"4rem 0rem"},children:[Object(Ie.jsx)(Pt.a,{size:40}),Object(Ie.jsx)("div",{style:{marginTop:"1rem"},children:r?"Loading other sessions...":O?"Loading setup...":"Loading..."})]}):Object(Ie.jsx)(Gt,{sessions:c,setSelectedSession:m,setSelectedRound:h,closeModal:e.closeModal})},nn=n(977),rn=Oe.c.div.withConfig({displayName:"Setup__Container",componentId:"sc-1xcu2ah-0"})(["padding-top:9.65rem;.setup{display:flex;opacity:",";}.t-list-container{width:45%;padding-right:0.5rem;}.pools-container{width:55%;padding-left:0.5rem;}"," "," ",""],(function(e){return e.setupIsLocked?.675:1}),Re.b.greaterThan("sm")(y||(y=Object(je.a)(["\n    .t-list-container {\n      padding-right: 1rem;\n    }\n    .pools-container {\n      padding-left: 1rem;\n    }\n  "]))),Re.b.greaterThan("md")(S||(S=Object(je.a)(["\n    padding-top: 6rem;\n    .t-list-container {\n      width: 35%;\n    }\n    .pools-container {\n      width: 65%;\n    }\n  "]))),Re.b.greaterThan("lg")(w||(w=Object(je.a)(["\n    padding-top: 0;\n    padding-bottom: 6.4rem;\n  "])))),an=Oe.c.div.withConfig({displayName:"Setup__SetupIsLocked",componentId:"sc-1xcu2ah-1"})(["display:inline-block;padding:0.75rem 1.5rem;border-radius:0.5rem;background:rgba(220,53,69,0.15);margin-bottom:1.5rem;.title{font-weight:700;.icon{margin-right:0.5rem;}}"]),on=Object(Se.b)((function(e){return{league:e.league.data,session:e.session.data,addingPool:!!e.session.loading.addTeamPool,removingPool:!!e.session.loading.removeTeamPool,savingFormatSetting:!!e.session.loading.editFormatSetting,generatingMatches:!!e.session.loading.generateMatches,deletingMatches:!!e.session.loading.deleteMatches}}),(function(e){return Object(ye.b)({getLeagueTeams:Fe.j,generateMatches:Qe,deleteMatches:Ve,editTeamPools:qe,addTeamPool:Ke,removeTeamPool:Je,changeTeamPool:$e,editFormatSetting:Ye},e)}))((function(e){var t=Object(we.h)(),n=Object(xe.useState)(!1),r=Object(ne.a)(n,2),a=r[0],o=r[1],i=e.league,c=e.session,s=Object(xe.useContext)(nn.a).width,l=i?Object.values(i.leagueTeams||{}).length:1,d=i?i.id:"",u=e.getLeagueTeams;Object(xe.useEffect)((function(){0===l&&u(d)}),[u,l,d]);var m=Object(xe.useMemo)((function(){return c&&c.teamPools&&c.teamPools[1]||{}}),[c]),b=i?i.leagueTeams:void 0,p=Object(xe.useMemo)((function(){if(!m||!m[1])return"You need at least 1 pool.";var e=void 0;return Object.values(m).some((function(t){return t.length<2?(e="Every pool must have at least 2 teams.",!0):t.some((function(t){return!!(b&&b[t]&&b[t].deletedAt)&&(e="You cannot prepare your matches with a team that was removed from your league ("+b[t].team.name+").",!0)}))})),e}),[m,b]);if(!i||!c)return t.push("/"),null;var f=c.teamPools&&c.teamPools[1]||{},h=Object(se.a)({},i.leagueTeams||{});return Object.values(f).forEach((function(e){e.forEach((function(e){delete h[e]}))})),Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)(kt,{generateMatches:function(){p?Object(We.a)(p):e.generateMatches(i.id,c.id,(function(){return t.push("/".concat(i.url,"/session/").concat(c.id))}))},deleteMatches:function(){e.deleteMatches(i.id,c.id)},deletingMatches:e.deletingMatches,generatingMatches:e.generatingMatches,format:c.format,editFormatSetting:function(t,n){e.editFormatSetting(i.id,c.id,t,n)},savingFormatSetting:e.savingFormatSetting,setupIsLocked:!!c.matchesAreGenerated,sideMenuWidth:s}),Object(Ie.jsxs)(rn,{setupIsLocked:!!c.matchesAreGenerated,children:[c.matchesAreGenerated&&Object(Ie.jsxs)(an,{children:[Object(Ie.jsxs)("div",{className:"title",children:[Object(Ie.jsx)("i",{className:"fas fa-lock icon"}),"Your setup is locked!"]}),Object(Ie.jsx)("div",{children:"Once your matches are generated, you cannot edit your setup. If you need to edit something, you have to delete all your matches before."})]}),Object(Ie.jsx)("div",{className:"setup",children:Object(Ie.jsxs)(Te.a,{onDragEnd:function(t,n){var r=t.destination,a=t.source,o=t.draggableId;r&&(r.droppableId===a.droppableId&&r.index===a.index||function(t,n,r,a){e.changeTeamPool(i.id,c.id,t,n,r,a,c.teamPools&&c.teamPools[1]||{})}(o,"team-list"===a.droppableId?null:a.droppableId,"team-list"===r.droppableId?null:r.droppableId,r.index))},children:[Object(Ie.jsx)("div",{className:"t-list-container",children:Object(Ie.jsx)(ze,{totalTeamCount:Object.keys(i.leagueTeams||{}).length,leagueTeams:Object.values(h),setupIsLocked:!!c.matchesAreGenerated})}),Object(Ie.jsx)("div",{className:"pools-container",children:Object(Ie.jsx)(bt,{addTeamPool:function(){e.addTeamPool(i.id,c.id,c.teamPools&&c.teamPools[1]||{})},removeTeamPool:function(t){e.removeTeamPool(i.id,c.id,c.teamPools&&c.teamPools[1]||{},t)},leagueTeams:i.leagueTeams,teamPools:c.teamPools,setupIsLocked:!!c.matchesAreGenerated,openOtherSessionModal:function(){return o(!0)},errorMessage:p})})]})})]}),Object(Ie.jsx)(gt.a,{isOpen:a,onRequestClose:function(){return o(!1)},width:"1200px",children:Object(Ie.jsx)(tn,{leagueID:i.id,leagueTeams:i.leagueTeams,closeModal:function(){return o(!1)},editTeamPools:function(t){return e.editTeamPools(i.id,c.id,(c.teamPools||{})[1],t)}})})]})})),cn=n(20),sn=Oe.c.div.withConfig({displayName:"ReportScoreClickable__Wrapper",componentId:"sc-1qwy42c-0"})(["display:flex;justify-content:center;padding:0.5rem;"]),ln=Oe.c.div.withConfig({displayName:"ReportScoreClickable__Container",componentId:"sc-1qwy42c-1"})(["display:flex;justify-content:space-between;border-radius:0.75rem;padding:0.5rem 1.35rem 0.5rem 1.5rem;background:",";box-shadow:0 3px 6px rgba(0,0,0,0.08),0 0 60px -16px rgba(0,0,0,0.08);cursor:pointer;font-size:",";width:300px;max-width:100%;.label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:0.75rem;}.arrow{display:flex;align-items:center;color:",";font-size:",";}&:hover{transform:translateY(-1px);}"],(function(e){return e.theme.colors.whites[0]}),(function(e){var t=e.fontSize;return t?t+"rem":"1rem"}),(function(e){return e.theme.colors.primary}),(function(e){var t=e.fontSize;return t?.8*t+"rem":"0.8rem"})),dn=function(e){return Object(Ie.jsx)(sn,{className:e.className||"",children:Object(Ie.jsxs)(ln,{onClick:e.onClick,fontSize:e.fontSize,className:"clickable-container",children:[Object(Ie.jsx)("div",{className:"label",children:e.label}),Object(Ie.jsx)("div",{className:"arrow",children:Object(Ie.jsx)("i",{className:"fas fa-long-arrow-alt-right"})})]})})},un=Oe.c.div.withConfig({displayName:"ReportScoreRound__Container",componentId:"sc-1aeir48-0"})([".title{text-align:center;margin-bottom:0.5rem;}.subtitle{text-align:center;color:",";margin-bottom:1.25rem;}"],(function(e){return e.theme.colors.primary})),mn=function(e){var t=Object(xe.useMemo)((function(){for(var t=!0,n=1,r=function(){var r=n;e.matches.find((function(e){return e.round===r&&!!e.team1&&!!e.team2}))?n++:t=!1};!0===t;)r();for(var a=[],o=1;o<=n-1;o++)a.push(o);return a}),[e.matches]);return 1===t.length&&e.setRound(t[0]),Object(Ie.jsxs)(un,{children:[Object(Ie.jsx)("h1",{className:"title",children:"Report a score"}),Object(Ie.jsx)("h5",{className:"subtitle",children:"Select a round"}),t.map((function(n){return Object(Ie.jsx)(dn,{label:"Round "+n,onClick:function(){return e.setRound(n)},fontSize:Math.round(100*(1.25+1/Math.min(t.length,5)))/100},n)}))]})},bn=Oe.c.div.withConfig({displayName:"ReportScorePool__Container",componentId:"sc-hse85c-0"})([".title{text-align:center;margin-bottom:0.5rem;}.subtitle{text-align:center;color:",";margin-bottom:1.25rem;}"],(function(e){return e.theme.colors.primary})),pn=function(e){for(var t=[],n=1;n<=e.numberOfPools;n++)t.push(n);return Object(Ie.jsxs)(bn,{children:[Object(Ie.jsxs)("h1",{className:"title",children:["Round ",e.round]}),Object(Ie.jsx)("h5",{className:"subtitle",children:"Select a pool"}),t.map((function(n){return Object(Ie.jsx)(dn,{label:Z(n),onClick:function(){return e.setPoolNumber(n)},fontSize:Math.round(100*(1.25+1/Math.min(t.length,5)))/100},n)}))]})},fn=Oe.c.div.withConfig({displayName:"ReportScoreTeam__Container",componentId:"sc-1y8r9mw-0"})(["text-align:center;.title{text-align:center;margin-bottom:0.5rem;}.subtitle{text-align:center;color:",";margin-bottom:1.25rem;}"],(function(e){return e.theme.colors.primary})),hn=Object(Oe.c)(dn).withConfig({displayName:"ReportScoreTeam__StyledReportScoreClickable",componentId:"sc-1y8r9mw-1"})([".clickable-container{width:400px;}"]),gn=function(e){var t=e.teams,n=e.poolNumber,r=e.round;return Object(Ie.jsxs)(fn,{children:[n&&Object(Ie.jsxs)("h1",{className:"title",children:["Pool ",n]}),!n&&r&&Object(Ie.jsxs)("h1",{className:"title",children:["Round ",r]}),Object(Ie.jsx)("h5",{className:"subtitle",children:e.title}),t.map((function(n){var r=e.leagueTeams[n];return r?Object(Ie.jsx)(hn,{label:r.team.name,onClick:function(){return e.setTeam(r)},fontSize:Math.round(100*(1.25+1/Math.min(t.length,5)))/100},r.id):null}))]})},jn=n(1041),On=n(1012),xn=n(1010),vn=n(1011),yn=Oe.c.div.withConfig({displayName:"ReportScoreMatches__Container",componentId:"sc-1caurt7-0"})(["text-align:center;.title{text-align:center;margin-bottom:1.5rem;}.match-wrapper{display:flex;justify-content:center;padding:0.75rem;}.confrontation-number{font-weight:600;text-align:center;font-size:1.25rem;}.button-wrapper{display:inline-block;margin-top:2rem;}"]),Sn=Object(Oe.c)(jn.a).withConfig({displayName:"ReportScoreMatches__StyledMatchContainer",componentId:"sc-1caurt7-1"})(["box-shadow:0 3px 6px rgba(0,0,0,0.08),0 0 60px -16px rgba(0,0,0,0.08);width:100%;max-width:500px;text-align:left;cursor:inherit;"]),wn=Oe.c.div.withConfig({displayName:"ReportScoreMatches__ErrorWarning",componentId:"sc-1caurt7-2"})(["font-weight:600;color:",";margin-top:0.5em;.icon{margin-right:0.5rem;}"],(function(e){return e.theme.colors.danger})),Tn=function(e){var t=Object(xe.useState)(e.matches.map((function(e){return Object(se.a)(Object(se.a)({},e),{},{games:e.games.map((function(e){return Object(se.a)({},e)}))})}))),n=Object(ne.a)(t,2),r=n[0],a=n[1],o=Object(xe.useState)(void 0),i=Object(ne.a)(o,2),c=i[0],s=i[1],l=function(e,t,n,o){var i=1===n?"team1Score":"team2Score",c=1===n?"team2Score":"team1Score",s=Object(Ue.a)(r);s[e].games[t]=Object(se.a)(Object(se.a)({},s[e].games[t]),{},Object(te.a)({},i,o?parseInt(o):null)),null===s[e].games[t][i]&&null===s[e].games[t][c]&&s[e].games.splice(t,1);var l=X(s[e]);s[e].winner=l,a(s)};return Object(Ie.jsxs)(yn,{children:[Object(Ie.jsx)("h1",{className:"title",children:"Report score"}),r.map((function(t,n){for(var a=q(t,e.leagueTeams||{},{}),o=K(t,e.leagueTeams||{},{}),i=[],c=0;c<r[n].numberOfGames;c++)i.push(Object(Ie.jsx)(vn.a,{matchNumber:t.matchNumber,canEdit:!0,editMode:!0,setEditMode:function(){},values:t.games[c],gameIndex:c,handleChange:function(e,t,r){return l(n,e,t,r)},submitScores:function(){}},c));return Object(Ie.jsxs)(ve.a.Fragment,{children:[e.matches.length>1&&Object(Ie.jsxs)("div",{className:"confrontation-number",children:["Confrontation ",n+1]}),Object(Ie.jsx)("div",{className:"match-wrapper",children:Object(Ie.jsxs)(Sn,{editMode:!1,canEdit:!0,children:[Object(Ie.jsx)(On.a,{loading:!!t.saving,children:Object(Ie.jsxs)("div",{className:"wrapper",children:[Object(Ie.jsx)("div",{className:"match-number",children:t.matchNumber}),Object(Ie.jsxs)("div",{className:"subtitle",children:["Pool ",t.poolNumber]})]})}),Object(Ie.jsxs)(jn.b,{children:[Object(Ie.jsx)("div",{className:1===t.winner?"winner":"",children:a}),Object(Ie.jsx)("div",{className:2===t.winner?"winner":"",children:o})]}),Object(Ie.jsxs)(xn.a,{winner:t.winner,children:[Object(Ie.jsxs)("i",{children:[Object(Ie.jsx)("div",{className:"team-1-caret",children:Object(Ie.jsx)("i",{className:"fas fa-caret-right"})}),Object(Ie.jsx)("i",{className:"team-2-caret",children:Object(Ie.jsx)("i",{className:"fas fa-caret-right"})})]}),i]})]})},t.id)]},t.id)})),c&&Object(Ie.jsxs)(wn,{children:[Object(Ie.jsx)("i",{className:"fas fa-exclamation-circle icon"}),c]}),Object(Ie.jsx)("div",{className:"button-wrapper",children:Object(Ie.jsxs)(it.a,{theme:"success",size:"lg",onClick:function(){r.every((function(e){return e.games.every((function(e){return!(!e.team1Score&&0!==e.team1Score&&e.team2Score||!e.team2Score&&0!==e.team2Score&&e.team1Score)}))}))?e.reportScores(e.matches,r):s("You must provide a score for both teams.")},loading:e.reportingScores,children:["Save score",e.matches.length>1&&"s"]})})]})},Nn=n(77),In=Oe.c.div.withConfig({displayName:"ReportScoreSuccess__Container",componentId:"sc-1a1tj02-0"})(["min-height:calc(100vh - 9rem - 80px);display:flex;flex-direction:column;justify-content:space-between;text-align:center;.title{text-align:center;margin-bottom:0.5rem;}.subtitle{color:",";}.success-message{font-size:1.4rem;.icon{font-size:8rem;color:",";margin-bottom:1rem;margin-top:1rem;}}.buttons-container{display:flex;justify-content:center;margin-bottom:0.5rem;button{margin:0rem 0.5rem 0.5rem;font-size:1.25rem;}.icon{margin-right:0.75rem;}}"],(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),En=function(e){return Object(Ie.jsxs)(In,{children:[Object(Ie.jsx)("h1",{className:"title",children:"Report Score"}),Object(Ie.jsxs)("div",{className:"success-message",children:[Object(Ie.jsx)("h3",{className:"subtitle",children:"Success!"}),Object(Ie.jsx)("i",{className:"fas fa-check icon"}),Object(Ie.jsx)("p",{children:"Your score was succesfully saved."})]}),Object(Ie.jsxs)("div",{className:"buttons-container",children:[Object(Ie.jsxs)(it.a,{theme:"primary",size:"lg",onClick:e.reset,children:[Object(Ie.jsx)("i",{className:"fas fa-angle-left icon"}),"Report another score"]}),Object(Ie.jsx)(it.a,{size:"lg",onClick:e.closeModal,children:"Close"})]})]})},Cn=function(e){var t=e.matches,n=e.leagueTeams,r=e.userFromAuth,a=e.canReportAnyScore?"anyScore":"myScore",o=Object(xe.useState)(void 0),i=Object(ne.a)(o,2),c=i[0],s=i[1],l=Object(xe.useState)(void 0),d=Object(ne.a)(l,2),u=d[0],m=d[1],b=Object(xe.useState)(void 0),p=Object(ne.a)(b,2),f=p[0],h=p[1],g=Object(xe.useState)(void 0),j=Object(ne.a)(g,2),O=j[0],x=j[1],v=Object(xe.useState)(!1),y=Object(ne.a)(v,2),S=y[0],w=y[1],T=Object(Nn.a)(e.reportingScores);Object(xe.useEffect)((function(){e.reportingScores||!T||e.reportScoresError||w(!0)}),[e.reportingScores,e.reportScoresError,T]);var N=Object(xe.useMemo)((function(){if("anyScore"!==a&&r&&n){var e=[];return t.forEach((function(t){[t.team1?n[t.team1.leagueTeamID]:void 0,t.team2?n[t.team2.leagueTeamID]:void 0].forEach((function(n){var a=!!Object.values((null===n||void 0===n?void 0:n.team.players)||{}).find((function(e){return e.uid===r.uid}));n&&a&&!e.find((function(e){return e.leagueTeam.id===n.id}))&&e.push({leagueTeam:n,poolNumber:t.poolNumber})}))})),e}}),[t,a,n,r]);Object(xe.useEffect)((function(){N&&1===N.length&&(m(N[0].poolNumber),h(N[0].leagueTeam))}),[N]);var I=Object(xe.useMemo)((function(){for(var t=!0,n=1,r=function(){var r=n;e.matches.find((function(e){return"poolNumber"in e&&e.poolNumber===r&&!!e.team1&&!!e.team2}))?n++:t=!1};!0===t;)r();return n-1===1&&m(1),n-1}),[e.matches]),E=Object(xe.useMemo)((function(){if(c&&u){var e=[];return t.forEach((function(t){t.round===c&&t.poolNumber===u&&(t.team1&&!e.find((function(e){return e===t.team1.leagueTeamID}))&&e.push(t.team1.leagueTeamID),t.team2&&!e.find((function(e){return e===t.team2.leagueTeamID}))&&e.push(t.team2.leagueTeamID))})),e}}),[c,u,t]),C=Object(xe.useMemo)((function(){if(c&&f&&O)return t.filter((function(e){return e.round===c&&e.team1&&e.team2&&(e.team1.leagueTeamID===f.id||e.team1.leagueTeamID===O.id)&&(e.team2.leagueTeamID===f.id||e.team2.leagueTeamID===O.id)}))}),[t,c,f,O]);return c?u||"anyScore"!==a?f||!E&&!N?S?Object(Ie.jsx)(En,{reset:function(){s(void 0),m(1===I?1:N&&1===N.length?N[0].poolNumber:void 0),h(N&&1===N.length?N[0].leagueTeam:void 0),x(void 0),w(!1)},closeModal:e.closeModal}):f&&u&&!O&&E?Object(Ie.jsx)(gn,{teams:E.filter((function(e){return e!==f.id})),poolNumber:u,setTeam:x,leagueTeams:n||{},title:N?"Select your opponent":"Select the second team"}):C?Object(Ie.jsx)(Tn,{matches:C,leagueTeams:n||{},reportScores:e.reportScores,reportingScores:e.reportingScores}):Object(Ie.jsx)("h1",{children:"Report Score"}):Object(Ie.jsx)(gn,{teams:N?N.map((function(e){return e.leagueTeam.id})):E||[],poolNumber:u,round:c,setTeam:N?function(e){var t=N.find((function(t){return t.leagueTeam.id===e.id}));t&&(m(t.poolNumber),h(t.leagueTeam))}:h,leagueTeams:n||{},title:N?"Select your team":"Select a first team"}):Object(Ie.jsx)(pn,{round:c,numberOfPools:I,setPoolNumber:m}):Object(Ie.jsx)(mn,{matches:t,setRound:s})},kn=["isOpen","setIsOpen"],Pn=Object(Oe.c)(gt.a).withConfig({displayName:"ReportScoreModal__StyledModal",componentId:"sc-1wwhi0e-0"})(["min-height:calc(100vh - 6rem - 80px);padding:1.5rem 0.5rem;"]),_n=function(e){e.isOpen;var t=e.setIsOpen,n=Object(cn.a)(e,kn);return Object(Ie.jsx)(Pn,{isOpen:e.isOpen,onRequestClose:function(){return e.setIsOpen(!1)},width:"750px",children:Object(Ie.jsx)(Cn,Object(se.a)(Object(se.a)({},n),{},{closeModal:function(){return t(!1)}}))})},Mn="player",Rn={name:"playerKOTC",rounds:1,confrontations:1,numberOfGames:1,allowDraws:!0},Dn={wins:0,losses:0,draws:0,pf:0,pa:0,gf:0,ga:0,court:0,seed:0},Ln=function(e,t,n){var r=e.team1?n[e.team1.leaguePlayers[0]]:void 0,a=e.team1?n[e.team1.leaguePlayers[1]]:void 0;return r&&a?An(r)+"/"+An(a):"Player "+e.seeds[0]+"/Player "+e.seeds[1]},Gn=function(e,t,n){var r=e.team2?n[e.team2.leaguePlayers[0]]:void 0,a=e.team2?n[e.team2.leaguePlayers[1]]:void 0;return r&&a?An(r)+"/"+An(a):"Player "+e.seeds[2]+"/Player "+e.seeds[3]},An=function(e){var t=e.player;if(t.firstName&&t.lastName)return t.firstName+" "+t.lastName[0]+".";var n=e.player.displayName.split(" ");return n[0]&&n[1]?n[0]+" "+n[1][0]+".":n[0]},zn=function(e,t,n,r){return[t.team1,t.team2].some((function(t){return t&&t.leaguePlayers.some((function(t){return"string"===typeof t&&r[t]&&r[t].player.uid===e}))}))},Fn=function(e,t,n,r){return t.filter((function(t){return zn(e,t,n,r)}))},Un=function(e){var t=0,n=0;return e.games?(e.games.forEach((function(e){(e.team1Score&&e.team2Score||e.team1Score&&0===e.team2Score||e.team2Score&&0===e.team1Score)&&(e.team1Score=+e.team1Score,e.team2Score=+e.team2Score,e.team1Score>e.team2Score?t++:e.team1Score<e.team2Score&&n++)})),t>e.numberOfGames/2&&e.team1?1:n>e.numberOfGames/2&&e.team2?2:null):null},Bn=function(e){return"Court "+e},Wn=function(){var e=Object(re.a)(Object(ee.a)().mark((function e(t,n,r){var a,o,i;return Object(ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ae.a.firestore(),o=a.collection("leagues").doc(t),i=o.collection("sessions").doc(n).collection("matches").doc(r.id),e.next=5,a.runTransaction(function(){var e=Object(re.a)(Object(ee.a)().mark((function e(t){var a,c,s,l,d,u,m,b,p,f,h,g;return Object(ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(i);case 2:if((a=e.sent).exists){e.next=6;break}return t.update(i,{}),e.abrupt("return",{success:!1,message:"Match not found."});case 6:if((c=a.data()).team1&&c.team1.leaguePlayers&&c.team2&&c.team2.leaguePlayers){e.next=10;break}return t.update(i,{}),e.abrupt("return",{success:!1,message:"Teams not found."});case 10:for(s=0,l=[c.team1,c.team2];s<l.length;s++){u=Hn(c,(d=l[s]).leaguePlayers),m=Hn(r,d.leaguePlayers),b=ae.a.firestore.FieldValue.increment,p=m&&u?{wins:b(m.wins-u.wins),losses:b(m.losses-u.losses),draws:b(m.draws-u.draws),pf:b(m.pf-u.pf),pa:b(m.pa-u.pa),gf:b(m.gf-u.gf),ga:b(m.ga-u.ga),court:b(c.courtNumber)}:{},f=Object(le.a)(d.leaguePlayers);try{for(f.s();!(h=f.n()).done;)g=h.value,t.set(o.collection("playerStatistics").doc(n),Object(te.a)({},g,p),{merge:!0})}catch(j){f.e(j)}finally{f.f()}}return r.winner=Qn(r),t.update(i,{games:r.games,winner:r.winner}),e.abrupt("return",{success:!0,match:r});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Hn=function(e,t){var n=e.team1&&e.team1.leaguePlayers===t?1:e.team2&&e.team2.leaguePlayers===t?2:null;if(!n)return null;var r=!1,a=[];if(e.games.forEach((function(e){!e.team1Score&&0!==e.team1Score||!e.team2Score&&0!==e.team2Score||(r=!0,a.push(e))})),!r)return Dn;var o=Qn(e),i=o===n?1:0,c=null===o||o===n?0:1,s=a.reduce((function(e,t){return e+(1===n?t.team1Score||0:t.team2Score||0)}),0),l=a.reduce((function(e,t){return e+(1===n?t.team2Score||0:t.team1Score||0)}),0),d=0,u=0;return a.forEach((function(e){(e.team1Score||-1)>(e.team2Score||-1)?1===n?d++:u++:(e.team1Score||-1)<(e.team2Score||-1)&&(1===n?u++:d++)})),{wins:i,losses:c,draws:1===e.numberOfGames&&s===l?1:0,pf:s,pa:l,gf:d,ga:u,court:e.courtNumber}},Qn=function(e){var t=0,n=0;return e.games?(e.games.forEach((function(e){(e.team1Score&&e.team2Score||e.team1Score&&0===e.team2Score||e.team2Score&&0===e.team1Score)&&(e.team1Score=+e.team1Score,e.team2Score=+e.team2Score,e.team1Score>e.team2Score?t++:e.team1Score<e.team2Score&&n++)})),t>e.numberOfGames/2&&e.team1?1:n>e.numberOfGames/2&&e.team2?2:null):null},Vn=function(e){var t,n={},r=Object(le.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=a.round,i=a.courtNumber,c=a.team1,s=a.team2;if(n[o]||(n[o]={}),n[o][i]||(n[o][i]={}),c&&s&&2===c.leaguePlayers.length&&2===s.leaguePlayers.length){var l=0,d=0,u=0,m=0,b=0;if(a.games){var p,f=!1,h=Object(le.a)(a.games);try{for(h.s();!(p=h.n()).done;){var g=p.value;!g.team1Score&&0!==g.team1Score||!g.team2Score&&0!==g.team2Score||(f=!0,l+=g.team1Score,d+=g.team2Score,u+=g.team1Score>g.team2Score?1:0,m+=g.team1Score<g.team2Score?1:0)}}catch(N){h.e(N)}finally{h.f()}b=f&&1===a.numberOfGames&&l===d?1:0}for(var j=0,O=[0,1];j<O.length;j++){var x=O[j],v=n[o][i][c.leaguePlayers[x]]||Dn;n[o][i][c.leaguePlayers[x]]={wins:v.wins+(1===a.winner?1:0),losses:v.losses+(2===a.winner?1:0),draws:v.draws+b,pf:v.pf+l,pa:v.pa+d,gf:v.gf+u,ga:v.ga+m,court:v.court+i,seed:a.seeds[x]}}for(var y=0,S=[0,1];y<S.length;y++){var w=S[y],T=n[o][i][s.leaguePlayers[w]]||Dn;n[o][i][s.leaguePlayers[w]]={wins:T.wins+(2===a.winner?1:0),losses:T.losses+(1===a.winner?1:0),draws:T.draws+b,pf:T.pf+d,pa:T.pa+l,gf:T.gf+m,ga:T.ga+u,court:T.court+i,seed:a.seeds[w+2]}}}else n[o][i][0]=Dn,n[o][i][1]=Dn,n[o][i][2]=Dn,n[o][i][3]=Dn}}catch(N){r.e(N)}finally{r.f()}return n},Yn=function(e,t,n){var r=n.round,a=n.courtNumber,o=n.team1,i=n.team2;if(e[r]||(e[r]={}),e[r][a]||(e[r][a]={}),!o||!i||2!==o.leaguePlayers.length||2!==i.leaguePlayers.length)return e;for(var c=ue.playerKOTC.getTeamStatisticsFromMatch(t,1),s=ue.playerKOTC.getTeamStatisticsFromMatch(n,1),l=Object(se.a)({},e),d=0,u=[0,1];d<u.length;d++){var m=u[d],b=e[r][a][o.leaguePlayers[m]]||Dn;l[r][a][o.leaguePlayers[m]]={wins:b.wins-c.wins+s.wins,losses:b.losses-c.losses+s.losses,draws:b.draws-c.draws+s.draws,pf:b.pf-c.pf+s.pf,pa:b.pa-c.pa+s.pa,gf:b.gf-c.gf+s.gf,ga:b.ga-c.ga+s.ga,court:b.court-c.court+s.court,seed:n.seeds[m]}}for(var p=0,f=[0,1];p<f.length;p++){var h=f[p],g=e[r][a][i.leaguePlayers[h]]||Dn;l[r][a][i.leaguePlayers[h]]={wins:g.wins-c.losses+s.losses,losses:g.losses-c.wins+s.wins,draws:g.draws-c.draws+s.draws,pf:g.pf-c.pa+s.pa,pa:g.pa-c.pf+s.pf,gf:g.gf-c.ga+s.ga,ga:g.ga-c.gf+s.gf,court:g.court-c.court+s.court,seed:n.seeds[h+2]}}return l},qn=function(e){return Object(de.orderBy)(e,["stats.wins",function(e){return e.stats.pf-e.stats.pa},"stats.seed"],["desc","desc","asc"])},Kn=function(e){return Object(de.orderBy)(e,[function(e){return Jn(e.stats)>0&&e.stats.court>0?e.stats.court/Jn(e.stats):999},function(e){return Jn(e.stats)>0?e.stats.wins:-1},function(e){return e.stats.pf||0===e.stats.pf?e.stats.pf-e.stats.pa:-4}],["asc","desc","desc"])},Jn=function(e){return(e.wins||0)+(e.losses||0)+(e.draws||0)},$n=function(e){return e.playerPools?Object.keys(e.playerPools[1]).map((function(e){return{name:"Court "+e,filter:function(t){return"courtNumber"in t&&t.courtNumber.toString()===e}}})):[]},Xn=Oe.c.div.withConfig({displayName:"PlayerItem__DraggableContainer",componentId:"sc-tkg4y-0"})(["background:",";box-shadow:0 3px 6px rgba(0,0,0,0.08);margin-bottom:0.5rem;padding:0.35rem 1rem;border-radius:0.5rem;"],(function(e){return e.theme.colors.whites[0]})),Zn=Oe.c.div.withConfig({displayName:"PlayerItem__PlayerContainer",componentId:"sc-tkg4y-1"})(["display:flex;align-items:center;.name{flex-grow:1;margin-left:0.75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"]),er=Object(Oe.c)(Ne.a).withConfig({displayName:"PlayerItem__StyledInfoTooltip",componentId:"sc-tkg4y-2"})(["color:",";"],(function(e){return e.theme.colors.warning})),tr=function(e){var t=e.leaguePlayer;return Object(Ie.jsx)(Te.b,{draggableId:t.id,index:e.index,isDragDisabled:e.setupIsLocked,children:function(e,n){return Object(Ie.jsx)(Xn,Object(se.a)(Object(se.a)(Object(se.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(Ie.jsxs)(Zn,{children:[Object(Ie.jsx)("div",{children:Object(Ie.jsx)("i",{className:"fas fa-user icon"})}),Object(Ie.jsx)("div",{className:"name",children:t.player.displayName}),t.deletedAt&&Object(Ie.jsx)(er,{info:"This player was removed from your league."})]})}))}})},nr=Oe.c.div.withConfig({displayName:"PlayerList__Container",componentId:"sc-14j2k42-0"})(["height:100%;.title{font-size:1.5rem;margin-bottom:1rem;}",""],Re.b.greaterThan("md")(T||(T=Object(je.a)(["\n    .title {\n      font-size: 2rem;\n    }\n  "])))),rr=Oe.c.div.withConfig({displayName:"PlayerList__DroppableContainer",componentId:"sc-14j2k42-1"})(["display:flex;flex-wrap:wrap;justify-content:space-between;align-content:flex-start;align-items:flex-start;height:calc(100% - 3.4rem);> div{width:100%;}",""],Re.b.greaterThan("xl")(N||(N=Object(je.a)(["\n    > div {\n      width: calc(50% - 0.25rem);\n    }\n  "])))),ar=Oe.c.div.withConfig({displayName:"PlayerList__NoPlayerMessage",componentId:"sc-14j2k42-2"})(["width:100% !important;"]),or=function(e){var t=Me()(e.leaguePlayers,"player.displayName");return Object(Ie.jsxs)(nr,{children:[Object(Ie.jsx)("h2",{className:"title",children:"Players"}),Object(Ie.jsx)(Te.c,{droppableId:"player-list",type:"pool",isDropDisabled:e.setupIsLocked,children:function(n,r){return Object(Ie.jsxs)(rr,Object(se.a)(Object(se.a)({ref:n.innerRef},n.droppableProps),{},{isDraggingOver:r.isDraggingOver,children:[0===e.totalPlayerCount&&Object(Ie.jsxs)(ar,{children:[Object(Ie.jsx)("p",{style:{marginBottom:"0.5rem"},children:"There are no players in your league yet."}),Object(Ie.jsxs)(De.a,{children:["To add players to your league, go back to your league dashboard and head over to the ",Object(Ie.jsx)("i",{children:"Setup"})," page."]})]}),e.totalPlayerCount>0&&0===e.leaguePlayers.length&&Object(Ie.jsx)(ar,{children:"All of your players are placed in a pool."}),t.map((function(t,n){return t.deletedAt?null:Object(Ie.jsx)(tr,{leaguePlayer:t,index:n,setupIsLocked:e.setupIsLocked},t.id)})),n.placeholder]}))}})]})},ir=Oe.c.div.withConfig({displayName:"PoolItem__Container",componentId:"sc-1naa5hl-0"})(["background:",";box-shadow:0 3px 6px rgba(0,0,0,0.08);width:100%;border-radius:0.5rem;padding:0.75rem 1rem;margin-bottom:1rem;"," ",""],(function(e){return e.theme.colors.whites[0]}),Re.b.greaterThan("md")(I||(I=Object(je.a)(["\n     width: calc(50% - 0.5rem);\n     \n     &:not(:nth-child(2n)) {\n       margin-right: 1rem;\n     }\n  "]))),Re.b.greaterThan("xl")(E||(E=Object(je.a)(["\n     width: calc(33% - 0.6665rem);\n\n     /* Cancel margins from previous breakpoint */\n     &:not(:nth-child(2n)) {\n       margin-right: 0rem;\n     }\n     \n     &:not(:nth-child(3n)) {\n       margin-right: 1rem;\n     }\n  "])))),cr=Oe.c.div.withConfig({displayName:"PoolItem__PoolHeader",componentId:"sc-1naa5hl-1"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:0.75rem;.pool-title{margin-bottom:0;}.icon{opacity:0.25;cursor:pointer;&:hover{opacity:1;color:",";}}"],(function(e){return e.theme.colors.danger})),sr=Oe.c.div.withConfig({displayName:"PoolItem__DroppableContainer",componentId:"sc-1naa5hl-2"})(["min-height:180px;"]),lr=function(e){return Object(Ie.jsxs)(ir,{children:[Object(Ie.jsxs)(cr,{children:[Object(Ie.jsxs)("h5",{className:"pool-title",children:["Pool ",e.poolNumber]}),!e.setupIsLocked&&Object(Ie.jsx)("i",{className:"fas fa-trash-alt icon",title:"Delete pool",onClick:function(){return e.removePlayerPool(e.poolNumber)}})]}),Object(Ie.jsx)(Te.c,{droppableId:e.poolNumber.toString(),type:"pool",isDropDisabled:e.setupIsLocked,children:function(t,n){return Object(Ie.jsxs)(sr,Object(se.a)(Object(se.a)({ref:t.innerRef},t.droppableProps),{},{children:[e.pool.map((function(t,n){var r=e.leaguePlayers?e.leaguePlayers[t]:null;return r?Object(Ie.jsx)(tr,{leaguePlayer:r,index:n,setupIsLocked:e.setupIsLocked},r.id):null})),t.placeholder]}))}})]})},dr=Object(Oe.c)(ir).withConfig({displayName:"NewPoolItem__Container",componentId:"sc-73duw2-0"})(["display:flex;justify-content:center;align-items:center;min-height:240px;background:none;box-shadow:none;border:2px dashed rgba(0,0,0,0.15);.icon{margin-right:0.5rem;}"]),ur=function(e){return Object(Ie.jsx)(dr,{children:Object(Ie.jsxs)(it.a,{theme:"primary",onClick:e.addPlayerPool,children:[Object(Ie.jsx)("i",{className:"fas fa-plus icon"}),"Add a pool"]})})},mr=Oe.c.div.withConfig({displayName:"PoolList__Container",componentId:"sc-197vdtc-0"})([".header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;.title{font-size:1.5rem;margin-bottom:0;}.controls{display:none;.icon{margin-right:0.5rem;}}.controls-dropdown .icon{padding:0.25rem;cursor:pointer;opacity:0.25;&:hover{opacity:1;}}}",""],Re.b.greaterThan("md")(C||(C=Object(je.a)(["\n    .header {\n      .title {\n        font-size: 2rem;\n      }\n      .controls {\n        display: block;\n      }\n      .controls-dropdown {\n        display: none;\n      }\n    }\n  "])))),br=Oe.c.div.withConfig({displayName:"PoolList__ErrorWarning",componentId:"sc-197vdtc-1"})(["font-weight:600;color:",";margin-bottom:0.75em;.icon{margin-right:0.5rem;}"],(function(e){return e.theme.colors.danger})),pr=Oe.c.div.withConfig({displayName:"PoolList__PoolListContainer",componentId:"sc-197vdtc-2"})(["display:flex;flex-wrap:wrap;align-items:flex-start;"]),fr=function(e){var t=e.playerPools&&e.playerPools[1]||{},n=[{label:"Get pools from another session",onClick:e.openOtherSessionModal}];return Object(Ie.jsxs)(mr,{children:[Object(Ie.jsxs)("div",{className:"header",children:[Object(Ie.jsx)("h2",{className:"title",children:"Pools"}),Object(Ie.jsx)("div",{className:"controls",children:Object(Ie.jsxs)(it.a,{theme:"success",onClick:e.openOtherSessionModal,disabled:e.setupIsLocked,children:[Object(Ie.jsx)("i",{className:"far fa-clone icon"}),"Get pools from another session"]})}),Object(Ie.jsx)("div",{className:"controls-dropdown",children:Object(Ie.jsx)(lt.a,{items:n,placement:"BOTTOM_RIGHT",children:Object(Ie.jsx)("i",{className:"fas fa-ellipsis-h icon"})})})]}),!e.setupIsLocked&&e.errorMessage&&Object(Ie.jsxs)(br,{children:[Object(Ie.jsx)("i",{className:"fas fa-exclamation-circle icon"}),e.errorMessage]}),Object(Ie.jsxs)(pr,{children:[Object.keys(t).map((function(n){return Object(Ie.jsx)(lr,{poolNumber:parseInt(n),pool:t[n],leaguePlayers:e.leaguePlayers,setupIsLocked:e.setupIsLocked,removePlayerPool:e.removePlayerPool},n)})),!e.setupIsLocked&&Object(Ie.jsx)(ur,{addPlayerPool:e.addPlayerPool})]})]})},hr=Oe.c.div.withConfig({displayName:"GenerateModal__Container",componentId:"sc-1ixsztj-0"})([".button-container{display:flex;justify-content:center;margin-top:2.5rem;}"]),gr=Oe.c.div.withConfig({displayName:"GenerateModal__FormContainer",componentId:"sc-1ixsztj-1"})(["label{margin-bottom:0;font-weight:700;}> div{display:flex;flex-direction:column;align-items:center;margin-bottom:1.25rem;}"]),jr=Object(Oe.c)(ft).withConfig({displayName:"GenerateModal__StyledSelect",componentId:"sc-1ixsztj-2"})(["display:block;padding:0.25rem 0.75rem 0.25rem 0rem;width:auto;"]),Or=Object(Oe.c)(it.a).withConfig({displayName:"GenerateModal__StyledButton",componentId:"sc-1ixsztj-3"})(["font-size:1rem;padding:0.35rem 1.25rem;"]),xr=Object(Oe.c)(Ne.a).withConfig({displayName:"GenerateModal__StyledInfoTooltip",componentId:"sc-1ixsztj-4"})(["margin-left:0.5rem;opacity:0.25;"]),vr=function(e){return Object(Ie.jsx)(gt.a,{isOpen:e.isOpen,onRequestClose:e.onRequestClose,size:"sm",children:Object(Ie.jsxs)(hr,{children:[Object(Ie.jsxs)(gr,{children:[Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("label",{children:"Format"}),Object(Ie.jsx)("div",{children:"Team pool play"})]}),Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)("label",{children:["Rounds",Object(Ie.jsx)(xr,{info:"A round is completed when all teams of a pool have faced each other. You will be able to change pools between rounds if you want."})]}),Object(Ie.jsx)(jr,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("rounds",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.rounds,children:[1,2,3,4,5,6,7,8].map((function(e){return Object(Ie.jsx)("option",{value:e,children:e},e)}))})]}),Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)("label",{children:["Confrontations",Object(Ie.jsx)(xr,{info:"Number of times two teams will face each other in a round."})]}),Object(Ie.jsx)(jr,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("confrontations",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.confrontations,children:[1,2,3,4,5].map((function(e){return Object(Ie.jsx)("option",{value:e,children:e},e)}))})]}),Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("label",{children:"Format of matches"}),Object(Ie.jsxs)(jr,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("numberOfGames",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.numberOfGames,children:[Object(Ie.jsx)("option",{value:"1",children:"Single game"}),Object(Ie.jsx)("option",{value:"3",children:"Best of 3"}),Object(Ie.jsx)("option",{value:"5",children:"Best of 5"})]})]})]}),Object(Ie.jsx)("div",{className:"button-container",children:Object(Ie.jsx)(Or,{loading:e.savingFormatSetting,onClick:e.onRequestClose,children:"Close"})})]})})},yr=Oe.c.div.withConfig({displayName:"GenerateBanner__Banner",componentId:"sc-1q24uyt-0"})(["position:absolute;top:0;left:0;right:0;padding:1.5rem 2rem;z-index:2;background:",";box-shadow:5px 3px 6px rgba(0,0,0,0.08);.button-container{display:flex;justify-content:center;align-items:flex-end;margin-top:0.5rem;}.more-settings{flex-direction:column;justify-content:center;color:",";text-align:center;&.more-settings.more-settings.more-settings{align-items:center;}.icon{margin-left:0.25rem;vertical-align:middle;}}"," "," "," ",""],(function(e){return e.theme.colors.whites[0]}),(function(e){return e.theme.colors.primary}),Re.b.lessThan("xs320")(k||(k=Object(je.a)(["\n    padding: 1.5rem 1.5rem;\n    font-size: 0.95rem;\n  "]))),Re.b.greaterThan("md")(P||(P=Object(je.a)(["\n    position: fixed;\n    top: 0;\n    left: ",";\n    right: 0;\n    padding: 1.75rem 2rem 1.5rem;\n\n    display: flex;\n    align-items: center;\n    .button-container {\n      order: 1;\n      margin-top: 0rem;\n      margin-right: 2.5rem;\n    }\n  "])),(function(e){return e.sideMenuWidth+"px"})),Re.b.greaterThan("lg")(_||(_=Object(je.a)(["\n    display: flex;\n    top: initial; \n    bottom: 0;\n    padding: 1.75rem 1.5rem 2rem;\n    .button-container {\n      margin-right: 1.5rem;\n    }\n  "]))),Re.b.greaterThan("xl")(M||(M=Object(je.a)(["\n    padding: 2rem 3rem 2.5rem;\n  "])))),Sr=Object(Oe.c)(it.a).withConfig({displayName:"GenerateBanner__StyledButton",componentId:"sc-1q24uyt-1"})(["font-size:1.35rem;padding:0.5rem 1rem;"]),wr=Oe.c.div.withConfig({displayName:"GenerateBanner__FormatDescription",componentId:"sc-1q24uyt-2"})(["flex-grow:1;display:flex;flex-direction:column;align-items:center;label{margin-bottom:0;font-weight:700;}",""],Re.b.greaterThan("md")(R||(R=Object(je.a)(["\n    max-width: 1100px;\n    flex-direction: row;\n    order: 2;\n  "])))),Tr=Oe.c.div.withConfig({displayName:"GenerateBanner__SettingGroup",componentId:"sc-1q24uyt-3"})(["display:flex;justify-content:space-between;width:100%;max-width:360px;&.hide-xs{display:none;}.setting{margin-bottom:1rem;&:nth-child(2){display:flex;flex-direction:column;align-items:flex-end;}&.hide-xs{display:none;}}"," "," ",""],Re.b.greaterThan("md")(D||(D=Object(je.a)(["\n    justify-content: space-between;\n    &:first-child {\n      flex-grow: 1;\n      max-width: none;\n    }\n\n    &.hide-md {\n      display: none;\n    }\n\n    .setting {\n      margin-bottom: 0;\n      &:nth-child(2) {\n        display: block;\n      }\n    }\n\n    .setting.show-md {\n      display: block;\n    }\n\n    .promotions-setting {\n      display: none;\n    }\n  "]))),Re.b.greaterThan("lg")(L||(L=Object(je.a)(["\n    justify-content: space-around;\n    .promotions-setting {\n      display: block;\n    }\n\n    .setting.hide-lg {\n      display: none;\n    }\n    .setting.show-lg {\n      display: block;\n    }\n  "]))),Re.b.greaterThan("xl")(G||(G=Object(je.a)(["\n    .setting.hide-xl {\n      display: none;\n    }\n    .setting.show-xl {\n      display: block;\n    }\n  "])))),Nr=Object(Oe.c)(ft).withConfig({displayName:"GenerateBanner__StyledSelect",componentId:"sc-1q24uyt-4"})(["display:block;padding:0.25rem 0.5rem 0.25rem 0rem;width:auto;max-width:175px;border-radius:0;",""],Re.b.greaterThan("xl")(A||(A=Object(je.a)(["\n    max-width: 230px;\n  "])))),Ir=Object(Oe.c)(Ne.a).withConfig({displayName:"GenerateBanner__StyledInfoTooltip",componentId:"sc-1q24uyt-5"})(["margin-left:0.5rem;opacity:0.25;"]),Er=function(e){var t=Object(xe.useState)(!1),n=Object(ne.a)(t,2),r=n[0],a=n[1],o=function(){var t=Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("h3",{children:"Confirmation"}),Object(Ie.jsx)("p",{style:{fontWeight:400},children:"Once your matches will be generated, many of your settings will be locked."}),Object(Ie.jsx)("p",{style:{fontWeight:400},children:"To modify one of these settings, you will need to delete all your matches and generate them again with your new settings."})]});Object(ht.a)(t,{proceedText:"Generate matches",proceedStyle:{fontSize:"1.15rem"},cancelStyle:{fontSize:"1.15rem"}}).then((function(){e.generateMatches()}))};return Object(Ie.jsxs)(yr,{sideMenuWidth:e.sideMenuWidth,children:[Object(Ie.jsx)(wr,{children:Object(Ie.jsxs)(Tr,{children:[Object(Ie.jsxs)("div",{className:"setting",children:[Object(Ie.jsx)("label",{children:"Format"}),Object(Ie.jsxs)(Nr,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("name",t.target.value)},value:e.savingFormatSetting?void 0:e.format.name,children:[Object(Ie.jsx)("option",{value:"teamPoolPlay",children:"Team pool play"}),Object(Ie.jsx)("option",{value:"playerKOTC",children:"King of the Court (Players)"})]})]}),Object(Ie.jsxs)("div",{className:"setting hide-xs show-md",children:[Object(Ie.jsxs)("label",{children:["Rounds",Object(Ie.jsx)(Ir,{info:"A round is completed when all teams of a pool have faced each other. You will be able to change pools between rounds if you want."})]}),Object(Ie.jsx)(Nr,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("rounds",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.rounds,children:[1,2,3,4,5,6,7,8].map((function(e){return Object(Ie.jsx)("option",{value:e,children:e},e)}))})]}),Object(Ie.jsxs)("div",{className:"setting hide-xs show-lg",children:[Object(Ie.jsxs)("label",{children:["Confrontations",Object(Ie.jsx)(Ir,{info:"Number of times two teams will face each other in a round."})]}),Object(Ie.jsx)(Nr,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("confrontations",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.confrontations,children:[1,2,3,4,5].map((function(e){return Object(Ie.jsx)("option",{value:e,children:e},e)}))})]}),Object(Ie.jsxs)("div",{className:"setting hide-xs show-lg",children:[Object(Ie.jsx)("label",{children:"Matches"}),Object(Ie.jsxs)(Nr,{background:"#fff",disabled:e.setupIsLocked,onChange:function(t){return e.editFormatSetting("numberOfGames",parseInt(t.target.value))},value:e.savingFormatSetting?void 0:e.format.numberOfGames,children:[Object(Ie.jsx)("option",{value:"1",children:"Single game"}),Object(Ie.jsx)("option",{value:"3",children:"Best of 3"})]})]}),Object(Ie.jsxs)("div",{className:"setting more-settings hide-lg",onClick:function(){return a(!0)},children:[Object(Ie.jsx)("div",{children:"More settings"}),Object(Ie.jsx)("div",{children:Object(Ie.jsx)("i",{className:"fas fa-angle-double-right icon"})})]})]})}),Object(Ie.jsxs)("div",{className:"button-container",children:[!e.setupIsLocked&&Object(Ie.jsx)(Sr,{theme:"success",size:"lg",loading:e.savingFormatSetting||e.generatingMatches,onClick:o,disabled:e.setupIsLocked,children:"Generate matches"}),e.setupIsLocked&&Object(Ie.jsx)(Sr,{theme:"danger",size:"lg",loading:e.deletingMatches,onClick:function(){var t=Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("h3",{children:"Confirmation"}),Object(Ie.jsx)("p",{style:{fontWeight:400},children:"Are you sure you want to delete all matches from this session?"})]});Object(ht.a)(t,{proceedText:"Delete all matches",proceedTheme:"danger",proceedStyle:{fontSize:"1.15rem"},cancelStyle:{fontSize:"1.15rem"}}).then((function(){e.deleteMatches()}))},disabled:!e.setupIsLocked,children:"Delete all matches"})]}),Object(Ie.jsx)(vr,{format:e.format,editFormatSetting:e.editFormatSetting,savingFormatSetting:e.savingFormatSetting,generateMatches:o,setupIsLocked:e.setupIsLocked,isOpen:r,onRequestClose:function(){return a(!1)}})]})},Cr=Oe.c.div.withConfig({displayName:"OtherSessionList__Container",componentId:"sc-5r9ytk-0"})(["display:flex;flex-direction:column;align-items:center;margin-bottom:1rem;.title{text-align:center;margin-bottom:1.5rem;}.session-list{width:100%;max-width:600px;}"]),kr=Oe.c.div.withConfig({displayName:"OtherSessionList__SessionItem",componentId:"sc-5r9ytk-1"})(["background:white;border-radius:0.75rem;box-shadow:0 3px 6px rgba(0,0,0,0.08);margin-bottom:0.75rem;padding:0.75rem 1.25rem;width:100%;font-size:1.25rem;display:flex;justify-content:space-between;align-items:center;.icon{margin-left:0.5rem;}"]),Pr=Oe.c.div.withConfig({displayName:"OtherSessionList__NoSessionsMessage",componentId:"sc-5r9ytk-2"})(["text-align:center;padding-top:3rem;p{padding-bottom:2rem;}.icon{font-size:3.5rem;}"]),_r=function(e){return 0===e.sessions.length?Object(Ie.jsxs)(Pr,{children:[Object(Ie.jsx)("h1",{children:Object(Ie.jsx)("i",{className:"far fa-sad-tear icon"})}),Object(Ie.jsx)("p",{children:"There are no other sessions in your league that use the same format as this session."}),Object(Ie.jsx)(it.a,{size:"lg",onClick:e.closeModal,children:"Close"})]}):Object(Ie.jsxs)(Cr,{children:[Object(Ie.jsx)("h2",{className:"title",children:"Select a session"}),Object(Ie.jsx)("div",{className:"session-list",children:Me()(e.sessions.filter((function(e){return e.matchesAreGenerated})),"date").map((function(t){for(var n=[],r=function(r){n.push({label:"Round "+r,onClick:function(){e.setSelectedSession(t),e.setSelectedRound(r)}})},a=1;a<=t.format.rounds;a++)r(a);return Object(Ie.jsxs)(kr,{children:[Object(Ie.jsxs)("div",{children:[" ",Mt()(t.date.toDate()).format("dddd, MMMM Do")]}),Object(Ie.jsx)(lt.a,{items:n,placement:"BOTTOM_RIGHT",children:Object(Ie.jsxs)(it.a,{as:"span",theme:"success",size:"lg",onPress:function(e){var t;return null===(t=e.target.parentElement)||void 0===t?void 0:t.click()},children:["Select",Object(Ie.jsx)("i",{className:"fas fa-caret-down icon"})]})})]},t.id)}))})]})},Mr=Oe.c.div.withConfig({displayName:"RoundPlayerItem__DraggableContainer",componentId:"sc-1ihqvuf-0"})(["background:",";box-shadow:0 3px 6px rgba(0,0,0,0.08);margin-bottom:0.5rem;padding:0.35rem 1rem;border-radius:0.5rem;"],(function(e){return e.theme.colors.whites[0]})),Rr=Oe.c.div.withConfig({displayName:"RoundPlayerItem__PlayerContainer",componentId:"sc-1ihqvuf-1"})(["display:flex;.name{flex-grow:1;margin-left:0.75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.pool-diff{margin-left:1rem;white-space:nowrap;.icon{margin-right:0.35rem;}&.red{color:",";}&.green{color:",";}}"],(function(e){return e.theme.colors.danger}),(function(e){return e.theme.colors.primary})),Dr=function(e){var t=e.leaguePlayer,n=e.currPool,r=e.prevPool;return Object(Ie.jsx)(Te.b,{draggableId:t.id,index:e.index,isDragDisabled:e.setupIsLocked,children:function(e,a){return Object(Ie.jsx)(Mr,Object(se.a)(Object(se.a)(Object(se.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(Ie.jsxs)(Rr,{children:[Object(Ie.jsx)("div",{children:Object(Ie.jsx)("i",{className:"fas fa-user-friends icon"})}),Object(Ie.jsx)("div",{className:"name",children:t.player.displayName}),r!==n&&Object(Ie.jsxs)("div",{className:n<r?"pool-diff green":"pool-diff red",children:[n>r&&Object(Ie.jsx)("i",{className:"fas fa-caret-down icon"}),r>n&&Object(Ie.jsx)("i",{className:"fas fa-caret-up icon"}),Math.abs(n-r)]})]})}))}})},Lr=Oe.c.div.withConfig({displayName:"RoundPoolItem__Container",componentId:"sc-1p7q0uh-0"})(["background:",";box-shadow:0 3px 6px rgba(0,0,0,0.08);width:100%;border-radius:0.5rem;padding:0.75rem 1rem;margin-bottom:1rem;"," "," ",""],(function(e){return e.theme.colors.whites[0]}),Re.b.greaterThan("sm")(z||(z=Object(je.a)(["\n     width: calc(50% - 0.5rem);\n     \n     &:not(:nth-child(2n)) {\n       margin-right: 1rem;\n     }\n  "]))),Re.b.greaterThan("lg")(F||(F=Object(je.a)(["\n     width: calc(33% - 0.6666rem);\n\n     &:not(:nth-child(2n)) {\n       margin-right: 0rem;\n     }\n     \n     &:not(:nth-child(3n)) {\n       margin-right: 1rem;\n     }\n  "]))),Re.b.greaterThan("xl")(U||(U=Object(je.a)(["\n     width: calc(25% - 0.75rem);\n\n     /* Cancel margins from previous breakpoint */\n     &:not(:nth-child(3n)) {\n       margin-right: 0rem;\n     }\n     \n     &:not(:nth-child(4n)) {\n       margin-right: 1rem;\n     }\n  "])))),Gr=Oe.c.div.withConfig({displayName:"RoundPoolItem__DroppableContainer",componentId:"sc-1p7q0uh-1"})(["min-height:180px;"]),Ar=function(e){return Object(Ie.jsxs)(Lr,{children:[Object(Ie.jsxs)("h5",{children:["Pool ",e.poolNumber]}),Object(Ie.jsx)(Te.c,{droppableId:e.poolNumber.toString(),type:"pool",isDropDisabled:e.setupIsLocked,children:function(t,n){return Object(Ie.jsxs)(Gr,Object(se.a)(Object(se.a)({ref:t.innerRef},t.droppableProps),{},{children:[e.pool.map((function(t,n){var r=e.leaguePlayers?e.leaguePlayers[t.leaguePlayerID]:null;return r?Object(Ie.jsx)(Dr,{leaguePlayer:r,index:n,setupIsLocked:e.setupIsLocked,currPool:e.poolNumber,prevPool:t.prevPool},r.id):null})),t.placeholder]}))}})]})},zr=Oe.c.div.withConfig({displayName:"RoundPoolList__Container",componentId:"sc-1k8fdlj-0"})(["width:100%;"]),Fr=Oe.c.div.withConfig({displayName:"RoundPoolList__PoolListContainer",componentId:"sc-1k8fdlj-1"})(["display:flex;flex-wrap:wrap;align-items:flex-start;"]),Ur=function(e){var t=e.playerPools;return Object(Ie.jsx)(zr,{children:Object(Ie.jsx)(Fr,{children:Object.keys(t).map((function(n,r){return Object(Ie.jsx)(Ar,{poolNumber:parseInt(n),pool:t[n],leaguePlayers:e.leaguePlayers,setupIsLocked:e.setupIsLocked},n)}))})})},Br=function(){var e=Object(re.a)(Object(ee.a)().mark((function e(t,n,r,a){var o;return Object(ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=Object(He.a)("league-handlePlayerKOTCNextRound"),e.next=4,o({leagueID:t,sessionID:n,round:r,playerPools:a});case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),Object(We.a)("Sorry, a problem occured while trying to prepare your next round. Please try again or contact an administrator."),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Wr=Oe.c.div.withConfig({displayName:"RoundSetup__Container",componentId:"sc-1uzt7is-0"})([".setup{display:flex;margin-top:1.5rem;}.unbalanced-pools-warning{margin:0.5rem 0rem;color:",";font-size:1rem;.icon{margin-right:0.5rem;}}.buttons-container{margin-top:1.5rem;display:flex;justify-content:center;button{margin-left:0.75rem;font-size:1.15rem;}}"],(function(e){return e.theme.colors.warning})),Hr=Oe.c.div.withConfig({displayName:"RoundSetup__PromotionCount",componentId:"sc-1uzt7is-1"})(["font-size:1.25rem;margin-top:1rem;"]),Qr=Oe.c.div.withConfig({displayName:"RoundSetup__PromotionCountInput",componentId:"sc-1uzt7is-2"})(["display:inline-flex;margin-left:1rem;.minus,.value,.plus{width:2.5rem;text-align:center;user-select:none;}.minus{background-color:",";border-top-left-radius:0.25rem;border-bottom-left-radius:0.25rem;line-height:1.25;cursor:pointer;}.plus{background-color:",";border-top-right-radius:0.25rem;border-bottom-right-radius:0.25rem;line-height:1.25;cursor:pointer;}"],(function(e){return e.theme.colors.lightgray}),(function(e){return e.theme.colors.lightgray})),Vr=Object(Se.b)((function(e){return{league:e.league.data,session:e.session.data,statistics:e.session.statistics}}),{})((function(e){var t=Object(xe.useState)(!1),n=Object(ne.a)(t,2),r=n[0],a=n[1],o=Object(xe.useState)(1),i=Object(ne.a)(o,2),c=i[0],s=i[1],l=Object(xe.useState)(null),d=Object(ne.a)(l,2),u=d[0],m=d[1],b=e.league,p=e.statistics,f=e.round,h=e.newRound,g=Object(xe.useMemo)((function(){if(!p)return 1;var e=1e5,t=0;return p[f-1]?Object.entries(p[f-1]).forEach((function(n){var r=Object(ne.a)(n,2),a=(r[0],r[1]),o=Object.keys(a).length;o<e&&(e=o),t++})):e=2,1===t?0:2===t?e:Math.floor(e/2)}),[p,f]);Object(xe.useEffect)((function(){if(p&&p[f-1]){var e={},t=p[f-1];Object.entries(t).forEach((function(t){var n=Object(ne.a)(t,2),r=n[0],a=n[1],o=[],i=Object.keys(a).map((function(e){return{id:e,stats:a[e]}}));qn(i).forEach((function(e){o.push({leaguePlayerID:e.id,prevPool:parseInt(r)})})),e[r]=o})),Object.entries(e).forEach((function(t,n,r){var a=Object(ne.a)(t,2),o=a[0],i=a[1],s=Object(Ue.a)(i),l=Object(Ue.a)(r);if(n!==r.length-1)for(var d=1;d<=c;d++)e[o][s.length-d]=l[n+1][1][c-d],e[(parseInt(o)+1).toString()][c-d]=s[s.length-d]})),m(e)}}),[c,p,f]);var j=function(){var t=Object(re.a)(Object(ee.a)().mark((function t(){var n;return Object(ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(!0),!u){t.next=11;break}return n={},Object.entries(u).forEach((function(e){var t=Object(ne.a)(e,2),r=t[0],a=t[1];n[r]=a.map((function(e){return e.leaguePlayerID}))})),t.next=6,Br(e.league.id,e.session.id,f,n);case 6:if(!t.sent){t.next=11;break}return a(!1),e.closeModal(),t.abrupt("return");case 11:a(!1);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=Object(xe.useMemo)((function(){return!h&&(u&&Object.entries(u).every((function(e){var t=Object(ne.a)(e,2),n=t[0],r=t[1];return p&&p[f-1]&&Object.keys(p[f-1][parseInt(n)]).length===r.length})))}),[p,u,f,h]);return Object(Ie.jsxs)(Wr,{children:[Object(Ie.jsxs)("h2",{children:["Round ",e.round," - Setup"]}),u&&Object.keys(u).length>1&&Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(Hr,{children:["Apply promotions/relegations:",Object(Ie.jsxs)(Qr,{children:[Object(Ie.jsx)("div",{className:"minus",onClick:function(){return s((function(e){return e>0?e-1:0}))},children:"-"}),Object(Ie.jsx)("div",{className:"value",children:c}),Object(Ie.jsx)("div",{className:"plus",onClick:function(){return s((function(e){return e<g?e+1:g}))},children:"+"})]})]}),Object(Ie.jsx)(De.a,{style:{fontSize:"1rem",marginTop:"0.75rem"},children:"Players are ordered according to the final standings of the previous round, which allows you to easily apply promotions and relegations."})]}),Object(Ie.jsx)("div",{className:"setup",children:u?Object(Ie.jsx)(Te.a,{onDragEnd:function(e,t){var n=e.destination,r=e.source;if(n&&(n.droppableId!==r.droppableId||n.index!==r.index)&&u&&u[r.droppableId]){var a=Object(se.a)({},u),o=Object(se.a)({},u[r.droppableId][r.index]);a[r.droppableId].splice(r.index,1),a[n.droppableId].splice(n.index,0,o),m(a)}},children:Object(Ie.jsx)(Ur,{leaguePlayers:b.leaguePlayers,playerPools:u,setupIsLocked:r})}):Object(Ie.jsx)("div",{children:"Preparing your pools..."})}),!O&&!h&&Object(Ie.jsxs)("div",{className:"unbalanced-pools-warning",children:[Object(Ie.jsx)("i",{className:"fas fa-exclamation-triangle icon"}),"If you change the number of players per pool, existing matches from round ",f," will be deleted and replaced. The number of matches might change."]}),Object(Ie.jsxs)("div",{className:"buttons-container",children:[Object(Ie.jsx)(it.a,{theme:"success",onClick:j,size:"lg",loading:r,disabled:r,children:"Confirm setup"}),Object(Ie.jsx)(it.a,{size:"lg",disabled:r,onClick:e.closeModal,children:"Cancel"})]})]})})),Yr=Oe.c.div.withConfig({displayName:"OtherSessionEditor__Container",componentId:"sc-1d9xc92-0"})([".header{display:flex;align-items:center;margin-bottom:1rem;.title{margin-bottom:0;}.go-back{margin-right:1rem;.icon{margin-right:0.5rem;}}}.setup{margin-top:1.5rem;}.buttons-container{margin-top:1.5rem;display:flex;justify-content:center;button{margin-left:0.75rem;font-size:1.15rem;}.icon{margin-right:0.5rem;}}"]),qr=Oe.c.div.withConfig({displayName:"OtherSessionEditor__NoSetupMessage",componentId:"sc-1d9xc92-1"})(["text-align:center;padding-top:2rem;p{padding-bottom:2rem;}.icon{margin-right:0.5rem;}"]),Kr=function(e){var t=e.statistics,n=Object(xe.useState)(0),r=Object(ne.a)(n,2),a=r[0],o=r[1],i=Object(xe.useState)(null),c=Object(ne.a)(i,2),s=c[0],l=c[1],d=t?Object.keys(t):1,u=1===d?0:2===d?4:2;Object(xe.useEffect)((function(){if(t){var e={};Object.entries(t).forEach((function(t){var n=Object(ne.a)(t,2),r=n[0],a=n[1],o=[],i=Object.keys(a).map((function(e){return{id:e,stats:a[e]}}));qn(i).forEach((function(e){o.push({leaguePlayerID:e.id,prevPool:parseInt(r)})})),e[r]=o})),Object.entries(e).forEach((function(t,n,r){var o=Object(ne.a)(t,2),i=o[0],c=o[1],s=Object(Ue.a)(c),l=Object(Ue.a)(r);if(n!==r.length-1)for(var d=1;d<=a;d++)e[i][s.length-d]=l[n+1][1][a-d],e[(parseInt(i)+1).toString()][a-d]=s[s.length-d]})),l(e)}}),[a,t]);var m=function(){var t=Object(re.a)(Object(ee.a)().mark((function t(){var n;return Object(ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s&&(n={},Object.entries(s).forEach((function(e){var t=Object(ne.a)(e,2),r=t[0],a=t[1];n[r]=a.map((function(e){return e.leaguePlayerID}))})),e.editPlayerPools(n),e.closeModal());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Ie.jsxs)(Yr,{children:[Object(Ie.jsx)("div",{className:"header",children:Object(Ie.jsxs)("h2",{className:"title",children:[Mt()(e.selectedSession.date.toDate()).format("dddd, MMMM Do")," - Round"," ",e.selectedRound]})}),s&&Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(Hr,{children:["Apply promotions/relegations:",Object(Ie.jsxs)(Qr,{children:[Object(Ie.jsx)("div",{className:"minus",onClick:function(){return o((function(e){return e>0?e-1:0}))},children:"-"}),Object(Ie.jsx)("div",{className:"value",children:a}),Object(Ie.jsx)("div",{className:"plus",onClick:function(){return o((function(e){return e<u?e+1:u}))},children:"+"})]})]}),Object(Ie.jsx)(De.a,{style:{fontSize:"1rem",marginTop:"0.75rem"},children:"Players are ordered according to the final standings of the selected round, which allows you to easily apply promotions and relegations."})]}),Object(Ie.jsx)("div",{className:"setup",children:s?Object(Ie.jsx)(Te.a,{onDragEnd:function(e,t){var n=e.destination,r=e.source;if(n&&(n.droppableId!==r.droppableId||n.index!==r.index)&&s&&s[r.droppableId]){var a=Object(se.a)({},s),o=Object(se.a)({},s[r.droppableId][r.index]);a[r.droppableId].splice(r.index,1),a[n.droppableId].splice(n.index,0,o),l(a)}},children:Object(Ie.jsx)(Ur,{leaguePlayers:e.leaguePlayers,playerPools:s,setupIsLocked:!1})}):Object(Ie.jsxs)(qr,{children:[Object(Ie.jsx)("h1",{children:Object(Ie.jsx)("i",{className:"far fa-sad-tear sad-icon"})}),Object(Ie.jsx)("p",{children:"The round you selected is not prepared yet. Please choose another session or round."}),Object(Ie.jsxs)(it.a,{size:"lg",onClick:e.goBack,children:[Object(Ie.jsx)("i",{className:"fas fa-arrow-left icon"}),"Go back"]})]})}),s&&Object(Ie.jsxs)("div",{className:"buttons-container",children:[Object(Ie.jsxs)(it.a,{size:"lg",disabled:!1,onClick:e.goBack,children:[Object(Ie.jsx)("i",{className:"fas fa-arrow-left icon"})," Go back"]}),Object(Ie.jsx)(it.a,{theme:"success",onClick:m,size:"lg",loading:!1,disabled:!1,children:"Confirm setup"})]})]})},Jr=function(e){var t=Object(xe.useState)(!0),n=Object(ne.a)(t,2),r=n[0],a=n[1],o=Object(xe.useState)(void 0),i=Object(ne.a)(o,2),c=i[0],s=i[1],l=Object(xe.useState)(void 0),d=Object(ne.a)(l,2),u=d[0],m=d[1],b=Object(xe.useState)(void 0),p=Object(ne.a)(b,2),f=p[0],h=p[1],g=Object(xe.useState)(!1),j=Object(ne.a)(g,2),O=j[0],x=j[1],v=Object(xe.useState)(void 0),y=Object(ne.a)(v,2),S=y[0],w=y[1];return Object(xe.useEffect)((function(){a(!0);var t=function(){var t=Object(re.a)(Object(ee.a)().mark((function t(){var n,r;return Object(ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.firestore().collection("leagues").doc(e.leagueID).collection("sessions").where("format.name","==","playerKOTC").get();case 2:n=t.sent,r=[],n.forEach((function(e){r.push(Object(se.a)(Object(se.a)({},e.data()),{},{id:e.id}))})),s(r),a(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.leagueID]),Object(xe.useEffect)((function(){x(!0);var t=function(){var t=Object(re.a)(Object(ee.a)().mark((function t(n){var r,a,o;return Object(ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.firestore().collection("leagues").doc(e.leagueID).collection("sessions").doc(n.id).collection("matches").where("round","==",f).get();case 2:r=t.sent,a=[],r.forEach((function(e){a.push(Object(se.a)(Object(se.a)({},e.data()),{},{id:e.id}))})),0!==a.length&&a[0].team1&&a[0].team2?(o=Vn(a),w(o)):w({}),x(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();u&&f&&t(u)}),[e.leagueID,u,f]),u&&f||!c?c&&u&&f&&S?Object(Ie.jsx)(Kr,{selectedSession:u,selectedRound:f,statistics:S[f],leaguePlayers:e.leaguePlayers,closeModal:e.closeModal,editPlayerPools:e.editPlayerPools,goBack:function(){m(void 0),h(void 0),w(void 0)}}):Object(Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"4rem 0rem"},children:[Object(Ie.jsx)(Pt.a,{size:40}),Object(Ie.jsx)("div",{style:{marginTop:"1rem"},children:r?"Loading other sessions...":O?"Loading setup...":"Loading..."})]}):Object(Ie.jsx)(_r,{sessions:c,setSelectedSession:m,setSelectedRound:h,closeModal:e.closeModal})},$r=Oe.c.div.withConfig({displayName:"Setup__Container",componentId:"sc-lax0td-0"})(["padding-top:9.65rem;.setup{display:flex;opacity:",";}.t-list-container{width:45%;padding-right:0.5rem;}.pools-container{width:55%;padding-left:0.5rem;}"," "," ",""],(function(e){return e.setupIsLocked?.675:1}),Re.b.greaterThan("sm")(B||(B=Object(je.a)(["\n    .t-list-container {\n      padding-right: 1rem;\n    }\n    .pools-container {\n      padding-left: 1rem;\n    }\n  "]))),Re.b.greaterThan("md")(W||(W=Object(je.a)(["\n    padding-top: 6rem;\n    .t-list-container {\n      width: 35%;\n    }\n    .pools-container {\n      width: 65%;\n    }\n  "]))),Re.b.greaterThan("lg")(H||(H=Object(je.a)(["\n    padding-top: 0;\n    padding-bottom: 6.4rem;\n  "])))),Xr=Oe.c.div.withConfig({displayName:"Setup__SetupIsLocked",componentId:"sc-lax0td-1"})(["display:inline-block;padding:0.75rem 1.5rem;border-radius:0.5rem;background:rgba(220,53,69,0.15);margin-bottom:1.5rem;.title{font-weight:700;.icon{margin-right:0.5rem;}}"]),Zr=Object(Se.b)((function(e){return{league:e.league.data,session:e.session.data,addingPool:!!e.session.loading.addPlayerPool,removingPool:!!e.session.loading.removePlayerPool,savingFormatSetting:!!e.session.loading.editFormatSetting,generatingMatches:!!e.session.loading.generateMatches,deletingMatches:!!e.session.loading.deleteMatches}}),(function(e){return Object(ye.b)({getLeaguePlayers:Fe.i,generateMatches:Qe,deleteMatches:Ve,editPlayerPools:Xe,addPlayerPool:Ze,removePlayerPool:et,changePlayerPool:tt,editFormatSetting:Ye},e)}))((function(e){var t=Object(we.h)(),n=Object(xe.useState)(!1),r=Object(ne.a)(n,2),a=r[0],o=r[1],i=e.league,c=e.session,s=Object(xe.useContext)(nn.a).width,l=i?Object.values(i.leaguePlayers||{}).length:1,d=i?i.id:"",u=e.getLeaguePlayers;Object(xe.useEffect)((function(){0===l&&u(d)}),[u,l,d]);var m=Object(xe.useMemo)((function(){return c&&c.playerPools&&c.playerPools[1]||{}}),[c]),b=i?i.leaguePlayers:void 0,p=Object(xe.useMemo)((function(){if(!m||!m[1])return"You need at least 1 pool.";var e=void 0;return Object.values(m).some((function(t){return 4!==t.length?(e="For this format, every pool must have exactly 4 players.",!0):t.some((function(t){return!!(b&&b[t]&&b[t].deletedAt)&&(e="You cannot prepare your matches with a player that was removed from your league ("+b[t].player.displayName+").",!0)}))})),e}),[m,b]);if(!i||!c)return t.push("/"),null;var f=c.playerPools&&c.playerPools[1]||{},h=Object(se.a)({},i.leaguePlayers||{});return Object.values(f).forEach((function(e){e.forEach((function(e){delete h[e]}))})),Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)(Er,{generateMatches:function(){p?Object(We.a)(p):e.generateMatches(i.id,c.id,(function(){return t.push("/".concat(i.url,"/session/").concat(c.id))}))},deleteMatches:function(){e.deleteMatches(i.id,c.id)},deletingMatches:e.deletingMatches,generatingMatches:e.generatingMatches,format:c.format,editFormatSetting:function(t,n){e.editFormatSetting(i.id,c.id,t,n)},savingFormatSetting:e.savingFormatSetting,setupIsLocked:!!c.matchesAreGenerated,sideMenuWidth:s}),Object(Ie.jsxs)($r,{setupIsLocked:!!c.matchesAreGenerated,children:[c.matchesAreGenerated&&Object(Ie.jsxs)(Xr,{children:[Object(Ie.jsxs)("div",{className:"title",children:[Object(Ie.jsx)("i",{className:"fas fa-lock icon"}),"Your setup is locked!"]}),Object(Ie.jsx)("div",{children:"Once your matches are generated, you cannot edit your setup. If you need to edit something, you have to delete all your matches before."})]}),Object(Ie.jsx)("div",{className:"setup",children:Object(Ie.jsxs)(Te.a,{onDragEnd:function(t,n){var r=t.destination,a=t.source,o=t.draggableId;r&&(r.droppableId===a.droppableId&&r.index===a.index||function(t,n,r,a){e.changePlayerPool(i.id,c.id,t,n,r,a,c.playerPools&&c.playerPools[1]||{})}(o,"player-list"===a.droppableId?null:a.droppableId,"player-list"===r.droppableId?null:r.droppableId,r.index))},children:[Object(Ie.jsx)("div",{className:"t-list-container",children:Object(Ie.jsx)(or,{totalPlayerCount:l,leaguePlayers:Object.values(h),setupIsLocked:!!c.matchesAreGenerated})}),Object(Ie.jsx)("div",{className:"pools-container",children:Object(Ie.jsx)(fr,{addPlayerPool:function(){e.addPlayerPool(i.id,c.id,c.playerPools&&c.playerPools[1]||{})},removePlayerPool:function(t){e.removePlayerPool(i.id,c.id,c.playerPools&&c.playerPools[1]||{},t)},leaguePlayers:i.leaguePlayers,playerPools:c.playerPools,setupIsLocked:!!c.matchesAreGenerated,openOtherSessionModal:function(){return o(!0)},errorMessage:p})})]})})]}),Object(Ie.jsx)(gt.a,{isOpen:a,onRequestClose:function(){return o(!1)},width:"1200px",children:Object(Ie.jsx)(Jr,{leagueID:i.id,leaguePlayers:i.leaguePlayers,closeModal:function(){return o(!1)},editPlayerPools:function(t){return e.editPlayerPools(i.id,c.id,(c.playerPools||{})[1],t)}})})]})})),ea=Oe.c.div.withConfig({displayName:"ReportScoreClickable__Wrapper",componentId:"sc-1a7kjaz-0"})(["display:flex;justify-content:center;padding:0.5rem;"]),ta=Oe.c.div.withConfig({displayName:"ReportScoreClickable__Container",componentId:"sc-1a7kjaz-1"})(["display:flex;justify-content:space-between;border-radius:0.75rem;padding:0.5rem 1.35rem 0.5rem 1.5rem;background:",";box-shadow:0 3px 6px rgba(0,0,0,0.08),0 0 60px -16px rgba(0,0,0,0.08);cursor:pointer;font-size:",";width:300px;max-width:100%;.label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:0.75rem;}.arrow{display:flex;align-items:center;color:",";font-size:",";}&:hover{transform:translateY(-1px);}"],(function(e){return e.theme.colors.whites[0]}),(function(e){var t=e.fontSize;return t?t+"rem":"1rem"}),(function(e){return e.theme.colors.primary}),(function(e){var t=e.fontSize;return t?.8*t+"rem":"0.8rem"})),na=function(e){return Object(Ie.jsx)(ea,{className:e.className||"",children:Object(Ie.jsxs)(ta,{onClick:e.onClick,fontSize:e.fontSize,className:"clickable-container",children:[Object(Ie.jsx)("div",{className:"label",children:e.label}),Object(Ie.jsx)("div",{className:"arrow",children:Object(Ie.jsx)("i",{className:"fas fa-long-arrow-alt-right"})})]})})},ra=Oe.c.div.withConfig({displayName:"ReportScoreRound__Container",componentId:"sc-uwsne8-0"})([".title{text-align:center;margin-bottom:0.5rem;}.subtitle{text-align:center;color:",";margin-bottom:1.25rem;}"],(function(e){return e.theme.colors.primary})),aa=function(e){var t=Object(xe.useMemo)((function(){for(var t=!0,n=1,r=function(){var r=n;e.matches.find((function(e){return e.round===r&&!!e.team1&&!!e.team2}))?n++:t=!1};!0===t;)r();for(var a=[],o=1;o<=n-1;o++)a.push(o);return a}),[e.matches]);return 1===t.length&&e.setRound(t[0]),Object(Ie.jsxs)(ra,{children:[Object(Ie.jsx)("h1",{className:"title",children:"Report a score"}),Object(Ie.jsx)("h5",{className:"subtitle",children:"Select a round"}),t.map((function(n){return Object(Ie.jsx)(na,{label:"Round "+n,onClick:function(){return e.setRound(n)},fontSize:Math.round(100*(1.25+1/Math.min(t.length,5)))/100},n)}))]})},oa=Oe.c.div.withConfig({displayName:"ReportScorePool__Container",componentId:"sc-1ecrgnv-0"})([".title{text-align:center;margin-bottom:0.5rem;}.subtitle{text-align:center;color:",";margin-bottom:1.25rem;}"],(function(e){return e.theme.colors.primary})),ia=function(e){for(var t=[],n=1;n<=e.numberOfPools;n++)t.push(n);return Object(Ie.jsxs)(oa,{children:[Object(Ie.jsxs)("h1",{className:"title",children:["Round ",e.round]}),Object(Ie.jsx)("h5",{className:"subtitle",children:"Select a court"}),t.map((function(n){return Object(Ie.jsx)(na,{label:Bn(n),onClick:function(){return e.setPoolNumber(n)},fontSize:Math.round(100*(1.25+1/Math.min(t.length,5)))/100},n)}))]})},ca=Oe.c.div.withConfig({displayName:"ReportScoreTeammate__Container",componentId:"sc-ver8jx-0"})(["text-align:center;.title{text-align:center;margin-bottom:0.5rem;}.subtitle{text-align:center;color:",";margin-bottom:1.25rem;}"],(function(e){return e.theme.colors.primary})),sa=Object(Oe.c)(na).withConfig({displayName:"ReportScoreTeammate__StyledReportScoreClickable",componentId:"sc-ver8jx-1"})([".clickable-container{width:400px;}"]),la=function(e){var t=e.poolLeaguePlayers,n=e.poolNumber,r=e.round;return Object(Ie.jsxs)(ca,{children:[n&&Object(Ie.jsxs)("h1",{className:"title",children:["Pool ",n]}),!n&&r&&Object(Ie.jsxs)("h1",{className:"title",children:["Round ",r]}),Object(Ie.jsx)("h5",{className:"subtitle",children:e.title}),t.map((function(t){return Object(Ie.jsx)(sa,{label:t.player.displayName,onClick:function(){return e.setTeammate(t.id)},fontSize:1.58},t.id)}))]})},da=Oe.c.div.withConfig({displayName:"ReportScoreMatches__Container",componentId:"sc-1nser7h-0"})(["text-align:center;.title{text-align:center;margin-bottom:1.5rem;}.match-wrapper{display:flex;justify-content:center;padding:0.75rem;}.confrontation-number{font-weight:600;text-align:center;font-size:1.25rem;}.button-wrapper{display:inline-block;margin-top:2rem;}"]),ua=Object(Oe.c)(jn.a).withConfig({displayName:"ReportScoreMatches__StyledMatchContainer",componentId:"sc-1nser7h-1"})(["box-shadow:0 3px 6px rgba(0,0,0,0.08),0 0 60px -16px rgba(0,0,0,0.08);width:100%;max-width:500px;text-align:left;cursor:inherit;"]),ma=Oe.c.div.withConfig({displayName:"ReportScoreMatches__ErrorWarning",componentId:"sc-1nser7h-2"})(["font-weight:600;color:",";margin-top:0.5em;.icon{margin-right:0.5rem;}"],(function(e){return e.theme.colors.danger})),ba=function(e){var t=Object(xe.useState)(e.matches.map((function(e){return Object(se.a)(Object(se.a)({},e),{},{games:e.games.map((function(e){return Object(se.a)({},e)}))})}))),n=Object(ne.a)(t,2),r=n[0],a=n[1],o=Object(xe.useState)(void 0),i=Object(ne.a)(o,2),c=i[0],s=i[1],l=function(e,t,n,o){var i=1===n?"team1Score":"team2Score",c=1===n?"team2Score":"team1Score",s=Object(Ue.a)(r);s[e].games[t]=Object(se.a)(Object(se.a)({},s[e].games[t]),{},Object(te.a)({},i,o?parseInt(o):null)),null===s[e].games[t][i]&&null===s[e].games[t][c]&&s[e].games.splice(t,1);var l=Un(s[e]);s[e].winner=l,a(s)};return Object(Ie.jsxs)(da,{children:[Object(Ie.jsx)("h1",{className:"title",children:"Report score"}),r.map((function(t,n){for(var r=Ln(t,{},e.leaguePlayers||{}),a=Gn(t,{},e.leaguePlayers||{}),o=[],i=0;i<e.matches[n].numberOfGames;i++)o.push(Object(Ie.jsx)(vn.a,{matchNumber:t.matchNumber,canEdit:!0,editMode:!0,setEditMode:function(){},values:t.games[i],gameIndex:i,handleChange:function(e,t,r){return l(n,e,t,r)},submitScores:function(){}},i));return Object(Ie.jsxs)(ve.a.Fragment,{children:[e.matches.length>1&&Object(Ie.jsxs)("div",{className:"confrontation-number",children:["Match ",n+1]}),Object(Ie.jsx)("div",{className:"match-wrapper",children:Object(Ie.jsxs)(ua,{editMode:!1,canEdit:!0,children:[Object(Ie.jsx)(On.a,{loading:!!t.saving,children:Object(Ie.jsxs)("div",{className:"wrapper",children:[Object(Ie.jsx)("div",{className:"match-number",children:t.matchNumber}),Object(Ie.jsxs)("div",{className:"subtitle",children:["Court ",t.courtNumber]})]})}),Object(Ie.jsxs)(jn.b,{children:[Object(Ie.jsx)("div",{className:1===t.winner?"winner":"",children:r}),Object(Ie.jsx)("div",{className:2===t.winner?"winner":"",children:a})]}),Object(Ie.jsxs)(xn.a,{winner:t.winner,children:[Object(Ie.jsxs)("i",{children:[Object(Ie.jsx)("div",{className:"team-1-caret",children:Object(Ie.jsx)("i",{className:"fas fa-caret-right"})}),Object(Ie.jsx)("i",{className:"team-2-caret",children:Object(Ie.jsx)("i",{className:"fas fa-caret-right"})})]}),o]})]})},t.id)]},t.id)})),c&&Object(Ie.jsxs)(ma,{children:[Object(Ie.jsx)("i",{className:"fas fa-exclamation-circle icon"}),c]}),Object(Ie.jsx)("div",{className:"button-wrapper",children:Object(Ie.jsxs)(it.a,{theme:"success",size:"lg",onClick:function(){r.every((function(e){return e.games.every((function(e){return!(!e.team1Score&&0!==e.team1Score&&e.team2Score||!e.team2Score&&0!==e.team2Score&&e.team1Score)}))}))?e.reportScores(e.matches,r):s("You must provide a score for both teams.")},loading:e.reportingScores,children:["Save score",e.matches.length>1&&"s"]})})]})},pa=Oe.c.div.withConfig({displayName:"ReportScoreSuccess__Container",componentId:"sc-fxbvmz-0"})(["min-height:calc(100vh - 9rem - 80px);display:flex;flex-direction:column;justify-content:space-between;text-align:center;.title{text-align:center;margin-bottom:0.5rem;}.subtitle{color:",";}.success-message{font-size:1.4rem;.icon{font-size:8rem;color:",";margin-bottom:1rem;margin-top:1rem;}}.buttons-container{display:flex;justify-content:center;margin-bottom:0.5rem;button{margin:0rem 0.5rem 0.5rem;font-size:1.25rem;}.icon{margin-right:0.75rem;}}"],(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),fa=function(e){return Object(Ie.jsxs)(pa,{children:[Object(Ie.jsx)("h1",{className:"title",children:"Report Score"}),Object(Ie.jsxs)("div",{className:"success-message",children:[Object(Ie.jsx)("h3",{className:"subtitle",children:"Success!"}),Object(Ie.jsx)("i",{className:"fas fa-check icon"}),Object(Ie.jsx)("p",{children:"Your score was succesfully saved."})]}),Object(Ie.jsxs)("div",{className:"buttons-container",children:[Object(Ie.jsxs)(it.a,{theme:"primary",size:"lg",onClick:e.reset,children:[Object(Ie.jsx)("i",{className:"fas fa-angle-left icon"}),"Report another score"]}),Object(Ie.jsx)(it.a,{size:"lg",onClick:e.closeModal,children:"Close"})]})]})},ha=function(e){var t=e.matches,n=e.leaguePlayers,r=e.userFromAuth,a=e.canReportAnyScore?"anyScore":"myScore",o=Object.values(n||{}).find((function(e){return r&&e.player.uid===r.uid})),i=Object(xe.useState)(void 0),c=Object(ne.a)(i,2),s=c[0],l=c[1],d=Object(xe.useState)(void 0),u=Object(ne.a)(d,2),m=u[0],b=u[1],p=Object(xe.useState)(void 0),f=Object(ne.a)(p,2),h=f[0],g=f[1],j=Object(xe.useState)(!1),O=Object(ne.a)(j,2),x=O[0],v=O[1],y=Object(Nn.a)(e.reportingScores);Object(xe.useEffect)((function(){e.reportingScores||!y||e.reportScoresError||v(!0)}),[e.reportingScores,e.reportScoresError,y]),Object(xe.useEffect)((function(){r&&"myScore"===a&&t.some((function(e){return!!zn(r.uid,e,{},n||{})&&(b(e.courtNumber),!0)}))}),[r,a,n,t,s]);var S=Object(xe.useMemo)((function(){for(var t=!0,n=1,r=function(){var r=n;e.matches.find((function(e){return"courtNumber"in e&&e.courtNumber===r&&!!e.team1&&!!e.team2}))?n++:t=!1};!0===t;)r();return n-1===1&&b(1),n-1}),[e.matches]),w=Object(xe.useMemo)((function(){if(r&&s&&m&&n&&"myScore"===a){var e=[];return t.some((function(t){return t.round===s&&t.courtNumber===m&&[t.team1,t.team2].forEach((function(t){t&&t.leaguePlayers&&t.leaguePlayers.forEach((function(t){n[t]&&n[t].player.uid!==r.uid&&e.push(n[t])}))})),3===e.length})),e}}),[s,m,t,n,a,r]),T=Object(xe.useMemo)((function(){if(s&&m&&("anyScore"===a||h&&o)){if("anyScore"===a)return t.filter((function(e){return e.round===s&&e.courtNumber===m}));if(h&&o)return t.filter((function(e){return e.round===s&&e.courtNumber===m&&(e.team1&&e.team1.leaguePlayers.includes(o.id)&&e.team1.leaguePlayers.includes(h)||e.team2&&e.team2.leaguePlayers.includes(o.id)&&e.team2.leaguePlayers.includes(h))}))}}),[t,s,m,h,a,o]);return s?m?s&&m&&w&&!h?Object(Ie.jsx)(la,{poolLeaguePlayers:w,poolNumber:m,round:s,setTeammate:g,title:"Who did you play with?"}):x?Object(Ie.jsx)(fa,{reset:function(){l(void 0),b(1===S?1:void 0),g(void 0),v(!1)},closeModal:e.closeModal}):T?Object(Ie.jsx)(ba,{matches:T,leaguePlayers:n||{},reportScores:e.reportScores,reportingScores:e.reportingScores}):Object(Ie.jsx)("h1",{children:"Report Score"}):Object(Ie.jsx)(ia,{round:s,numberOfPools:S,setPoolNumber:b}):Object(Ie.jsx)(aa,{matches:t,setRound:l})},ga=["isOpen","setIsOpen"],ja=Object(Oe.c)(gt.a).withConfig({displayName:"ReportScoreModal__StyledModal",componentId:"sc-ow7eiw-0"})(["min-height:calc(100vh - 6rem - 80px);padding:1.5rem 0.5rem;"]),Oa=function(e){e.isOpen;var t=e.setIsOpen,n=Object(cn.a)(e,ga);return Object(Ie.jsx)(ja,{isOpen:e.isOpen,onRequestClose:function(){return e.setIsOpen(!1)},width:"750px",children:Object(Ie.jsx)(ha,Object(se.a)(Object(se.a)({},n),{},{closeModal:function(){return t(!1)}}))})},xa={teamPoolPlay:r,playerKOTC:a};t.a=xa},965:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return O})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"m",(function(){return S})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return T})),n.d(t,"g",(function(){return N})),n.d(t,"k",(function(){return I})),n.d(t,"l",(function(){return E}));var r=n(21),a=n(20),o=n(5),i=n(7),c=n(1),s=n(11),l=n(1065),d=n(18),u=(n(98),n(160),n(27)),m=n(40),b=n.n(m),p=n(962),f=["leagueID"],h=function(e,t,n){return function(){var r=Object(s.a)(Object(i.a)().mark((function r(a){var m,f,h,g,j,O,x,v,y,S,w,T;return Object(i.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a(Object(l.a)("CREATE_LEAGUE_REQUEST")(!0)),m=d.a.auth().currentUser,f=m?m.uid:null,m&&f){r.next=5;break}throw new Error;case 5:return h=d.a.firestore(),g=h.collection("leagues").doc(),j=g.collection("private").doc("roles"),O=h.collection("urls").doc(e.url),x=h.collection("users").doc(f),r.prev=10,r.next=13,h.runTransaction(function(){var n=Object(s.a)(Object(i.a)().mark((function n(r){return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.get(O);case 2:if(!n.sent.exists){n.next=5;break}return n.abrupt("return",!1);case 5:return r.set(O,{type:"league",id:g.id,ref:g}),r.set(g,{name:e.name,url:e.url,createdBy:f,createdAt:d.a.firestore.FieldValue.serverTimestamp(),description:e.description,location:e.location&&e.location.address?e.location:null,registration:{closingDate:d.a.firestore.Timestamp.fromDate(b()(e.registration.closingDate).toDate()),player:Object(c.a)(Object(c.a)({},e.registration.player),{},{cost:parseFloat(e.registration.player.cost||"0")}),team:Object(c.a)(Object(c.a)({},e.registration.team),{},{cost:parseFloat(e.registration.team.cost||"0")})},permissions:{isPublic:!0,sessionsArePublic:!1,participantsArePublic:!0,canReportOwnScore:!0,canReportAnyScore:!1},playerCount:1,teamCount:0,format:p.a.teamPoolPlay.defaultValues}),r.set(j,{all:[f],admins:[f],moderators:[],editors:[]}),r.set(g.collection("leaguePlayers").doc(),{player:{uid:f,displayName:t.displayName||"",photoURL:t.photoURL||""},registeredBy:f,registeredAt:d.a.firestore.FieldValue.serverTimestamp()}),r.update(x,{leagues:d.a.firestore.FieldValue.arrayUnion(g.id)}),n.abrupt("return",!0);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 13:if(!1!==r.sent){r.next=16;break}throw Error("Sorry, the url you chose is not available anymore.");case 16:return r.next=18,Promise.all([g.get(),g.collection("private").doc("roles").get()]);case 18:v=r.sent,y=Object(o.a)(v,2),S=y[0],w=y[1],T=Object(c.a)(Object(c.a)({},S.data()),{},{id:S.id,roles:w.data(),leaguePlayers:{},leagueTeams:{}}),a(Object(l.a)("CREATE_LEAGUE_SUCCESS")(T)),n&&n(),r.next=31;break;case 27:r.prev=27,r.t0=r.catch(10),a(Object(l.a)("CREATE_LEAGUE_REQUEST")(!1)),Object(u.a)("Sorry, a problem occured while trying to save your league. Please try again or contact an administrator.");case 31:case"end":return r.stop()}}),r,null,[[10,27]])})));return function(e){return r.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(s.a)(Object(i.a)().mark((function n(r){var a,s,m,b,p,f;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(l.a)("GET_LEAGUE_REQUEST")(!0)),n.prev=1,n.next=4,d.a.firestore().collection("leagues").doc(e);case 4:return a=n.sent,n.next=7,Promise.all([a.get(),a.collection("private").doc("roles").get()]);case 7:s=n.sent,m=Object(o.a)(s,2),b=m[0],p=m[1],f=Object(c.a)(Object(c.a)({},b.data()),{},{id:b.id,roles:p.data()}),r(Object(l.a)("GET_LEAGUE_SUCCESS")(f)),n.next=20;break;case 15:n.prev=15,n.t0=n.catch(1),r(Object(l.a)("GET_LEAGUE_REQUEST")(!1)),Object(u.a)("The resource you are trying to access does not exist or is not public."),t&&t();case 20:case"end":return n.stop()}}),n,null,[[1,15]])})));return function(e){return n.apply(this,arguments)}}()},j=function(e,t){return function(){var n=Object(s.a)(Object(i.a)().mark((function n(r){var a,o,c;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r(Object(l.a)("EDIT_LEAGUE_REQUEST")(!0)),a=d.a.auth().currentUser,a?a.uid:null){n.next=5;break}throw new Error;case 5:return o=d.a.firestore(),c=o.collection("leagues").doc(e.leagueID),n.prev=7,n.next=10,c.update({name:e.name,location:e.location||null,description:e.description||""});case 10:r(Object(l.a)("EDIT_LEAGUE_SUCCESS")(e)),Object(u.b)("Changes were succesfully saved!"),t&&t(),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(7),r(Object(l.a)("EDIT_LEAGUE_REQUEST")(!1)),Object(u.a)("Sorry, a problem occured while trying to edit your league. Please try again or contact an administrator.");case 19:case"end":return n.stop()}}),n,null,[[7,15]])})));return function(e){return n.apply(this,arguments)}}()},O=function(e,t){return function(){var n=Object(s.a)(Object(i.a)().mark((function n(r){var o,c,s,m,b;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r(Object(l.a)("EDIT_LEAGUE_PERMISSIONS_REQUEST")(!0)),o=d.a.auth().currentUser,o?o.uid:null){n.next=5;break}throw new Error;case 5:return c=e.leagueID,s=Object(a.a)(e,f),m=d.a.firestore(),b=m.collection("leagues").doc(c),n.prev=8,n.next=11,b.update({permissions:s});case 11:r(Object(l.a)("EDIT_LEAGUE_PERMISSIONS_SUCCESS")(s)),Object(u.b)("Changes were succesfully saved!"),t&&t(),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(8),r(Object(l.a)("EDIT_LEAGUE_PERMISSIONS_REQUEST")(!1)),Object(u.a)("Sorry, a problem occured while trying to edit your league. Please try again or contact an administrator.");case 20:case"end":return n.stop()}}),n,null,[[8,16]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(s.a)(Object(i.a)().mark((function t(n){var r,a,o,s;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(l.a)("GET_LEAGUE_PLAYERS_REQUEST")(!0)),r=d.a.firestore(),a=r.collection("leagues").doc(e),t.prev=3,t.next=6,a.collection("leaguePlayers").get();case 6:o=t.sent,s={},o.forEach((function(e){s[e.id]=Object(c.a)(Object(c.a)({},e.data()),{},{id:e.id})})),n(Object(l.a)("GET_LEAGUE_PLAYERS_SUCCESS")(s)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),n(Object(l.a)("GET_LEAGUE_PLAYERS_REQUEST")(!1)),Object(u.a)("Sorry, a problem occured while trying to retrieve players of the league.");case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(s.a)(Object(i.a)().mark((function t(n){var r,a,o,s;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(l.a)("GET_LEAGUE_TEAMS_REQUEST")(!0)),r=d.a.firestore(),a=r.collection("leagues").doc(e),t.prev=3,t.next=6,a.collection("leagueTeams").get();case 6:o=t.sent,s={},o.forEach((function(e){s[e.id]=Object(c.a)(Object(c.a)({},e.data()),{},{id:e.id})})),n(Object(l.a)("GET_LEAGUE_TEAMS_SUCCESS")(s)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),n(Object(l.a)("GET_LEAGUE_TEAMS_REQUEST")(!1)),Object(u.a)("Sorry, a problem occured while trying to retrieve teams of the league.");case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e,t,n){return function(){var a=Object(s.a)(Object(i.a)().mark((function a(o){return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(Object(l.a)("ADD_ROLE_REQUEST")(!0)),a.prev=1,a.next=4,d.a.firestore().collection("leagues").doc(e).collection("private").doc("roles").update(Object(r.a)({all:d.a.firestore.FieldValue.arrayUnion(t),admins:d.a.firestore.FieldValue.arrayRemove(t),moderators:d.a.firestore.FieldValue.arrayRemove(t),editors:d.a.firestore.FieldValue.arrayRemove(t)},n,d.a.firestore.FieldValue.arrayUnion(t)));case 4:o(Object(l.a)("ADD_ROLE_SUCCESS")({uid:t,role:n})),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),o(Object(l.a)("ADD_ROLE_REQUEST")(!1)),Object(u.a)("Sorry, a problem occured while trying to edit permissions. Please try again or contact an administrator.");case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},S=function(e,t,n){return function(){var a=Object(s.a)(Object(i.a)().mark((function a(o){return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(Object(l.a)("ADD_ROLE_REQUEST")(!0)),a.prev=1,a.next=4,d.a.firestore().collection("leagues").doc(e).collection("private").doc("roles").update(Object(r.a)({all:d.a.firestore.FieldValue.arrayRemove(t)},n,d.a.firestore.FieldValue.arrayRemove(t)));case 4:o(Object(l.a)("REMOVE_ROLE_SUCCESS")({uid:t,role:n})),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),o(Object(l.a)("ADD_ROLE_REQUEST")(!1)),Object(u.a)("Sorry, a problem occured while trying to edit permissions. Please try again or contact an administrator.");case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(s.a)(Object(i.a)().mark((function n(r){var a,o,c,s;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(l.a)("EDIT_REGISTRATION_SETTINGS_REQUEST")(!0)),a=d.a.firestore(),o=a.collection("leagues").doc(e),n.prev=3,n.next=6,o.update({"registration.closingDate":d.a.firestore.Timestamp.fromDate(t.closingDate.toDate())});case 6:return n.next=8,o.get();case 8:c=n.sent,s=c.data(),r(Object(l.a)("EDIT_REGISTRATION_SETTINGS_SUCCESS")(s.registration)),Object(u.b)("Changes were succesfully saved!"),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(3),r(Object(l.a)("EDIT_REGISTRATION_SETTINGS_REQUEST")(!1)),Object(u.a)("Sorry, a problem occured while trying to edit your league. Please try again or contact an administrator.");case 18:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(e){return n.apply(this,arguments)}}()},T=function(e,t){return function(){var n=Object(s.a)(Object(i.a)().mark((function n(r){var a,o,c,s;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(l.a)("EDIT_PLAYER_REGISTRATION_REQUEST")(!0)),a=d.a.firestore(),o=a.collection("leagues").doc(e),n.prev=3,n.next=6,o.update({"registration.player":t});case 6:return n.next=8,o.get();case 8:c=n.sent,s=c.data(),r(Object(l.a)("EDIT_PLAYER_REGISTRATION_SUCCESS")(s.registration.player)),Object(u.b)("Changes were succesfully saved!"),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(3),r(Object(l.a)("EDIT_PLAYER_REGISTRATION_REQUEST")(!1)),Object(u.a)("Sorry, a problem occured while trying to save your changes. Please try again or contact an administrator.");case 18:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(e){return n.apply(this,arguments)}}()},N=function(e,t){return function(){var n=Object(s.a)(Object(i.a)().mark((function n(r){var a,o,c,s;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(l.a)("EDIT_TEAM_REGISTRATION_REQUEST")(!0)),a=d.a.firestore(),o=a.collection("leagues").doc(e),n.prev=3,n.next=6,o.update({"registration.team":t});case 6:return n.next=8,o.get();case 8:c=n.sent,s=c.data(),r(Object(l.a)("EDIT_TEAM_REGISTRATION_SUCCESS")(s.registration.team)),Object(u.b)("Changes were succesfully saved!"),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(3),r(Object(l.a)("EDIT_TEAM_REGISTRATION_REQUEST")(!1)),Object(u.a)("Sorry, a problem occured while trying to save your changes. Please try again or contact an administrator.");case 18:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(e){return n.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(s.a)(Object(i.a)().mark((function t(n){var r,a,o,c;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(l.a)("GET_REGISTRATIONS_REQUEST")(!0)),r=d.a.firestore(),a=r.collection("leagues").doc(e),t.prev=3,t.next=6,a.collection("registrations").orderBy("registeredAt","desc").get();case 6:o=t.sent,c=[],o.forEach((function(e){c.push(e.data())})),n(Object(l.a)("GET_REGISTRATIONS_SUCCESS")(c)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),n(Object(l.a)("GET_REGISTRATIONS_REQUEST")(!1)),Object(u.a)("Sorry, a problem occured while trying to retrieve registrations data.");case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},E=function(e,t){return function(){var e=Object(s.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(Object(l.a)("LEAGUE_REGISTER_REQUEST")(!0)),n=d.a.auth().currentUser,n?n.uid:null){e.next=5;break}throw new Error;case 5:throw e.prev=5,Error();case 9:e.prev=9,e.t0=e.catch(5),r="Sorry, an error occured while trying to submit your registration. Please contact an administrator if it repeats.",e.t0.response&&e.t0.response.data&&(r=e.t0.response.data),Object(u.a)(r),t(Object(l.a)("LEAGUE_REGISTER_REQUEST")(!1));case 15:case"end":return e.stop()}}),e,null,[[5,9]])})));return function(t){return e.apply(this,arguments)}}()}},977:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),a=n.n(r),o=n(163),i=n(0),c=a.a.createContext({width:80,expandedWidth:200});c.Consumer;t.b=function(e){var t=Object(o.a)(["xl"],[80],70);return Object(i.jsx)(c.Provider,{value:{width:t,expandedWidth:230},children:e.children})}},986:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(1),a=n(20),o=n(4),i=n(2),c=n.n(i),s=n(278),l=(n(453),n(0)),d=["contentID"],u=Object(o.c)(s.a).withConfig({displayName:"ScrollContainer__StyledSimpleBar",componentId:"sc-1qkkp7f-0"})(["height:100%;.simplebar-mask{z-index:auto;}.simplebar-content-wrapper{::-webkit-scrollbar{display:none;}}.simplebar-content{padding:"," !important;overflow:visible;}.simplebar-track{&.simplebar-vertical{width:9px;}.simplebar-scrollbar{&.simplebar-visible:before{opacity:0.25;}}}"],(function(e){return e.padding||"0"})),m=c.a.createContext({});t.b=function(e){var t=e.contentID,n=Object(a.a)(e,d);return Object(l.jsx)(u,Object(r.a)(Object(r.a)({},n),{},{children:function(n){var a=n.scrollableNodeRef,o=n.contentNodeRef;return Object(l.jsx)("div",Object(r.a)(Object(r.a)({ref:a,className:"simplebar-content-wrapper"},e.scrollableNodeProps),{},{children:Object(l.jsx)("div",{ref:o,className:"simplebar-content",id:t,children:Object(l.jsx)(m.Provider,{value:{scrollableNodeRef:a,contentNodeRef:o},children:e.children})})}))}}))}}}]);